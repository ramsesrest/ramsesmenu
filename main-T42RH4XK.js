var Ep=Object.create;var Ao=Object.defineProperty,Ap=Object.defineProperties,Sp=Object.getOwnPropertyDescriptor,Dp=Object.getOwnPropertyDescriptors,Ip=Object.getOwnPropertyNames,Oc=Object.getOwnPropertySymbols,xp=Object.getPrototypeOf,Lc=Object.prototype.hasOwnProperty,Mp=Object.prototype.propertyIsEnumerable;var Nc=(t,e,r)=>e in t?Ao(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ce=(t,e)=>{for(var r in e||={})Lc.call(e,r)&&Nc(t,r,e[r]);if(Oc)for(var r of Oc(e))Mp.call(e,r)&&Nc(t,r,e[r]);return t},Fe=(t,e)=>Ap(t,Dp(e));var So=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var sn=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Tp=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ip(e))!Lc.call(t,i)&&i!==r&&Ao(t,i,{get:()=>e[i],enumerable:!(n=Sp(e,i))||n.enumerable});return t};var kc=(t,e,r)=>(r=t!=null?Ep(xp(t)):{},Tp(e||!t||!t.__esModule?Ao(r,"default",{value:t,enumerable:!0}):r,t));var ue=(t,e,r)=>new Promise((n,i)=>{var s=l=>{try{a(r.next(l))}catch(c){i(c)}},o=l=>{try{a(r.throw(l))}catch(c){i(c)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,o);a((r=r.apply(t,e)).next())});var Mc=sn(()=>{"use strict"});var fp=sn(()=>{"use strict"});var pp=sn(()=>{"use strict"});var gp=sn(()=>{"use strict"});var mp=sn(()=>{"use strict"});var vp=sn(()=>{"use strict"});var Tc=sn((exports,module)=>{"use strict";(function(e,r){typeof exports=="object"&&typeof module=="object"?module.exports=r():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf",[],r):typeof exports=="object"?exports["pdfjs-dist/build/pdf"]=r():e["pdfjs-dist/build/pdf"]=e.pdfjsLib=r()})(globalThis,()=>(()=>{"use strict";var __webpack_modules__=[,(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.StreamType=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.arrayByteLength=te,e.arraysToBytes=re,e.assert=j,e.bytesToString=Z,e.createPromiseCapability=Lr,e.createValidAbsoluteUrl=w,e.escapeString=xt,e.getModificationDate=wn,e.getVerbosityLevel=I,e.info=C,e.isArrayBuffer=ot,e.isArrayEqual=Gt,e.isAscii=qe,e.objectFromMap=se,e.objectSize=ae,e.setVerbosityLevel=$,e.shadow=N,e.string32=ie,e.stringToBytes=ee,e.stringToPDFString=ze,e.stringToUTF16BEString=$e,e.stringToUTF8String=st,e.unreachable=L,e.utf8StringToString=Ze,e.warn=E,r(2);let n=[1,0,0,1,0,0];e.IDENTITY_MATRIX=n;let i=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=i;let s=1.35;e.LINE_FACTOR=s;let o=.35;e.LINE_DESCENT_FACTOR=o;let a={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=a;let l={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=l;let c="pdfjs_internal_editor_";e.AnnotationEditorPrefix=c;let d={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};e.AnnotationEditorType=d;let u={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};e.AnnotationEditorParamsType=u;let h={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=h;let m={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=m;let f={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=f;let g={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=g;let y={MARKED:"Marked",REVIEW:"Review"};e.AnnotationStateModelType=y;let S={MARKED:"Marked",UNMARKED:"Unmarked"};e.AnnotationMarkedState=S;let A={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};e.AnnotationReviewState=A;let R={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=R;let D={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=D;let v={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=v;let b={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=b;let x={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=x;let k={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=k;let B={O:"PageOpen",C:"PageClose"};e.PageActionEventType=B;let _={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};e.StreamType=_;let O={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};e.FontType=O;let q={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=q;let U={NONE:0,BINARY:1,STREAM:2};e.CMapCompressionType=U;let T={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=T;let M={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};e.UNSUPPORTED_FEATURES=M;let P={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=P;let H=q.WARNINGS;function $(ne){Number.isInteger(ne)&&(H=ne)}function I(){return H}function C(ne){H>=q.INFOS&&console.log(`Info: ${ne}`)}function E(ne){H>=q.WARNINGS&&console.log(`Warning: ${ne}`)}function L(ne){throw new Error(ne)}function j(ne,J){ne||L(J)}function p(ne){if(!ne)return!1;switch(ne.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function w(ne,J=null,K=null){if(!ne)return null;try{if(K&&typeof ne=="string"){if(K.addDefaultProtocol&&ne.startsWith("www.")){let ye=ne.match(/\./g);ye&&ye.length>=2&&(ne=`http://${ne}`)}if(K.tryConvertEncoding)try{ne=st(ne)}catch{}}let le=J?new URL(ne,J):new URL(ne);if(p(le))return le}catch{}return null}function N(ne,J,K){return Object.defineProperty(ne,J,{value:K,enumerable:!0,configurable:!0,writable:!1}),K}let F=function(){function J(K,le){this.constructor===J&&L("Cannot initialize BaseException."),this.message=K,this.name=le}return J.prototype=new Error,J.constructor=J,J}();e.BaseException=F;class V extends F{constructor(J,K){super(J,"PasswordException"),this.code=K}}e.PasswordException=V;class W extends F{constructor(J,K){super(J,"UnknownErrorException"),this.details=K}}e.UnknownErrorException=W;class z extends F{constructor(J){super(J,"InvalidPDFException")}}e.InvalidPDFException=z;class X extends F{constructor(J){super(J,"MissingPDFException")}}e.MissingPDFException=X;class Q extends F{constructor(J,K){super(J,"UnexpectedResponseException"),this.status=K}}e.UnexpectedResponseException=Q;class Y extends F{constructor(J){super(J,"FormatError")}}e.FormatError=Y;class G extends F{constructor(J){super(J,"AbortException")}}e.AbortException=G;function Z(ne){(typeof ne!="object"||ne===null||ne.length===void 0)&&L("Invalid argument for bytesToString");let J=ne.length,K=8192;if(J<K)return String.fromCharCode.apply(null,ne);let le=[];for(let ye=0;ye<J;ye+=K){let Le=Math.min(ye+K,J),Re=ne.subarray(ye,Le);le.push(String.fromCharCode.apply(null,Re))}return le.join("")}function ee(ne){typeof ne!="string"&&L("Invalid argument for stringToBytes");let J=ne.length,K=new Uint8Array(J);for(let le=0;le<J;++le)K[le]=ne.charCodeAt(le)&255;return K}function te(ne){if(ne.length!==void 0)return ne.length;if(ne.byteLength!==void 0)return ne.byteLength;L("Invalid argument for arrayByteLength")}function re(ne){let J=ne.length;if(J===1&&ne[0]instanceof Uint8Array)return ne[0];let K=0;for(let Le=0;Le<J;Le++)K+=te(ne[Le]);let le=0,ye=new Uint8Array(K);for(let Le=0;Le<J;Le++){let Re=ne[Le];Re instanceof Uint8Array||(typeof Re=="string"?Re=ee(Re):Re=new Uint8Array(Re));let Ot=Re.byteLength;ye.set(Re,le),le+=Ot}return ye}function ie(ne){return String.fromCharCode(ne>>24&255,ne>>16&255,ne>>8&255,ne&255)}function ae(ne){return Object.keys(ne).length}function se(ne){let J=Object.create(null);for(let[K,le]of ne)J[K]=le;return J}function Ee(){let ne=new Uint8Array(4);return ne[0]=1,new Uint32Array(ne.buffer,0,1)[0]===1}function Ie(){try{return new Function(""),!0}catch{return!1}}class de{static get isLittleEndian(){return N(this,"isLittleEndian",Ee())}static get isEvalSupported(){return N(this,"isEvalSupported",Ie())}static get isOffscreenCanvasSupported(){return N(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}e.FeatureTest=de;let Pe=[...Array(256).keys()].map(ne=>ne.toString(16).padStart(2,"0"));class He{static makeHexColor(J,K,le){return`#${Pe[J]}${Pe[K]}${Pe[le]}`}static scaleMinMax(J,K){let le;J[0]?(J[0]<0&&(le=K[0],K[0]=K[1],K[1]=le),K[0]*=J[0],K[1]*=J[0],J[3]<0&&(le=K[2],K[2]=K[3],K[3]=le),K[2]*=J[3],K[3]*=J[3]):(le=K[0],K[0]=K[2],K[2]=le,le=K[1],K[1]=K[3],K[3]=le,J[1]<0&&(le=K[2],K[2]=K[3],K[3]=le),K[2]*=J[1],K[3]*=J[1],J[2]<0&&(le=K[0],K[0]=K[1],K[1]=le),K[0]*=J[2],K[1]*=J[2]),K[0]+=J[4],K[1]+=J[4],K[2]+=J[5],K[3]+=J[5]}static transform(J,K){return[J[0]*K[0]+J[2]*K[1],J[1]*K[0]+J[3]*K[1],J[0]*K[2]+J[2]*K[3],J[1]*K[2]+J[3]*K[3],J[0]*K[4]+J[2]*K[5]+J[4],J[1]*K[4]+J[3]*K[5]+J[5]]}static applyTransform(J,K){let le=J[0]*K[0]+J[1]*K[2]+K[4],ye=J[0]*K[1]+J[1]*K[3]+K[5];return[le,ye]}static applyInverseTransform(J,K){let le=K[0]*K[3]-K[1]*K[2],ye=(J[0]*K[3]-J[1]*K[2]+K[2]*K[5]-K[4]*K[3])/le,Le=(-J[0]*K[1]+J[1]*K[0]+K[4]*K[1]-K[5]*K[0])/le;return[ye,Le]}static getAxialAlignedBoundingBox(J,K){let le=He.applyTransform(J,K),ye=He.applyTransform(J.slice(2,4),K),Le=He.applyTransform([J[0],J[3]],K),Re=He.applyTransform([J[2],J[1]],K);return[Math.min(le[0],ye[0],Le[0],Re[0]),Math.min(le[1],ye[1],Le[1],Re[1]),Math.max(le[0],ye[0],Le[0],Re[0]),Math.max(le[1],ye[1],Le[1],Re[1])]}static inverseTransform(J){let K=J[0]*J[3]-J[1]*J[2];return[J[3]/K,-J[1]/K,-J[2]/K,J[0]/K,(J[2]*J[5]-J[4]*J[3])/K,(J[4]*J[1]-J[5]*J[0])/K]}static apply3dTransform(J,K){return[J[0]*K[0]+J[1]*K[1]+J[2]*K[2],J[3]*K[0]+J[4]*K[1]+J[5]*K[2],J[6]*K[0]+J[7]*K[1]+J[8]*K[2]]}static singularValueDecompose2dScale(J){let K=[J[0],J[2],J[1],J[3]],le=J[0]*K[0]+J[1]*K[2],ye=J[0]*K[1]+J[1]*K[3],Le=J[2]*K[0]+J[3]*K[2],Re=J[2]*K[1]+J[3]*K[3],Ot=(le+Re)/2,Un=Math.sqrt((le+Re)**2-4*(le*Re-Le*ye))/2,Cn=Ot+Un||1,lt=Ot-Un||1;return[Math.sqrt(Cn),Math.sqrt(lt)]}static normalizeRect(J){let K=J.slice(0);return J[0]>J[2]&&(K[0]=J[2],K[2]=J[0]),J[1]>J[3]&&(K[1]=J[3],K[3]=J[1]),K}static intersect(J,K){let le=Math.max(Math.min(J[0],J[2]),Math.min(K[0],K[2])),ye=Math.min(Math.max(J[0],J[2]),Math.max(K[0],K[2]));if(le>ye)return null;let Le=Math.max(Math.min(J[1],J[3]),Math.min(K[1],K[3])),Re=Math.min(Math.max(J[1],J[3]),Math.max(K[1],K[3]));return Le>Re?null:[le,Le,ye,Re]}static bezierBoundingBox(J,K,le,ye,Le,Re,Ot,Un){let Cn=[],lt=[[],[]],Hn,rn,Oi,Qe,Ni,Li,wo,Co;for(let Eo=0;Eo<2;++Eo){if(Eo===0?(rn=6*J-12*le+6*Le,Hn=-3*J+9*le-9*Le+3*Ot,Oi=3*le-3*J):(rn=6*K-12*ye+6*Re,Hn=-3*K+9*ye-9*Re+3*Un,Oi=3*ye-3*K),Math.abs(Hn)<1e-12){if(Math.abs(rn)<1e-12)continue;Qe=-Oi/rn,0<Qe&&Qe<1&&Cn.push(Qe);continue}wo=rn*rn-4*Oi*Hn,Co=Math.sqrt(wo),!(wo<0)&&(Ni=(-rn+Co)/(2*Hn),0<Ni&&Ni<1&&Cn.push(Ni),Li=(-rn-Co)/(2*Hn),0<Li&&Li<1&&Cn.push(Li))}let kr=Cn.length,ft,Fr=kr;for(;kr--;)Qe=Cn[kr],ft=1-Qe,lt[0][kr]=ft*ft*ft*J+3*ft*ft*Qe*le+3*ft*Qe*Qe*Le+Qe*Qe*Qe*Ot,lt[1][kr]=ft*ft*ft*K+3*ft*ft*Qe*ye+3*ft*Qe*Qe*Re+Qe*Qe*Qe*Un;return lt[0][Fr]=J,lt[1][Fr]=K,lt[0][Fr+1]=Ot,lt[1][Fr+1]=Un,lt[0].length=lt[1].length=Fr+2,[Math.min(...lt[0]),Math.min(...lt[1]),Math.max(...lt[0]),Math.max(...lt[1])]}}e.Util=He;let it=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function ze(ne){if(ne[0]>="\xEF"){let K;if(ne[0]==="\xFE"&&ne[1]==="\xFF"?K="utf-16be":ne[0]==="\xFF"&&ne[1]==="\xFE"?K="utf-16le":ne[0]==="\xEF"&&ne[1]==="\xBB"&&ne[2]==="\xBF"&&(K="utf-8"),K)try{let le=new TextDecoder(K,{fatal:!0}),ye=ee(ne);return le.decode(ye)}catch(le){E(`stringToPDFString: "${le}".`)}}let J=[];for(let K=0,le=ne.length;K<le;K++){let ye=it[ne.charCodeAt(K)];J.push(ye?String.fromCharCode(ye):ne.charAt(K))}return J.join("")}function xt(ne){return ne.replace(/([()\\\n\r])/g,J=>J===`
`?"\\n":J==="\r"?"\\r":`\\${J}`)}function qe(ne){return/^[\x00-\x7F]*$/.test(ne)}function $e(ne){let J=["\xFE\xFF"];for(let K=0,le=ne.length;K<le;K++){let ye=ne.charCodeAt(K);J.push(String.fromCharCode(ye>>8&255),String.fromCharCode(ye&255))}return J.join("")}function st(ne){return decodeURIComponent(escape(ne))}function Ze(ne){return unescape(encodeURIComponent(ne))}function ot(ne){return typeof ne=="object"&&ne!==null&&ne.byteLength!==void 0}function Gt(ne,J){if(ne.length!==J.length)return!1;for(let K=0,le=ne.length;K<le;K++)if(ne[K]!==J[K])return!1;return!0}function wn(ne=new Date){return[ne.getUTCFullYear().toString(),(ne.getUTCMonth()+1).toString().padStart(2,"0"),ne.getUTCDate().toString().padStart(2,"0"),ne.getUTCHours().toString().padStart(2,"0"),ne.getUTCMinutes().toString().padStart(2,"0"),ne.getUTCSeconds().toString().padStart(2,"0")].join("")}function Lr(){let ne=Object.create(null),J=!1;return Object.defineProperty(ne,"settled",{get(){return J}}),ne.promise=new Promise(function(K,le){ne.resolve=function(ye){J=!0,K(ye)},ne.reject=function(ye){J=!0,le(ye)}}),ne}},(t,e,r)=>{var n=r(3)},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;let r=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=r},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){let{NodeCanvasFactory:t,NodeCMapReaderFactory:e,NodeStandardFontDataFactory:r}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=t,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=e,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=r}let createPDFNetworkStream;function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){let e=new PDFDocumentLoadingTask,r;if(typeof t=="string"||t instanceof URL)r={url:t};else if((0,_util.isArrayBuffer)(t))r={data:t};else if(t instanceof PDFDataRangeTransport)r={range:t};else{if(typeof t!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");r=t}let n=Object.create(null),i=null,s=null;for(let a in r){let l=r[a];switch(a){case"url":if(typeof window<"u")try{n[a]=new URL(l,window.location).href;continue}catch(c){(0,_util.warn)(`Cannot create valid URL: "${c}".`)}else if(typeof l=="string"||l instanceof URL){n[a]=l.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=l;continue;case"worker":s=l;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&l instanceof Buffer)n[a]=new Uint8Array(l);else{if(l instanceof Uint8Array)break;if(typeof l=="string")n[a]=(0,_util.stringToBytes)(l);else if(typeof l=="object"&&l!==null&&!isNaN(l.length))n[a]=new Uint8Array(l);else if((0,_util.isArrayBuffer)(l))n[a]=new Uint8Array(l);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}n[a]=l}if(n.CMapReaderFactory=n.CMapReaderFactory||DefaultCMapReaderFactory,n.StandardFontDataFactory=n.StandardFontDataFactory||DefaultStandardFontDataFactory,n.ignoreErrors=n.stopAtErrors!==!0,n.fontExtraProperties=n.fontExtraProperties===!0,n.pdfBug=n.pdfBug===!0,n.enableXfa=n.enableXfa===!0,(!Number.isInteger(n.rangeChunkSize)||n.rangeChunkSize<1)&&(n.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof n.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(n.docBaseUrl))&&(n.docBaseUrl=null),(!Number.isInteger(n.maxImageSize)||n.maxImageSize<-1)&&(n.maxImageSize=-1),typeof n.cMapUrl!="string"&&(n.cMapUrl=null),typeof n.standardFontDataUrl!="string"&&(n.standardFontDataUrl=null),typeof n.useWorkerFetch!="boolean"&&(n.useWorkerFetch=n.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&n.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof n.isEvalSupported!="boolean"&&(n.isEvalSupported=!0),typeof n.disableFontFace!="boolean"&&(n.disableFontFace=_is_node.isNodeJS),typeof n.useSystemFonts!="boolean"&&(n.useSystemFonts=!_is_node.isNodeJS&&!n.disableFontFace),(typeof n.ownerDocument!="object"||n.ownerDocument===null)&&(n.ownerDocument=globalThis.document),typeof n.disableRange!="boolean"&&(n.disableRange=!1),typeof n.disableStream!="boolean"&&(n.disableStream=!1),typeof n.disableAutoFetch!="boolean"&&(n.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(n.verbosity),!s){let a={verbosity:n.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};s=a.port?PDFWorker.fromPort(a):new PDFWorker(a),e._worker=s}let o=e.docId;return s.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");let a=_fetchDocument(s,n,i,o),l=new Promise(function(c){let d;i?d=new _transport_stream.PDFDataTransportStream({length:n.length,initialData:n.initialData,progressiveDone:n.progressiveDone,contentDispositionFilename:n.contentDispositionFilename,disableRange:n.disableRange,disableStream:n.disableStream},i):n.data||(d=createPDFNetworkStream({url:n.url,length:n.length,httpHeaders:n.httpHeaders,withCredentials:n.withCredentials,rangeChunkSize:n.rangeChunkSize,disableRange:n.disableRange,disableStream:n.disableStream})),c(d)});return Promise.all([a,l]).then(function([c,d]){if(e.destroyed)throw new Error("Loading aborted");let u=new _message_handler.MessageHandler(o,c,s.port),h=new WorkerTransport(u,e,d,n);e._transport=h,u.send("Ready",null)})}).catch(e._capability.reject),e}function _fetchDocument(t,e,r,n){return ue(this,null,function*(){if(t.destroyed)throw new Error("Worker was destroyed");r&&(e.length=r.length,e.initialData=r.initialData,e.progressiveDone=r.progressiveDone,e.contentDispositionFilename=r.contentDispositionFilename);let i=yield t.messageHandler.sendWithPromise("GetDocRequest",{docId:n,apiVersion:"2.16.105",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa,useSystemFonts:e.useSystemFonts,cMapUrl:e.useWorkerFetch?e.cMapUrl:null,standardFontDataUrl:e.useWorkerFetch?e.standardFontDataUrl:null});if(e.data&&(e.data=null),t.destroyed)throw new Error("Worker was destroyed");return i})}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){return ue(this,null,function*(){this.destroyed=!0,yield this._transport?.destroy(),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,r,n=!1,i=null){this.length=e,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,r){for(let n of this._rangeListeners)n(e,r)}onDataProgress(e,r){this._readyCapability.promise.then(()=>{for(let n of this._progressListeners)n(e,r)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(let r of this._progressiveReadListeners)r(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,r){this._pdfInfo=e,this._transport=r,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:()=>ue(this,null,function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(e,r,n,i,s=!1){this._pageIndex=e,this._pageInfo=r,this._ownerDocument=i,this._transport=n,this._stats=s?new _display_utils.StatTimer:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:r=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){let r=this._transport.getRenderingIntent(e),n=this._annotationPromises.get(r.cacheKey);return n||(n=this._transport.getAnnotations(this._pageIndex,r.renderingIntent),this._annotationPromises.set(r.cacheKey,n),n=n.then(i=>{for(let s of i)s.titleObj!==void 0&&Object.defineProperty(s,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),s.titleObj.str}}),s.contentsObj!==void 0&&Object.defineProperty(s,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),s.contentsObj.str}});return i})),n}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){return ue(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:e,viewport:r,intent:n="display",annotationMode:i=_util.AnnotationMode.ENABLE,transform:s=null,imageLayer:o=null,canvasFactory:a=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:u=null,printAnnotationStorage:h=null}){arguments[0]?.renderInteractiveForms!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&i===_util.AnnotationMode.ENABLE&&(i=_util.AnnotationMode.ENABLE_FORMS)),arguments[0]?.includeAnnotationStorage!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&i===_util.AnnotationMode.ENABLE&&(i=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");let m=this._transport.getRenderingIntent(n,i,h);this.pendingCleanup=!1,c||(c=this._transport.getOptionalContentConfig());let f=this._intentStates.get(m.cacheKey);f||(f=Object.create(null),this._intentStates.set(m.cacheKey,f)),f.streamReaderCancelTimeout&&(clearTimeout(f.streamReaderCancelTimeout),f.streamReaderCancelTimeout=null);let g=a||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),y=!!(m.renderingIntent&_util.RenderingIntentFlag.PRINT);f.displayReadyCapability||(f.displayReadyCapability=(0,_util.createPromiseCapability)(),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(m));let S=D=>{f.renderTasks.delete(A),(this.cleanupAfterRender||y)&&(this.pendingCleanup=!0),this._tryCleanup(),D?(A.capability.reject(D),this._abortOperatorList({intentState:f,reason:D instanceof Error?D:new Error(D)})):A.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},A=new InternalRenderTask({callback:S,params:{canvasContext:e,viewport:r,transform:s,imageLayer:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:f.operatorList,pageIndex:this._pageIndex,canvasFactory:g,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:u});(f.renderTasks||=new Set).add(A);let R=A.task;return Promise.all([f.displayReadyCapability.promise,c]).then(([D,v])=>{if(this.pendingCleanup){S();return}this._stats&&this._stats.time("Rendering"),A.initializeGraphics({transparency:D,optionalContentConfig:v}),A.operatorListChanged()}).catch(S),R}getOperatorList({intent:e="display",annotationMode:r=_util.AnnotationMode.ENABLE,printAnnotationStorage:n=null}={}){function i(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(a))}let s=this._transport.getRenderingIntent(e,r,n,!0),o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let a;return o.opListReadCapability||(a=Object.create(null),a.operatorListChanged=i,o.opListReadCapability=(0,_util.createPromiseCapability)(),(o.renderTasks||=new Set).add(a),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({disableCombineTextItems:e=!1,includeMarkedContent:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:e!==!0,includeMarkedContent:r===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>_xfa_text.XfaText.textContent(n));let r=this.streamTextContent(e);return new Promise(function(n,i){function s(){o.read().then(function({value:l,done:c}){if(c){n(a);return}Object.assign(a.styles,l.styles),a.items.push(...l.items),s()},i)}let o=r.getReader(),a={items:[],styles:Object.create(null)};s()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let e=[];for(let r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(let n of r.renderTasks)e.push(n.completed),n.cancel();this.objs.clear();for(let r of this._bitmaps)r.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(e)}cleanup(e=!1){return this.pendingCleanup=!0,this._tryCleanup(e)}_tryCleanup(e=!1){if(!this.pendingCleanup)return!1;for(let{renderTasks:r,operatorList:n}of this._intentStates.values())if(r.size>0||!n.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer);for(let r of this._bitmaps)r.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(e,r){let n=this._intentStates.get(r);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(e))}_renderPageChunk(e,r){for(let n=0,i=e.length;n<i;n++)r.operatorList.fnArray.push(e.fnArray[n]),r.operatorList.argsArray.push(e.argsArray[n]);r.operatorList.lastChunk=e.lastChunk,r.operatorList.separateAnnots=e.separateAnnots;for(let n of r.renderTasks)n.operatorListChanged();e.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:e,cacheKey:r,annotationStorageMap:n}){let s=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:r,annotationStorage:n}).getReader(),o=this._intentStates.get(r);o.streamReader=s;let a=()=>{s.read().then(({value:l,done:c})=>{if(c){o.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(l,o),a())},l=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(let c of o.renderTasks)c.operatorListChanged();this._tryCleanup()}if(o.displayReadyCapability)o.displayReadyCapability.reject(l);else if(o.opListReadCapability)o.opListReadCapability.reject(l);else throw l}})};a()}_abortOperatorList({intentState:e,reason:r,force:n=!1}){if(e.streamReader){if(!n){if(e.renderTasks.size>0)return;if(r instanceof _display_utils.RenderingCancelledException){e.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:e,reason:r,force:!0}),e.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(e.streamReader.cancel(new _util.AbortException(r.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(let[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(e,r){let n={data:structuredClone(e,r)};this._deferred.then(()=>{for(let i of this._listeners)i.call(this,n)})}addEventListener(e,r){this._listeners.push(r)}removeEventListener(e,r){let n=this._listeners.indexOf(r);this._listeners.splice(n,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;let PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof So=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){let t=document?.currentScript?.src;t&&(PDFWorkerUtil.fallbackWorkerSrc=t.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(t,e){let r;try{if(r=new URL(t),!r.origin||r.origin==="null")return!1}catch{return!1}let n=new URL(e,r);return r.origin===n.origin},PDFWorkerUtil.createCDNWrapper=function(t){let e=`importScripts("${t}");`;return URL.createObjectURL(new Blob([e]))}}class PDFWorker{static#workerPorts=new WeakMap;constructor({name:t=null,port:e=null,verbosity:r=(0,_util.getVerbosityLevel)()}={}){if(e&&PDFWorker.#workerPorts.has(e))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=t,this.destroyed=!1,this.verbosity=r,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,e){PDFWorker.#workerPorts.set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:t}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,t)||(t=PDFWorkerUtil.createCDNWrapper(new URL(t,window.location).href));let e=new Worker(t),r=new _message_handler.MessageHandler("main","worker",e),n=()=>{e.removeEventListener("error",i),r.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||n()};e.addEventListener("error",i),r.on("test",o=>{if(e.removeEventListener("error",i),this.destroyed){n();return}o?(this._messageHandler=r,this._port=e,this._webWorker=e,this._readyCapability.resolve(),r.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),r.destroy(),e.terminate())}),r.on("ready",o=>{if(e.removeEventListener("error",i),this.destroyed){n();return}try{s()}catch{this._setupFakeWorker()}});let s=()=>{let o=new Uint8Array;r.send("test",o,[o.buffer])};s();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let e=new LoopbackPort;this._port=e;let r=`fake${PDFWorkerUtil.fakeWorkerId++}`,n=new _message_handler.MessageHandler(r+"_worker",r,e);t.setup(n,e);let i=new _message_handler.MessageHandler(r,r+"_worker",e);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){if(!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#workerPorts.has(t.port)?this.#workerPorts.get(t.port):new PDFWorker(t)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){let loader=()=>ue(this,null,function*(){let mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof So=="function"){let worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#e=null;#t=new Map;#n=new Map;#r=null;constructor(e,r,n,i){this.messageHandler=e,this.loadingTask=r,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:r.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this._params=i,i.useWorkerFetch||(this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.StandardFontDataFactory=new i.StandardFontDataFactory({baseUrl:i.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#e}getRenderingIntent(e,r=_util.AnnotationMode.ENABLE,n=null,i=!1){let s=_util.RenderingIntentFlag.DISPLAY,o=null;switch(e){case"any":s=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":s=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(r){case _util.AnnotationMode.DISABLE:s+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:s+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:s+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,o=(s&_util.RenderingIntentFlag.PRINT&&n instanceof _annotation_storage.PrintAnnotationStorage?n:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${r}`)}return i&&(s+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:s,cacheKey:`${s}_${_annotation_storage.AnnotationStorage.getHash(o)}`,annotationStorageMap:o}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));let e=[];for(let n of this.#t.values())e.push(n._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let r=this.messageHandler.sendWithPromise("Terminate",null);return e.push(r),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#r=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:e,loadingTask:r}=this;e.on("GetReader",(n,i)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){i.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(s),"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",n=>{let i=(0,_util.createPromiseCapability)(),s=this._fullReader;return s.headersReady.then(()=>{(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&r.onProgress?.(this._lastProgress),s.onProgress=o=>{r.onProgress?.({loaded:o.loaded,total:o.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(n,i)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){i.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(o),"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{s.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new PDFDocumentProxy(n,this))}),e.on("DocException",function(n){let i;switch(n.name){case"PasswordException":i=new _util.PasswordException(n.message,n.code);break;case"InvalidPDFException":i=new _util.InvalidPDFException(n.message);break;case"MissingPDFException":i=new _util.MissingPDFException(n.message);break;case"UnexpectedResponseException":i=new _util.UnexpectedResponseException(n.message,n.status);break;case"UnknownErrorException":i=new _util.UnknownErrorException(n.message,n.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}r._capability.reject(i)}),e.on("PasswordRequest",n=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),r.onPassword){let i=s=>{s instanceof Error?this._passwordCapability.reject(s):this._passwordCapability.resolve({password:s})};try{r.onPassword(i,n.code)}catch(s){this._passwordCapability.reject(s)}}else this._passwordCapability.reject(new _util.PasswordException(n.message,n.code));return this._passwordCapability.promise}),e.on("DataLoaded",n=>{r.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;this.#t.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,s])=>{if(!this.destroyed&&!this.commonObjs.has(n))switch(i){case"Font":let o=this._params;if("error"in s){let c=s.error;(0,_util.warn)(`Error during font loading: ${c}`),this.commonObjs.resolve(n,c);break}let a=null;o.pdfBug&&globalThis.FontInspector?.enabled&&(a={registerFont(c,d){globalThis.FontInspector.fontAdded(c,d)}});let l=new _font_loader.FontFaceObject(s,{isEvalSupported:o.isEvalSupported,disableFontFace:o.disableFontFace,ignoreErrors:o.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:a});this.fontLoader.bind(l).catch(c=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!o.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(n,l)});break;case"FontPath":case"Image":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${i}`)}}),e.on("obj",([n,i,s,o])=>{if(this.destroyed)return;let a=this.#t.get(i);if(!a.objs.has(n))switch(s){case"Image":a.objs.resolve(n,o);let l=8e6;if(o){let c;if(o.bitmap){let{bitmap:d,width:u,height:h}=o;c=u*h*4,a._bitmaps.add(d)}else c=o.data?.length||0;c>l&&(a.cleanupAfterRender=!0)}break;case"Pattern":a.objs.resolve(n,o);break;default:throw new Error(`Got unknown object type ${s}`)}}),e.on("DocProgress",n=>{this.destroyed||r.onProgress?.({loaded:n.loaded,total:n.total})}),e.on("DocStats",n=>{this.destroyed||(this.#e=Object.freeze({streamTypes:Object.freeze(n.streamTypes),fontTypes:Object.freeze(n.fontTypes)}))}),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:e}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(e)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));let r=e-1,n=this.#n.get(r);if(n)return n;let i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");let o=new PDFPageProxy(r,s,this,this._params.ownerDocument,this._params.pdfBug);return this.#t.set(r,o),o});return this.#n.set(r,i),i}getPageIndex(e){return typeof e!="object"||e===null||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:r})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(e=>new _optional_content_config.OptionalContentConfig(e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#r||=this.messageHandler.sendWithPromise("GetMetadata",null).then(e=>({info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){return ue(this,null,function*(){if(yield this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(let r of this.#t.values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#r=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}})}get loadingParams(){let e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,enableXfa:e.enableXfa})}}class PDFObjects{#e=Object.create(null);#t(e){let r=this.#e[e];return r||(this.#e[e]={capability:(0,_util.createPromiseCapability)(),data:null})}get(e,r=null){if(r){let i=this.#t(e);return i.capability.promise.then(()=>r(i.data)),null}let n=this.#e[e];if(!n?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){return this.#e[e]?.capability.settled||!1}resolve(e,r=null){let n=this.#t(e);n.data=r,n.capability.resolve()}clear(){this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(){this.#e.cancel()}get separateAnnots(){let{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;let{annotationCanvasMap:r}=this.#e;return e.form||e.canvas&&r?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:e,params:r,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:l,useRequestAnimationFrame:c=!1,pdfBug:d=!1,pageColors:u=null}){this.callback=e,this.params=r,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this._pdfBug=d,this.pageColors=u,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=c===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:r}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:n,viewport:i,transform:s,imageLayer:o,background:a}=this.params;this.gfx=new _canvas.CanvasGraphics(n,this.commonObjs,this.objs,this.canvasFactory,o,r,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(e=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#e.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return ue(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#e.delete(this._canvas),this.callback())))})}}let version="2.16.105";exports.version=version;let build="172ccdbe5";exports.build=build},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var n=r(1),i=r(6),s=r(10);class o{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(c,d){let u=this._storage.get(c);return u===void 0?d:Object.assign(d,u)}getRawValue(c){return this._storage.get(c)}remove(c){if(this._storage.delete(c),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let d of this._storage.values())if(d instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(c,d){let u=this._storage.get(c),h=!1;if(u!==void 0)for(let[m,f]of Object.entries(d))u[m]!==f&&(h=!0,u[m]=f);else h=!0,this._storage.set(c,d);h&&this.#e(),d instanceof i.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(d.constructor._type)}has(c){return this._storage.has(c)}getAll(){return this._storage.size>0?(0,n.objectFromMap)(this._storage):null}get size(){return this._storage.size}#e(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new a(this)}get serializable(){if(this._storage.size===0)return null;let c=new Map;for(let[d,u]of this._storage){let h=u instanceof i.AnnotationEditor?u.serialize():u;h&&c.set(d,h)}return c}static getHash(c){if(!c)return"";let d=new s.MurmurHash3_64;for(let[u,h]of c)d.update(`${u}:${JSON.stringify(h)}`);return d.hexdigest()}}e.AnnotationStorage=o;class a extends o{#e=null;constructor(c){super(),this.#e=structuredClone(c.serializable)}get print(){(0,n.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}e.PrintAnnotationStorage=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var n=r(7),i=r(1);class s{#e=this.focusin.bind(this);#t=this.focusout.bind(this);#n=!1;#r=!1;#s=!1;#c=s._zIndex++;static _colorManager=new n.ColorManager;static _zIndex=1;constructor(a){this.constructor===s&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=a.parent,this.id=a.id,this.width=this.height=null,this.pageIndex=a.parent.pageIndex,this.name=a.name,this.div=null;let[l,c]=this.parent.viewportBaseDimensions;this.x=a.x/l,this.y=a.y/c,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#c}focusin(a){this.#n?this.#n=!1:this.parent.setSelected(this)}focusout(a){!this.isAttachedToDOM||a.relatedTarget?.closest(`#${this.id}`)||(a.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(a){let l=this.parent.div.getBoundingClientRect();this.startX=a.clientX-l.x,this.startY=a.clientY-l.y,a.dataTransfer.setData("text/plain",this.id),a.dataTransfer.effectAllowed="move"}setAt(a,l,c,d){let[u,h]=this.parent.viewportBaseDimensions;[c,d]=this.screenToPageTranslation(c,d),this.x=(a+c)/u,this.y=(l+d)/h,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(a,l){let[c,d]=this.parent.viewportBaseDimensions;[a,l]=this.screenToPageTranslation(a,l),this.x+=a/c,this.y+=l/d,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(a,l){let{rotation:c}=this.parent.viewport;switch(c){case 90:return[l,-a];case 180:return[-a,-l];case 270:return[-l,a];default:return[a,l]}}setDims(a,l){let[c,d]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*a/c}%`,this.div.style.height=`${100*l/d}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#e),this.div.addEventListener("focusout",this.#t);let[a,l]=this.getInitialTranslation();return this.translate(a,l),(0,n.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(a){let l=n.KeyboardManager.platform.isMac;if(a.button!==0||a.ctrlKey&&l){a.preventDefault();return}a.ctrlKey&&!l||a.shiftKey||a.metaKey&&l?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#n=!0}getRect(a,l){let[c,d]=this.parent.viewportBaseDimensions,[u,h]=this.parent.pageDimensions,m=u*a/c,f=h*l/d,g=this.x*u,y=this.y*h,S=this.width*u,A=this.height*h;switch(this.rotation){case 0:return[g+m,h-y-f-A,g+m+S,h-y-f];case 90:return[g+f,h-y+m,g+f+A,h-y+m+S];case 180:return[g-m-S,h-y+f,g-m,h-y+f+A];case 270:return[g-f-A,h-y-m-S,g-f,h-y-m];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(a,l){let[c,d,u,h]=a,m=u-c,f=h-d;switch(this.rotation){case 0:return[c,l-h,m,f];case 90:return[c,l-d,f,m];case 180:return[u,l-d,m,f];case 270:return[u,l-h,f,m];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#s=!0}disableEditMode(){this.#s=!1}isInEditMode(){return this.#s}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#e)}serialize(){(0,i.unreachable)("An editor must be serializable")}static deserialize(a,l){let c=new this.prototype.constructor({parent:l,id:l.getNextId()});c.rotation=a.rotation;let[d,u]=l.pageDimensions,[h,m,f,g]=c.getRectInCurrentCoords(a.rect,u);return c.x=h/d,c.y=m/u,c.width=f/d,c.height=g/u,c}remove(){this.div.removeEventListener("focusin",this.#e),this.div.removeEventListener("focusout",this.#t),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(a,l){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#r}set isEditing(a){this.#r=a,a?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}e.AnnotationEditor=s},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=s,e.opacityToHex=o;var n=r(1),i=r(8);function s(m,f,g){for(let y of g)f.addEventListener(y,m[y].bind(m))}function o(m){return Math.round(Math.min(255,Math.max(1,255*m))).toString(16).padStart(2,"0")}class a{#e=0;getId(){return`${n.AnnotationEditorPrefix}${this.#e++}`}}class l{#e=[];#t=!1;#n;#r=-1;constructor(f=128){this.#n=f}add({cmd:f,undo:g,mustExec:y,type:S=NaN,overwriteIfSameType:A=!1,keepUndo:R=!1}){if(y&&f(),this.#t)return;let D={cmd:f,undo:g,type:S};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(D);return}if(A&&this.#e[this.#r].type===S){R&&(D.undo=this.#e[this.#r].undo),this.#e[this.#r]=D;return}let v=this.#r+1;v===this.#n?this.#e.splice(0,1):(this.#r=v,v<this.#e.length&&this.#e.splice(v)),this.#e.push(D)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}e.CommandManager=l;class c{constructor(f){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let g=c.platform.isMac;for(let[y,S]of f)for(let A of y){let R=A.startsWith("mac+");g&&R?(this.callbacks.set(A.slice(4),S),this.allKeys.add(A.split("+").at(-1))):!g&&!R&&(this.callbacks.set(A,S),this.allKeys.add(A.split("+").at(-1)))}}static get platform(){let f=typeof navigator<"u"?navigator.platform:"";return(0,n.shadow)(this,"platform",{isWin:f.includes("Win"),isMac:f.includes("Mac")})}#e(f){f.altKey&&this.buffer.push("alt"),f.ctrlKey&&this.buffer.push("ctrl"),f.metaKey&&this.buffer.push("meta"),f.shiftKey&&this.buffer.push("shift"),this.buffer.push(f.key);let g=this.buffer.join("+");return this.buffer.length=0,g}exec(f,g){if(!this.allKeys.has(g.key))return;let y=this.callbacks.get(this.#e(g));y&&(y.bind(f)(),g.stopPropagation(),g.preventDefault())}}e.KeyboardManager=c;class d{#e=null;copy(f){f&&(Array.isArray(f)?this.#e=f.map(g=>g.serialize()):this.#e=[f.serialize()],this.#e=this.#e.filter(g=>!!g),this.#e.length===0&&(this.#e=null))}paste(){return this.#e}isEmpty(){return this.#e===null}destroy(){this.#e=null}}class u{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let f=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(f),(0,n.shadow)(this,"_colors",f)}convert(f){let g=(0,i.getRGB)(f);if(!window.matchMedia("(forced-colors: active)").matches)return g;for(let[y,S]of this._colors)if(S.every((A,R)=>A===g[R]))return u._colorsMapping.get(y);return g}getHexCode(f){let g=this._colors.get(f);return g?n.Util.makeHexColor(...g):f}}e.ColorManager=u;class h{#e=null;#t=new Map;#n=new Map;#r=new d;#s=new l;#c=0;#a=null;#i=null;#h=new a;#u=!1;#l=n.AnnotationEditorType.NONE;#o=new Set;#p=this.keydown.bind(this);#f=this.onEditingAction.bind(this);#y=this.onPageChanging.bind(this);#m={isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#v=null;static _keyboardManager=new c([[["ctrl+a","mac+meta+a"],h.prototype.selectAll],[["ctrl+c","mac+meta+c"],h.prototype.copy],[["ctrl+v","mac+meta+v"],h.prototype.paste],[["ctrl+x","mac+meta+x"],h.prototype.cut],[["ctrl+z","mac+meta+z"],h.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],h.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],h.prototype.delete],[["Escape","mac+Escape"],h.prototype.unselectAll]]);constructor(f,g){this.#v=f,this.#i=g,this.#i._on("editingaction",this.#f),this.#i._on("pagechanging",this.#y)}destroy(){this.#_(),this.#i._off("editingaction",this.#f),this.#i._off("pagechanging",this.#y);for(let f of this.#n.values())f.destroy();this.#n.clear(),this.#t.clear(),this.#e=null,this.#o.clear(),this.#r.destroy(),this.#s.destroy()}onPageChanging({pageNumber:f}){this.#c=f-1}focusMainContainer(){this.#v.focus()}#C(){this.#v.addEventListener("keydown",this.#p)}#_(){this.#v.removeEventListener("keydown",this.#p)}keydown(f){this.getActive()?.shouldGetKeyboardEvents()||h._keyboardManager.exec(this,f)}onEditingAction(f){["undo","redo","cut","copy","paste","delete","selectAll"].includes(f.name)&&this[f.name]()}#d(f){Object.entries(f).some(([y,S])=>this.#m[y]!==S)&&this.#i.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#m,f)})}#E(f){this.#i.dispatch("annotationeditorparamschanged",{source:this,details:f})}setEditingState(f){f?(this.#C(),this.#d({isEditing:this.#l!==n.AnnotationEditorType.NONE,isEmpty:this.#b(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:this.#r.isEmpty()})):(this.#_(),this.#d({isEditing:!1}))}registerEditorTypes(f){this.#a=f;for(let g of this.#a)this.#E(g.defaultPropertiesToUpdate)}getId(){return this.#h.getId()}addLayer(f){this.#n.set(f.pageIndex,f),this.#u?f.enable():f.disable()}removeLayer(f){this.#n.delete(f.pageIndex)}updateMode(f){if(this.#l=f,f===n.AnnotationEditorType.NONE)this.setEditingState(!1),this.#g();else{this.setEditingState(!0),this.#I();for(let g of this.#n.values())g.updateMode(f)}}updateToolbar(f){f!==this.#l&&this.#i.dispatch("switchannotationeditormode",{source:this,mode:f})}updateParams(f,g){for(let y of this.#o)y.updateParams(f,g);for(let y of this.#a)y.updateDefaultParams(f,g)}#I(){if(!this.#u){this.#u=!0;for(let f of this.#n.values())f.enable()}}#g(){if(this.unselectAll(),this.#u){this.#u=!1;for(let f of this.#n.values())f.disable()}}getEditors(f){let g=[];for(let y of this.#t.values())y.pageIndex===f&&g.push(y);return g}getEditor(f){return this.#t.get(f)}addEditor(f){this.#t.set(f.id,f)}removeEditor(f){this.#t.delete(f.id),this.unselect(f)}#A(f){let g=this.#n.get(f.pageIndex);g?g.addOrRebuild(f):this.addEditor(f)}setActiveEditor(f){this.#e!==f&&(this.#e=f,f&&this.#E(f.propertiesToUpdate))}toggleSelected(f){if(this.#o.has(f)){this.#o.delete(f),f.unselect(),this.#d({hasSelectedEditor:this.hasSelection});return}this.#o.add(f),f.select(),this.#E(f.propertiesToUpdate),this.#d({hasSelectedEditor:!0})}setSelected(f){for(let g of this.#o)g!==f&&g.unselect();this.#o.clear(),this.#o.add(f),f.select(),this.#E(f.propertiesToUpdate),this.#d({hasSelectedEditor:!0})}isSelected(f){return this.#o.has(f)}unselect(f){f.unselect(),this.#o.delete(f),this.#d({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#o.size!==0}undo(){this.#s.undo(),this.#d({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#b()})}redo(){this.#s.redo(),this.#d({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#b()})}addCommands(f){this.#s.add(f),this.#d({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#b()})}#b(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(let f of this.#t.values())return f.isEmpty();return!1}delete(){if(this.#e&&this.#e.commitOrRemove(),!this.hasSelection)return;let f=[...this.#o],g=()=>{for(let S of f)S.remove()},y=()=>{for(let S of f)this.#A(S)};this.addCommands({cmd:g,undo:y,mustExec:!0})}copy(){if(this.#e&&this.#e.commitOrRemove(),this.hasSelection){let f=[];for(let g of this.#o)g.isEmpty()||f.push(g);if(f.length===0)return;this.#r.copy(f),this.#d({hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(this.#r.isEmpty())return;this.unselectAll();let f=this.#n.get(this.#c),g=this.#r.paste().map(A=>f.deserialize(A)),y=()=>{for(let A of g)this.#A(A);this.#w(g)},S=()=>{for(let A of g)A.remove()};this.addCommands({cmd:y,undo:S,mustExec:!0})}#w(f){this.#o.clear();for(let g of f)g.isEmpty()||(this.#o.add(g),g.select());this.#d({hasSelectedEditor:!0})}selectAll(){for(let f of this.#o)f.commit();this.#w(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.#w.size!==0){for(let f of this.#o)f.unselect();this.#o.clear(),this.#d({hasSelectedEditor:!1})}}isActive(f){return this.#e===f}getActive(){return this.#e}getMode(){return this.#l}}e.AnnotationEditorUIManager=h},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=e.AnnotationPrefix=void 0,e.deprecated=b,e.getColorValues=O,e.getCurrentTransform=q,e.getCurrentTransformInverse=U,e.getFilenameFromUrl=S,e.getPdfFilenameFromUrl=A,e.getRGB=_,e.getXfaPageViewport=B,e.isDataScheme=g,e.isPdfFile=y,e.isValidFetchUrl=D,e.loadScript=v;var n=r(9),i=r(1);let s="http://www.w3.org/2000/svg",o="pdfjs_internal_id_";e.AnnotationPrefix=o;class a{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}e.PixelsPerInch=a;class l extends n.BaseCanvasFactory{constructor({ownerDocument:M=globalThis.document}={}){super(),this._document=M}_createCanvas(M,P){let H=this._document.createElement("canvas");return H.width=M,H.height=P,H}}e.DOMCanvasFactory=l;function c(T,M=!1){return ue(this,null,function*(){if(D(T,document.baseURI)){let P=yield fetch(T);if(!P.ok)throw new Error(P.statusText);return M?new Uint8Array(yield P.arrayBuffer()):(0,i.stringToBytes)(yield P.text())}return new Promise((P,H)=>{let $=new XMLHttpRequest;$.open("GET",T,!0),M&&($.responseType="arraybuffer"),$.onreadystatechange=()=>{if($.readyState===XMLHttpRequest.DONE){if($.status===200||$.status===0){let I;if(M&&$.response?I=new Uint8Array($.response):!M&&$.responseText&&(I=(0,i.stringToBytes)($.responseText)),I){P(I);return}}H(new Error($.statusText))}},$.send(null)})})}class d extends n.BaseCMapReaderFactory{_fetchData(M,P){return c(M,this.isCompressed).then(H=>({cMapData:H,compressionType:P}))}}e.DOMCMapReaderFactory=d;class u extends n.BaseStandardFontDataFactory{_fetchData(M){return c(M,!0)}}e.DOMStandardFontDataFactory=u;class h extends n.BaseSVGFactory{_createSVG(M){return document.createElementNS(s,M)}}e.DOMSVGFactory=h;class m{constructor({viewBox:M,scale:P,rotation:H,offsetX:$=0,offsetY:I=0,dontFlip:C=!1}){this.viewBox=M,this.scale=P,this.rotation=H,this.offsetX=$,this.offsetY=I;let E=(M[2]+M[0])/2,L=(M[3]+M[1])/2,j,p,w,N;switch(H%=360,H<0&&(H+=360),H){case 180:j=-1,p=0,w=0,N=1;break;case 90:j=0,p=1,w=1,N=0;break;case 270:j=0,p=-1,w=-1,N=0;break;case 0:j=1,p=0,w=0,N=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}C&&(w=-w,N=-N);let F,V,W,z;j===0?(F=Math.abs(L-M[1])*P+$,V=Math.abs(E-M[0])*P+I,W=Math.abs(M[3]-M[1])*P,z=Math.abs(M[2]-M[0])*P):(F=Math.abs(E-M[0])*P+$,V=Math.abs(L-M[1])*P+I,W=Math.abs(M[2]-M[0])*P,z=Math.abs(M[3]-M[1])*P),this.transform=[j*P,p*P,w*P,N*P,F-j*P*E-w*P*L,V-p*P*E-N*P*L],this.width=W,this.height=z}clone({scale:M=this.scale,rotation:P=this.rotation,offsetX:H=this.offsetX,offsetY:$=this.offsetY,dontFlip:I=!1}={}){return new m({viewBox:this.viewBox.slice(),scale:M,rotation:P,offsetX:H,offsetY:$,dontFlip:I})}convertToViewportPoint(M,P){return i.Util.applyTransform([M,P],this.transform)}convertToViewportRectangle(M){let P=i.Util.applyTransform([M[0],M[1]],this.transform),H=i.Util.applyTransform([M[2],M[3]],this.transform);return[P[0],P[1],H[0],H[1]]}convertToPdfPoint(M,P){return i.Util.applyInverseTransform([M,P],this.transform)}}e.PageViewport=m;class f extends i.BaseException{constructor(M,P){super(M,"RenderingCancelledException"),this.type=P}}e.RenderingCancelledException=f;function g(T){let M=T.length,P=0;for(;P<M&&T[P].trim()==="";)P++;return T.substring(P,P+5).toLowerCase()==="data:"}function y(T){return typeof T=="string"&&/\.pdf$/i.test(T)}function S(T){let M=T.indexOf("#"),P=T.indexOf("?"),H=Math.min(M>0?M:T.length,P>0?P:T.length);return T.substring(T.lastIndexOf("/",H)+1,H)}function A(T,M="document.pdf"){if(typeof T!="string")return M;if(g(T))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),M;let P=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,H=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,$=P.exec(T),I=H.exec($[1])||H.exec($[2])||H.exec($[3]);if(I&&(I=I[0],I.includes("%")))try{I=H.exec(decodeURIComponent(I))[0]}catch{}return I||M}class R{constructor(){this.started=Object.create(null),this.times=[]}time(M){M in this.started&&(0,i.warn)(`Timer is already running for ${M}`),this.started[M]=Date.now()}timeEnd(M){M in this.started||(0,i.warn)(`Timer has not been started for ${M}`),this.times.push({name:M,start:this.started[M],end:Date.now()}),delete this.started[M]}toString(){let M=[],P=0;for(let H of this.times){let $=H.name;$.length>P&&(P=$.length)}for(let H of this.times){let $=H.end-H.start;M.push(`${H.name.padEnd(P)} ${$}ms
`)}return M.join("")}}e.StatTimer=R;function D(T,M){try{let{protocol:P}=M?new URL(T,M):new URL(T);return P==="http:"||P==="https:"}catch{return!1}}function v(T,M=!1){return new Promise((P,H)=>{let $=document.createElement("script");$.src=T,$.onload=function(I){M&&$.remove(),P(I)},$.onerror=function(){H(new Error(`Cannot load script at: ${$.src}`))},(document.head||document.documentElement).append($)})}function b(T){console.log("Deprecated API usage: "+T)}let x;class k{static toDateObject(M){if(!M||typeof M!="string")return null;x||(x=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));let P=x.exec(M);if(!P)return null;let H=parseInt(P[1],10),$=parseInt(P[2],10);$=$>=1&&$<=12?$-1:0;let I=parseInt(P[3],10);I=I>=1&&I<=31?I:1;let C=parseInt(P[4],10);C=C>=0&&C<=23?C:0;let E=parseInt(P[5],10);E=E>=0&&E<=59?E:0;let L=parseInt(P[6],10);L=L>=0&&L<=59?L:0;let j=P[7]||"Z",p=parseInt(P[8],10);p=p>=0&&p<=23?p:0;let w=parseInt(P[9],10)||0;return w=w>=0&&w<=59?w:0,j==="-"?(C+=p,E+=w):j==="+"&&(C-=p,E-=w),new Date(Date.UTC(H,$,I,C,E,L))}}e.PDFDateString=k;function B(T,{scale:M=1,rotation:P=0}){let{width:H,height:$}=T.attributes.style,I=[0,0,parseInt(H),parseInt($)];return new m({viewBox:I,scale:M,rotation:P})}function _(T){if(T.startsWith("#")){let M=parseInt(T.slice(1),16);return[(M&16711680)>>16,(M&65280)>>8,M&255]}return T.startsWith("rgb(")?T.slice(4,-1).split(",").map(M=>parseInt(M)):T.startsWith("rgba(")?T.slice(5,-1).split(",").map(M=>parseInt(M)).slice(0,3):((0,i.warn)(`Not a valid color format: "${T}"`),[0,0,0])}function O(T){let M=document.createElement("span");M.style.visibility="hidden",document.body.append(M);for(let P of T.keys()){M.style.color=P;let H=window.getComputedStyle(M).color;T.set(P,_(H))}M.remove()}function q(T){let{a:M,b:P,c:H,d:$,e:I,f:C}=T.getTransform();return[M,P,H,$,I,C]}function U(T){let{a:M,b:P,c:H,d:$,e:I,f:C}=T.getTransform().invertSelf();return[M,P,H,$,I,C]}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var n=r(1);class i{constructor(){this.constructor===i&&(0,n.unreachable)("Cannot initialize BaseCanvasFactory.")}create(c,d){if(c<=0||d<=0)throw new Error("Invalid canvas size");let u=this._createCanvas(c,d);return{canvas:u,context:u.getContext("2d")}}reset(c,d,u){if(!c.canvas)throw new Error("Canvas is not specified");if(d<=0||u<=0)throw new Error("Invalid canvas size");c.canvas.width=d,c.canvas.height=u}destroy(c){if(!c.canvas)throw new Error("Canvas is not specified");c.canvas.width=0,c.canvas.height=0,c.canvas=null,c.context=null}_createCanvas(c,d){(0,n.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=i;class s{constructor({baseUrl:c=null,isCompressed:d=!1}){this.constructor===s&&(0,n.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=c,this.isCompressed=d}fetch(d){return ue(this,arguments,function*({name:c}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!c)throw new Error("CMap name must be specified.");let u=this.baseUrl+c+(this.isCompressed?".bcmap":""),h=this.isCompressed?n.CMapCompressionType.BINARY:n.CMapCompressionType.NONE;return this._fetchData(u,h).catch(m=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${u}`)})})}_fetchData(c,d){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=s;class o{constructor({baseUrl:c=null}){this.constructor===o&&(0,n.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=c}fetch(d){return ue(this,arguments,function*({filename:c}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!c)throw new Error("Font filename must be specified.");let u=`${this.baseUrl}${c}`;return this._fetchData(u).catch(h=>{throw new Error(`Unable to load font data at: ${u}`)})})}_fetchData(c){(0,n.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=o;class a{constructor(){this.constructor===a&&(0,n.unreachable)("Cannot initialize BaseSVGFactory.")}create(c,d,u=!1){if(c<=0||d<=0)throw new Error("Invalid SVG dimensions");let h=this._createSVG("svg:svg");return h.setAttribute("version","1.1"),u||(h.setAttribute("width",`${c}px`),h.setAttribute("height",`${d}px`)),h.setAttribute("preserveAspectRatio","none"),h.setAttribute("viewBox",`0 0 ${c} ${d}`),h}createElement(c){if(typeof c!="string")throw new Error("Invalid SVG element type");return this._createSVG(c)}_createSVG(c){(0,n.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var n=r(1);let i=3285377520,s=4294901760,o=65535;class a{constructor(c){this.h1=c?c&4294967295:i,this.h2=c?c&4294967295:i}update(c){let d,u;if(typeof c=="string"){d=new Uint8Array(c.length*2),u=0;for(let x=0,k=c.length;x<k;x++){let B=c.charCodeAt(x);B<=255?d[u++]=B:(d[u++]=B>>>8,d[u++]=B&255)}}else if((0,n.isArrayBuffer)(c))d=c.slice(),u=d.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");let h=u>>2,m=u-h*4,f=new Uint32Array(d.buffer,0,h),g=0,y=0,S=this.h1,A=this.h2,R=3432918353,D=461845907,v=R&o,b=D&o;for(let x=0;x<h;x++)x&1?(g=f[x],g=g*R&s|g*v&o,g=g<<15|g>>>17,g=g*D&s|g*b&o,S^=g,S=S<<13|S>>>19,S=S*5+3864292196):(y=f[x],y=y*R&s|y*v&o,y=y<<15|y>>>17,y=y*D&s|y*b&o,A^=y,A=A<<13|A>>>19,A=A*5+3864292196);switch(g=0,m){case 3:g^=d[h*4+2]<<16;case 2:g^=d[h*4+1]<<8;case 1:g^=d[h*4],g=g*R&s|g*v&o,g=g<<15|g>>>17,g=g*D&s|g*b&o,h&1?S^=g:A^=g}this.h1=S,this.h2=A}hexdigest(){let c=this.h1,d=this.h2;c^=d>>>1,c=c*3981806797&s|c*36045&o,d=d*4283543511&s|((d<<16|c>>>16)*2950163797&s)>>>16,c^=d>>>1,c=c*444984403&s|c*60499&o,d=d*3301882366&s|((d<<16|c>>>16)*3120437893&s)>>>16,c^=d>>>1;let u=(c>>>0).toString(16),h=(d>>>0).toString(16);return u.padStart(8,"0")+h.padStart(8,"0")}}e.MurmurHash3_64=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var n=r(1);class i{constructor({docId:l,onUnsupportedFeature:c,ownerDocument:d=globalThis.document,styleElement:u=null}){this.constructor===i&&(0,n.unreachable)("Cannot initialize BaseFontLoader."),this.docId=l,this._onUnsupportedFeature=c,this._document=d,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(l){this.nativeFontFaces.push(l),this._document.fonts.add(l)}insertRule(l){let c=this.styleElement;c||(c=this.styleElement=this._document.createElement("style"),c.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(c));let d=c.sheet;d.insertRule(l,d.cssRules.length)}clear(){for(let l of this.nativeFontFaces)this._document.fonts.delete(l);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(l){return ue(this,null,function*(){if(l.attached||l.missingFile)return;if(l.attached=!0,this.isFontLoadingAPISupported){let d=l.createNativeFontFace();if(d){this.addNativeFontFace(d);try{yield d.loaded}catch(u){throw this._onUnsupportedFeature({featureId:n.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,n.warn)(`Failed to load font '${d.family}': '${u}'.`),l.disableFontFace=!0,u}}return}let c=l.createFontFaceRule();if(c){if(this.insertRule(c),this.isSyncFontLoadingSupported)return;yield new Promise(d=>{let u=this._queueLoadingCallback(d);this._prepareFontLoadEvent([c],[l],u)})}})}_queueLoadingCallback(l){(0,n.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){let l=!!this._document?.fonts;return(0,n.shadow)(this,"isFontLoadingAPISupported",l)}get isSyncFontLoadingSupported(){(0,n.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,n.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(l,c,d){(0,n.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let s;e.FontLoader=s,e.FontLoader=s=class extends i{constructor(l){super(l),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let l=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(l=!0),(0,n.shadow)(this,"isSyncFontLoadingSupported",l)}_queueLoadingCallback(l){function c(){for((0,n.assert)(!u.done,"completeRequest() cannot be called twice."),u.done=!0;d.requests.length>0&&d.requests[0].done;){let h=d.requests.shift();setTimeout(h.callback,0)}}let d=this.loadingContext,u={id:`pdfjs-font-loading-${d.nextRequestId++}`,done:!1,complete:c,callback:l};return d.requests.push(u),u}get _loadTestFont(){let l=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,n.shadow)(this,"_loadTestFont",l())}_prepareFontLoadEvent(l,c,d){function u(U,T){return U.charCodeAt(T)<<24|U.charCodeAt(T+1)<<16|U.charCodeAt(T+2)<<8|U.charCodeAt(T+3)&255}function h(U,T,M,P){let H=U.substring(0,T),$=U.substring(T+M);return H+P+$}let m,f,g=this._document.createElement("canvas");g.width=1,g.height=1;let y=g.getContext("2d"),S=0;function A(U,T){if(S++,S>30){(0,n.warn)("Load test font never loaded."),T();return}if(y.font="30px "+U,y.fillText(".",0,20),y.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(A.bind(null,U,T))}let R=`lt${Date.now()}${this.loadTestFontId++}`,D=this._loadTestFont;D=h(D,976,R.length,R);let b=16,x=1482184792,k=u(D,b);for(m=0,f=R.length-3;m<f;m+=4)k=k-x+u(R,m)|0;m<R.length&&(k=k-x+u(R+"XXX",m)|0),D=h(D,b,4,(0,n.string32)(k));let B=`url(data:font/opentype;base64,${btoa(D)});`,_=`@font-face {font-family:"${R}";src:${B}}`;this.insertRule(_);let O=[];for(let U of c)O.push(U.loadedName);O.push(R);let q=this._document.createElement("div");q.style.visibility="hidden",q.style.width=q.style.height="10px",q.style.position="absolute",q.style.top=q.style.left="0px";for(let U of O){let T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=U,q.append(T)}this._document.body.append(q),A(R,()=>{q.remove(),d.complete()})}};class o{constructor(l,{isEvalSupported:c=!0,disableFontFace:d=!1,ignoreErrors:u=!1,onUnsupportedFeature:h,fontRegistry:m=null}){this.compiledGlyphs=Object.create(null);for(let f in l)this[f]=l[f];this.isEvalSupported=c!==!1,this.disableFontFace=d===!0,this.ignoreErrors=u===!0,this._onUnsupportedFeature=h,this.fontRegistry=m}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let l;if(!this.cssFontInfo)l=new FontFace(this.loadedName,this.data,{});else{let c={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(c.style=`oblique ${this.cssFontInfo.italicAngle}deg`),l=new FontFace(this.cssFontInfo.fontFamily,this.data,c)}return this.fontRegistry&&this.fontRegistry.registerFont(this),l}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let l=(0,n.bytesToString)(this.data),c=`url(data:${this.mimetype};base64,${btoa(l)});`,d;if(!this.cssFontInfo)d=`@font-face {font-family:"${this.loadedName}";src:${c}}`;else{let u=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(u+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),d=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${u}src:${c}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,c),d}getPathGenerator(l,c){if(this.compiledGlyphs[c]!==void 0)return this.compiledGlyphs[c];let d;try{d=l.get(this.loadedName+"_path_"+c)}catch(u){if(!this.ignoreErrors)throw u;return this._onUnsupportedFeature({featureId:n.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,n.warn)(`getPathGenerator - ignoring character: "${u}".`),this.compiledGlyphs[c]=function(h,m){}}if(this.isEvalSupported&&n.FeatureTest.isEvalSupported){let u=[];for(let h of d){let m=h.args!==void 0?h.args.join(","):"";u.push("c.",h.cmd,"(",m,`);
`)}return this.compiledGlyphs[c]=new Function("c","size",u.join(""))}return this.compiledGlyphs[c]=function(u,h){for(let m of d)m.cmd==="scale"&&(m.args=[h,-h]),u[m.cmd].apply(u,m.args)}}}e.FontFaceObject=o},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var n=r(8),i=r(1),s=r(13),o=r(14),a=r(3);let l=16,c=100,d=4096,u=15,h=10,m=a.isNodeJS&&typeof Path2D>"u"?-1:1e3,f=16;function g(I,C){if(I._removeMirroring)throw new Error("Context is already forwarding operations.");I.__originalSave=I.save,I.__originalRestore=I.restore,I.__originalRotate=I.rotate,I.__originalScale=I.scale,I.__originalTranslate=I.translate,I.__originalTransform=I.transform,I.__originalSetTransform=I.setTransform,I.__originalResetTransform=I.resetTransform,I.__originalClip=I.clip,I.__originalMoveTo=I.moveTo,I.__originalLineTo=I.lineTo,I.__originalBezierCurveTo=I.bezierCurveTo,I.__originalRect=I.rect,I.__originalClosePath=I.closePath,I.__originalBeginPath=I.beginPath,I._removeMirroring=()=>{I.save=I.__originalSave,I.restore=I.__originalRestore,I.rotate=I.__originalRotate,I.scale=I.__originalScale,I.translate=I.__originalTranslate,I.transform=I.__originalTransform,I.setTransform=I.__originalSetTransform,I.resetTransform=I.__originalResetTransform,I.clip=I.__originalClip,I.moveTo=I.__originalMoveTo,I.lineTo=I.__originalLineTo,I.bezierCurveTo=I.__originalBezierCurveTo,I.rect=I.__originalRect,I.closePath=I.__originalClosePath,I.beginPath=I.__originalBeginPath,delete I._removeMirroring},I.save=function(){C.save(),this.__originalSave()},I.restore=function(){C.restore(),this.__originalRestore()},I.translate=function(L,j){C.translate(L,j),this.__originalTranslate(L,j)},I.scale=function(L,j){C.scale(L,j),this.__originalScale(L,j)},I.transform=function(L,j,p,w,N,F){C.transform(L,j,p,w,N,F),this.__originalTransform(L,j,p,w,N,F)},I.setTransform=function(L,j,p,w,N,F){C.setTransform(L,j,p,w,N,F),this.__originalSetTransform(L,j,p,w,N,F)},I.resetTransform=function(){C.resetTransform(),this.__originalResetTransform()},I.rotate=function(L){C.rotate(L),this.__originalRotate(L)},I.clip=function(L){C.clip(L),this.__originalClip(L)},I.moveTo=function(E,L){C.moveTo(E,L),this.__originalMoveTo(E,L)},I.lineTo=function(E,L){C.lineTo(E,L),this.__originalLineTo(E,L)},I.bezierCurveTo=function(E,L,j,p,w,N){C.bezierCurveTo(E,L,j,p,w,N),this.__originalBezierCurveTo(E,L,j,p,w,N)},I.rect=function(E,L,j,p){C.rect(E,L,j,p),this.__originalRect(E,L,j,p)},I.closePath=function(){C.closePath(),this.__originalClosePath()},I.beginPath=function(){C.beginPath(),this.__originalBeginPath()}}class y{constructor(C){this.canvasFactory=C,this.cache=Object.create(null)}getCanvas(C,E,L){let j;return this.cache[C]!==void 0?(j=this.cache[C],this.canvasFactory.reset(j,E,L)):(j=this.canvasFactory.create(E,L),this.cache[C]=j),j}delete(C){delete this.cache[C]}clear(){for(let C in this.cache){let E=this.cache[C];this.canvasFactory.destroy(E),delete this.cache[C]}}}function S(I,C,E,L,j,p,w,N,F,V){let[W,z,X,Q,Y,G]=(0,n.getCurrentTransform)(I);if(z===0&&X===0){let te=w*W+Y,re=Math.round(te),ie=N*Q+G,ae=Math.round(ie),se=(w+F)*W+Y,Ee=Math.abs(Math.round(se)-re)||1,Ie=(N+V)*Q+G,de=Math.abs(Math.round(Ie)-ae)||1;return I.setTransform(Math.sign(W),0,0,Math.sign(Q),re,ae),I.drawImage(C,E,L,j,p,0,0,Ee,de),I.setTransform(W,z,X,Q,Y,G),[Ee,de]}if(W===0&&Q===0){let te=N*X+Y,re=Math.round(te),ie=w*z+G,ae=Math.round(ie),se=(N+V)*X+Y,Ee=Math.abs(Math.round(se)-re)||1,Ie=(w+F)*z+G,de=Math.abs(Math.round(Ie)-ae)||1;return I.setTransform(0,Math.sign(z),Math.sign(X),0,re,ae),I.drawImage(C,E,L,j,p,0,0,de,Ee),I.setTransform(W,z,X,Q,Y,G),[de,Ee]}I.drawImage(C,E,L,j,p,w,N,F,V);let Z=Math.hypot(W,z),ee=Math.hypot(X,Q);return[Z*F,ee*V]}function A(I){let{width:C,height:E}=I;if(C>m||E>m)return null;let L=1e3,j=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),p=C+1,w=new Uint8Array(p*(E+1)),N,F,V,W=C+7&-8,z=new Uint8Array(W*E),X=0;for(let ee of I.data){let te=128;for(;te>0;)z[X++]=ee&te?0:255,te>>=1}let Q=0;for(X=0,z[X]!==0&&(w[0]=1,++Q),F=1;F<C;F++)z[X]!==z[X+1]&&(w[F]=z[X]?2:1,++Q),X++;for(z[X]!==0&&(w[F]=2,++Q),N=1;N<E;N++){X=N*W,V=N*p,z[X-W]!==z[X]&&(w[V]=z[X]?1:8,++Q);let ee=(z[X]?4:0)+(z[X-W]?8:0);for(F=1;F<C;F++)ee=(ee>>2)+(z[X+1]?4:0)+(z[X-W+1]?8:0),j[ee]&&(w[V+F]=j[ee],++Q),X++;if(z[X-W]!==z[X]&&(w[V+F]=z[X]?2:4,++Q),Q>L)return null}for(X=W*(E-1),V=N*p,z[X]!==0&&(w[V]=8,++Q),F=1;F<C;F++)z[X]!==z[X+1]&&(w[V+F]=z[X]?4:8,++Q),X++;if(z[X]!==0&&(w[V+F]=4,++Q),Q>L)return null;let Y=new Int32Array([0,p,-1,0,-p,0,0,0,1]),G=new Path2D;for(N=0;Q&&N<=E;N++){let ee=N*p,te=ee+C;for(;ee<te&&!w[ee];)ee++;if(ee===te)continue;G.moveTo(ee%p,N);let re=ee,ie=w[ee];do{let ae=Y[ie];do ee+=ae;while(!w[ee]);let se=w[ee];se!==5&&se!==10?(ie=se,w[ee]=0):(ie=se&51*ie>>4,w[ee]&=ie>>2|ie<<2),G.lineTo(ee%p,ee/p|0),w[ee]||--Q}while(re!==ee);--N}return z=null,w=null,function(ee){ee.save(),ee.scale(1/C,-1/E),ee.translate(0,-E),ee.fill(G),ee.beginPath(),ee.restore()}}class R{constructor(C,E){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,C,E])}clone(){let C=Object.create(this);return C.clipBox=this.clipBox.slice(),C}setCurrentPoint(C,E){this.x=C,this.y=E}updatePathMinMax(C,E,L){[E,L]=i.Util.applyTransform([E,L],C),this.minX=Math.min(this.minX,E),this.minY=Math.min(this.minY,L),this.maxX=Math.max(this.maxX,E),this.maxY=Math.max(this.maxY,L)}updateRectMinMax(C,E){let L=i.Util.applyTransform(E,C),j=i.Util.applyTransform(E.slice(2),C);this.minX=Math.min(this.minX,L[0],j[0]),this.minY=Math.min(this.minY,L[1],j[1]),this.maxX=Math.max(this.maxX,L[0],j[0]),this.maxY=Math.max(this.maxY,L[1],j[1])}updateScalingPathMinMax(C,E){i.Util.scaleMinMax(C,E),this.minX=Math.min(this.minX,E[0]),this.maxX=Math.max(this.maxX,E[1]),this.minY=Math.min(this.minY,E[2]),this.maxY=Math.max(this.maxY,E[3])}updateCurvePathMinMax(C,E,L,j,p,w,N,F,V,W){let z=i.Util.bezierBoundingBox(E,L,j,p,w,N,F,V);if(W){W[0]=Math.min(W[0],z[0],z[2]),W[1]=Math.max(W[1],z[0],z[2]),W[2]=Math.min(W[2],z[1],z[3]),W[3]=Math.max(W[3],z[1],z[3]);return}this.updateRectMinMax(C,z)}getPathBoundingBox(C=s.PathType.FILL,E=null){let L=[this.minX,this.minY,this.maxX,this.maxY];if(C===s.PathType.STROKE){E||(0,i.unreachable)("Stroke bounding box must include transform.");let j=i.Util.singularValueDecompose2dScale(E),p=j[0]*this.lineWidth/2,w=j[1]*this.lineWidth/2;L[0]-=p,L[1]-=w,L[2]+=p,L[3]+=w}return L}updateClipFromPath(){let C=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(C||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(C){this.clipBox=C,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(C=s.PathType.FILL,E=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(C,E))}}function D(I,C,E=null){if(typeof ImageData<"u"&&C instanceof ImageData){I.putImageData(C,0,0);return}let L=C.height,j=C.width,p=L%f,w=(L-p)/f,N=p===0?w:w+1,F=I.createImageData(j,f),V=0,W,z=C.data,X=F.data,Q,Y,G,Z,ee,te,re,ie;if(E)switch(E.length){case 1:ee=E[0],te=E[0],re=E[0],ie=E[0];break;case 4:ee=E[0],te=E[1],re=E[2],ie=E[3];break}if(C.kind===i.ImageKind.GRAYSCALE_1BPP){let ae=z.byteLength,se=new Uint32Array(X.buffer,0,X.byteLength>>2),Ee=se.length,Ie=j+7>>3,de=4294967295,Pe=i.FeatureTest.isLittleEndian?4278190080:255;for(ie&&ie[0]===255&&ie[255]===0&&([de,Pe]=[Pe,de]),Q=0;Q<N;Q++){for(G=Q<w?f:p,W=0,Y=0;Y<G;Y++){let He=ae-V,it=0,ze=He>Ie?j:He*8-7,xt=ze&-8,qe=0,$e=0;for(;it<xt;it+=8)$e=z[V++],se[W++]=$e&128?de:Pe,se[W++]=$e&64?de:Pe,se[W++]=$e&32?de:Pe,se[W++]=$e&16?de:Pe,se[W++]=$e&8?de:Pe,se[W++]=$e&4?de:Pe,se[W++]=$e&2?de:Pe,se[W++]=$e&1?de:Pe;for(;it<ze;it++)qe===0&&($e=z[V++],qe=128),se[W++]=$e&qe?de:Pe,qe>>=1}for(;W<Ee;)se[W++]=0;I.putImageData(F,0,Q*f)}}else if(C.kind===i.ImageKind.RGBA_32BPP){let ae=!!(ee||te||re);for(Y=0,Z=j*f*4,Q=0;Q<w;Q++){if(X.set(z.subarray(V,V+Z)),V+=Z,ae)for(let se=0;se<Z;se+=4)ee&&(X[se+0]=ee[X[se+0]]),te&&(X[se+1]=te[X[se+1]]),re&&(X[se+2]=re[X[se+2]]);I.putImageData(F,0,Y),Y+=f}if(Q<N){if(Z=j*p*4,X.set(z.subarray(V,V+Z)),ae)for(let se=0;se<Z;se+=4)ee&&(X[se+0]=ee[X[se+0]]),te&&(X[se+1]=te[X[se+1]]),re&&(X[se+2]=re[X[se+2]]);I.putImageData(F,0,Y)}}else if(C.kind===i.ImageKind.RGB_24BPP){let ae=!!(ee||te||re);for(G=f,Z=j*G,Q=0;Q<N;Q++){for(Q>=w&&(G=p,Z=j*G),W=0,Y=Z;Y--;)X[W++]=z[V++],X[W++]=z[V++],X[W++]=z[V++],X[W++]=255;if(ae)for(let se=0;se<W;se+=4)ee&&(X[se+0]=ee[X[se+0]]),te&&(X[se+1]=te[X[se+1]]),re&&(X[se+2]=re[X[se+2]]);I.putImageData(F,0,Q*f)}}else throw new Error(`bad image kind: ${C.kind}`)}function v(I,C){if(C.bitmap){I.drawImage(C.bitmap,0,0);return}let E=C.height,L=C.width,j=E%f,p=(E-j)/f,w=j===0?p:p+1,N=I.createImageData(L,f),F=0,V=C.data,W=N.data;for(let z=0;z<w;z++){let X=z<p?f:j;({srcPos:F}=(0,o.applyMaskImageData)({src:V,srcPos:F,dest:W,width:L,height:X})),I.putImageData(N,0,z*f)}}function b(I,C){let E=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let L=0,j=E.length;L<j;L++){let p=E[L];I[p]!==void 0&&(C[p]=I[p])}I.setLineDash!==void 0&&(C.setLineDash(I.getLineDash()),C.lineDashOffset=I.lineDashOffset)}function x(I,C){I.strokeStyle=I.fillStyle=C||"#000000",I.fillRule="nonzero",I.globalAlpha=1,I.lineWidth=1,I.lineCap="butt",I.lineJoin="miter",I.miterLimit=10,I.globalCompositeOperation="source-over",I.font="10px sans-serif",I.setLineDash!==void 0&&(I.setLineDash([]),I.lineDashOffset=0)}function k(I,C,E,L){let j=I.length;for(let p=3;p<j;p+=4){let w=I[p];if(w===0)I[p-3]=C,I[p-2]=E,I[p-1]=L;else if(w<255){let N=255-w;I[p-3]=I[p-3]*w+C*N>>8,I[p-2]=I[p-2]*w+E*N>>8,I[p-1]=I[p-1]*w+L*N>>8}}}function B(I,C,E){let L=I.length,j=1/255;for(let p=3;p<L;p+=4){let w=E?E[I[p]]:I[p];C[p]=C[p]*w*j|0}}function _(I,C,E){let L=I.length;for(let j=3;j<L;j+=4){let p=I[j-3]*77+I[j-2]*152+I[j-1]*28;C[j]=E?C[j]*E[p>>8]>>8:C[j]*p>>16}}function O(I,C,E,L,j,p,w,N,F,V,W){let z=!!p,X=z?p[0]:0,Q=z?p[1]:0,Y=z?p[2]:0,G;j==="Luminosity"?G=_:G=B;let ee=Math.min(L,Math.ceil(1048576/E));for(let te=0;te<L;te+=ee){let re=Math.min(ee,L-te),ie=I.getImageData(N-V,te+(F-W),E,re),ae=C.getImageData(N,te+F,E,re);z&&k(ie.data,X,Q,Y),G(ie.data,ae.data,w),C.putImageData(ae,N,te+F)}}function q(I,C,E,L){let j=L[0],p=L[1],w=L[2]-j,N=L[3]-p;w===0||N===0||(O(C.context,E,w,N,C.subtype,C.backdrop,C.transferMap,j,p,C.offsetX,C.offsetY),I.save(),I.globalAlpha=1,I.globalCompositeOperation="source-over",I.setTransform(1,0,0,1,0,0),I.drawImage(E.canvas,0,0),I.restore())}function U(I,C){let E=i.Util.singularValueDecompose2dScale(I);E[0]=Math.fround(E[0]),E[1]=Math.fround(E[1]);let L=Math.fround((globalThis.devicePixelRatio||1)*n.PixelsPerInch.PDF_TO_CSS_UNITS);return C!==void 0?C:E[0]<=L||E[1]<=L}let T=["butt","round","square"],M=["miter","round","bevel"],P={},H={};class ${constructor(C,E,L,j,p,w,N,F){this.ctx=C,this.current=new R(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=E,this.objs=L,this.canvasFactory=j,this.imageLayer=p,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=w,this.cachedCanvases=new y(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=N,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=F?.background||null,this.foregroundColor=F?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(C,E=null){return typeof C=="string"?C.startsWith("g_")?this.commonObjs.get(C):this.objs.get(C):E}beginDrawing({transform:C,viewport:E,transparency:L=!1,background:j=null}){let p=this.ctx.canvas.width,w=this.ctx.canvas.height,N=j||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;let F=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;let V=this.backgroundColor=this.ctx.fillStyle,W=!0,z=N;if(this.ctx.fillStyle=N,z=this.ctx.fillStyle,W=typeof z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(z),F==="#000000"&&V==="#ffffff"||F===V||!W)this.foregroundColor=this.backgroundColor=null;else{let[X,Q,Y]=(0,n.getRGB)(z),G=ee=>(ee/=255,ee<=.03928?ee/12.92:((ee+.055)/1.055)**2.4),Z=Math.round(.2126*G(X)+.7152*G(Q)+.0722*G(Y));this.selectColor=(ee,te,re)=>{let ie=.2126*G(ee)+.7152*G(te)+.0722*G(re);return Math.round(ie)===Z?V:F}}}if(this.ctx.fillStyle=this.backgroundColor||N,this.ctx.fillRect(0,0,p,w),this.ctx.restore(),L){let F=this.cachedCanvases.getCanvas("transparent",p,w);this.compositeCtx=this.ctx,this.transparentCanvas=F.canvas,this.ctx=F.context,this.ctx.save(),this.ctx.transform(...(0,n.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),x(this.ctx,this.foregroundColor),C&&(this.ctx.transform(...C),this.outputScaleX=C[0],this.outputScaleY=C[0]),this.ctx.transform(...E.transform),this.viewportScale=E.scale,this.baseTransform=(0,n.getCurrentTransform)(this.ctx),this.imageLayer&&((0,n.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(C,E,L,j){let p=C.argsArray,w=C.fnArray,N=E||0,F=p.length;if(F===N)return N;let V=F-N>h&&typeof L=="function",W=V?Date.now()+u:0,z=0,X=this.commonObjs,Q=this.objs,Y;for(;;){if(j!==void 0&&N===j.nextBreakPoint)return j.breakIt(N,L),N;if(Y=w[N],Y!==i.OPS.dependency)this[Y].apply(this,p[N]);else for(let G of p[N]){let Z=G.startsWith("g_")?X:Q;if(!Z.has(G))return Z.get(G,L),N}if(N++,N===F)return N;if(V&&++z>h){if(Date.now()>W)return L(),N;z=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let C of this._cachedBitmapsMap.values()){for(let E of C.values())typeof HTMLCanvasElement<"u"&&E instanceof HTMLCanvasElement&&(E.width=E.height=0);C.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(C,E){let L=C.width,j=C.height,p=Math.max(Math.hypot(E[0],E[1]),1),w=Math.max(Math.hypot(E[2],E[3]),1),N=L,F=j,V="prescale1",W,z;for(;p>2&&N>1||w>2&&F>1;){let X=N,Q=F;p>2&&N>1&&(X=Math.ceil(N/2),p/=N/X),w>2&&F>1&&(Q=Math.ceil(F/2),w/=F/Q),W=this.cachedCanvases.getCanvas(V,X,Q),z=W.context,z.clearRect(0,0,X,Q),z.drawImage(C,0,0,N,F,0,0,X,Q),C=W.canvas,N=X,F=Q,V=V==="prescale1"?"prescale2":"prescale1"}return{img:C,paintWidth:N,paintHeight:F}}_createMaskCanvas(C){let E=this.ctx,{width:L,height:j}=C,p=this.current.fillColor,w=this.current.patternFill,N=(0,n.getCurrentTransform)(E),F,V,W,z;if((C.bitmap||C.data)&&C.count>1){let Ee=C.bitmap||C.data.buffer,Ie=N.slice(0,4);V=JSON.stringify(w?Ie:[Ie,p]),F=this._cachedBitmapsMap.get(Ee),F||(F=new Map,this._cachedBitmapsMap.set(Ee,F));let de=F.get(V);if(de&&!w){let Pe=Math.round(Math.min(N[0],N[2])+N[4]),He=Math.round(Math.min(N[1],N[3])+N[5]);return{canvas:de,offsetX:Pe,offsetY:He}}W=de}W||(z=this.cachedCanvases.getCanvas("maskCanvas",L,j),v(z.context,C));let X=i.Util.transform(N,[1/L,0,0,-1/j,0,0]);X=i.Util.transform(X,[1,0,0,1,0,-j]);let Q=i.Util.applyTransform([0,0],X),Y=i.Util.applyTransform([L,j],X),G=i.Util.normalizeRect([Q[0],Q[1],Y[0],Y[1]]),Z=Math.round(G[2]-G[0])||1,ee=Math.round(G[3]-G[1])||1,te=this.cachedCanvases.getCanvas("fillCanvas",Z,ee),re=te.context,ie=Math.min(Q[0],Y[0]),ae=Math.min(Q[1],Y[1]);re.translate(-ie,-ae),re.transform(...X),W||(W=this._scaleImage(z.canvas,(0,n.getCurrentTransformInverse)(re)),W=W.img,F&&w&&F.set(V,W)),re.imageSmoothingEnabled=U((0,n.getCurrentTransform)(re),C.interpolate),S(re,W,0,0,W.width,W.height,0,0,L,j),re.globalCompositeOperation="source-in";let se=i.Util.transform((0,n.getCurrentTransformInverse)(re),[1,0,0,1,-ie,-ae]);return re.fillStyle=w?p.getPattern(E,this,se,s.PathType.FILL):p,re.fillRect(0,0,L,j),F&&!w&&(this.cachedCanvases.delete("fillCanvas"),F.set(V,te.canvas)),{canvas:te.canvas,offsetX:Math.round(ie),offsetY:Math.round(ae)}}setLineWidth(C){C!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=C,this.ctx.lineWidth=C}setLineCap(C){this.ctx.lineCap=T[C]}setLineJoin(C){this.ctx.lineJoin=M[C]}setMiterLimit(C){this.ctx.miterLimit=C}setDash(C,E){let L=this.ctx;L.setLineDash!==void 0&&(L.setLineDash(C),L.lineDashOffset=E)}setRenderingIntent(C){}setFlatness(C){}setGState(C){for(let E=0,L=C.length;E<L;E++){let j=C[E],p=j[0],w=j[1];switch(p){case"LW":this.setLineWidth(w);break;case"LC":this.setLineCap(w);break;case"LJ":this.setLineJoin(w);break;case"ML":this.setMiterLimit(w);break;case"D":this.setDash(w[0],w[1]);break;case"RI":this.setRenderingIntent(w);break;case"FL":this.setFlatness(w);break;case"Font":this.setFont(w[0],w[1]);break;case"CA":this.current.strokeAlpha=j[1];break;case"ca":this.current.fillAlpha=j[1],this.ctx.globalAlpha=j[1];break;case"BM":this.ctx.globalCompositeOperation=w;break;case"SMask":this.current.activeSMask=w?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=w}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let C=this.inSMaskMode;this.current.activeSMask&&!C?this.beginSMaskMode():!this.current.activeSMask&&C&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let C=this.ctx.canvas.width,E=this.ctx.canvas.height,L="smaskGroupAt"+this.groupLevel,j=this.cachedCanvases.getCanvas(L,C,E);this.suspendedCtx=this.ctx,this.ctx=j.context;let p=this.ctx;p.setTransform(...(0,n.getCurrentTransform)(this.suspendedCtx)),b(this.suspendedCtx,p),g(p,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),b(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(C){if(!this.current.activeSMask)return;C?(C[0]=Math.floor(C[0]),C[1]=Math.floor(C[1]),C[2]=Math.ceil(C[2]),C[3]=Math.ceil(C[3])):C=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let E=this.current.activeSMask,L=this.suspendedCtx;q(L,E,this.ctx,C),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(b(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let C=this.current;this.stateStack.push(C),this.current=C.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),b(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(C,E,L,j,p,w){this.ctx.transform(C,E,L,j,p,w),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(C,E,L){let j=this.ctx,p=this.current,w=p.x,N=p.y,F,V,W=(0,n.getCurrentTransform)(j),z=W[0]===0&&W[3]===0||W[1]===0&&W[2]===0,X=z?L.slice(0):null;for(let Q=0,Y=0,G=C.length;Q<G;Q++)switch(C[Q]|0){case i.OPS.rectangle:w=E[Y++],N=E[Y++];let Z=E[Y++],ee=E[Y++],te=w+Z,re=N+ee;j.moveTo(w,N),Z===0||ee===0?j.lineTo(te,re):(j.lineTo(te,N),j.lineTo(te,re),j.lineTo(w,re)),z||p.updateRectMinMax(W,[w,N,te,re]),j.closePath();break;case i.OPS.moveTo:w=E[Y++],N=E[Y++],j.moveTo(w,N),z||p.updatePathMinMax(W,w,N);break;case i.OPS.lineTo:w=E[Y++],N=E[Y++],j.lineTo(w,N),z||p.updatePathMinMax(W,w,N);break;case i.OPS.curveTo:F=w,V=N,w=E[Y+4],N=E[Y+5],j.bezierCurveTo(E[Y],E[Y+1],E[Y+2],E[Y+3],w,N),p.updateCurvePathMinMax(W,F,V,E[Y],E[Y+1],E[Y+2],E[Y+3],w,N,X),Y+=6;break;case i.OPS.curveTo2:F=w,V=N,j.bezierCurveTo(w,N,E[Y],E[Y+1],E[Y+2],E[Y+3]),p.updateCurvePathMinMax(W,F,V,w,N,E[Y],E[Y+1],E[Y+2],E[Y+3],X),w=E[Y+2],N=E[Y+3],Y+=4;break;case i.OPS.curveTo3:F=w,V=N,w=E[Y+2],N=E[Y+3],j.bezierCurveTo(E[Y],E[Y+1],w,N,w,N),p.updateCurvePathMinMax(W,F,V,E[Y],E[Y+1],w,N,w,N,X),Y+=4;break;case i.OPS.closePath:j.closePath();break}z&&p.updateScalingPathMinMax(W,X),p.setCurrentPoint(w,N)}closePath(){this.ctx.closePath()}stroke(C){C=typeof C<"u"?C:!0;let E=this.ctx,L=this.current.strokeColor;E.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof L=="object"&&L?.getPattern?(E.save(),E.strokeStyle=L.getPattern(E,this,(0,n.getCurrentTransformInverse)(E),s.PathType.STROKE),this.rescaleAndStroke(!1),E.restore()):this.rescaleAndStroke(!0)),C&&this.consumePath(this.current.getClippedPathBoundingBox()),E.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(C){C=typeof C<"u"?C:!0;let E=this.ctx,L=this.current.fillColor,j=this.current.patternFill,p=!1;j&&(E.save(),E.fillStyle=L.getPattern(E,this,(0,n.getCurrentTransformInverse)(E),s.PathType.FILL),p=!0);let w=this.current.getClippedPathBoundingBox();this.contentVisible&&w!==null&&(this.pendingEOFill?(E.fill("evenodd"),this.pendingEOFill=!1):E.fill()),p&&E.restore(),C&&this.consumePath(w)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=P}eoClip(){this.pendingClip=H}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let C=this.pendingTextPaths,E=this.ctx;if(C===void 0){E.beginPath();return}E.save(),E.beginPath();for(let L of C)E.setTransform(...L.transform),E.translate(L.x,L.y),L.addToPath(E,L.fontSize);E.restore(),E.clip(),E.beginPath(),delete this.pendingTextPaths}setCharSpacing(C){this.current.charSpacing=C}setWordSpacing(C){this.current.wordSpacing=C}setHScale(C){this.current.textHScale=C/100}setLeading(C){this.current.leading=-C}setFont(C,E){let L=this.commonObjs.get(C),j=this.current;if(!L)throw new Error(`Can't find font for ${C}`);if(j.fontMatrix=L.fontMatrix||i.FONT_IDENTITY_MATRIX,(j.fontMatrix[0]===0||j.fontMatrix[3]===0)&&(0,i.warn)("Invalid font matrix for font "+C),E<0?(E=-E,j.fontDirection=-1):j.fontDirection=1,this.current.font=L,this.current.fontSize=E,L.isType3Font)return;let p=L.loadedName||"sans-serif",w="normal";L.black?w="900":L.bold&&(w="bold");let N=L.italic?"italic":"normal",F=`"${p}", ${L.fallbackName}`,V=E;E<l?V=l:E>c&&(V=c),this.current.fontSizeScale=E/V,this.ctx.font=`${N} ${w} ${V}px ${F}`}setTextRenderingMode(C){this.current.textRenderingMode=C}setTextRise(C){this.current.textRise=C}moveText(C,E){this.current.x=this.current.lineX+=C,this.current.y=this.current.lineY+=E}setLeadingMoveText(C,E){this.setLeading(-E),this.moveText(C,E)}setTextMatrix(C,E,L,j,p,w){this.current.textMatrix=[C,E,L,j,p,w],this.current.textMatrixScale=Math.hypot(C,E),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(C,E,L,j){let p=this.ctx,w=this.current,N=w.font,F=w.textRenderingMode,V=w.fontSize/w.fontSizeScale,W=F&i.TextRenderingMode.FILL_STROKE_MASK,z=!!(F&i.TextRenderingMode.ADD_TO_PATH_FLAG),X=w.patternFill&&!N.missingFile,Q;(N.disableFontFace||z||X)&&(Q=N.getPathGenerator(this.commonObjs,C)),N.disableFontFace||X?(p.save(),p.translate(E,L),p.beginPath(),Q(p,V),j&&p.setTransform(...j),(W===i.TextRenderingMode.FILL||W===i.TextRenderingMode.FILL_STROKE)&&p.fill(),(W===i.TextRenderingMode.STROKE||W===i.TextRenderingMode.FILL_STROKE)&&p.stroke(),p.restore()):((W===i.TextRenderingMode.FILL||W===i.TextRenderingMode.FILL_STROKE)&&p.fillText(C,E,L),(W===i.TextRenderingMode.STROKE||W===i.TextRenderingMode.FILL_STROKE)&&p.strokeText(C,E,L)),z&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,n.getCurrentTransform)(p),x:E,y:L,fontSize:V,addToPath:Q})}get isFontSubpixelAAEnabled(){let{context:C}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);C.scale(1.5,1),C.fillText("I",0,10);let E=C.getImageData(0,0,10,10).data,L=!1;for(let j=3;j<E.length;j+=4)if(E[j]>0&&E[j]<255){L=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",L)}showText(C){let E=this.current,L=E.font;if(L.isType3Font)return this.showType3Text(C);let j=E.fontSize;if(j===0)return;let p=this.ctx,w=E.fontSizeScale,N=E.charSpacing,F=E.wordSpacing,V=E.fontDirection,W=E.textHScale*V,z=C.length,X=L.vertical,Q=X?1:-1,Y=L.defaultVMetrics,G=j*E.fontMatrix[0],Z=E.textRenderingMode===i.TextRenderingMode.FILL&&!L.disableFontFace&&!E.patternFill;p.save(),p.transform(...E.textMatrix),p.translate(E.x,E.y+E.textRise),V>0?p.scale(W,-1):p.scale(W,1);let ee;if(E.patternFill){p.save();let se=E.fillColor.getPattern(p,this,(0,n.getCurrentTransformInverse)(p),s.PathType.FILL);ee=(0,n.getCurrentTransform)(p),p.restore(),p.fillStyle=se}let te=E.lineWidth,re=E.textMatrixScale;if(re===0||te===0){let se=E.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(se===i.TextRenderingMode.STROKE||se===i.TextRenderingMode.FILL_STROKE)&&(te=this.getSinglePixelWidth())}else te/=re;w!==1&&(p.scale(w,w),te/=w),p.lineWidth=te;let ie=0,ae;for(ae=0;ae<z;++ae){let se=C[ae];if(typeof se=="number"){ie+=Q*se*j/1e3;continue}let Ee=!1,Ie=(se.isSpace?F:0)+N,de=se.fontChar,Pe=se.accent,He,it,ze=se.width;if(X){let qe=se.vmetric||Y,$e=-(se.vmetric?qe[1]:ze*.5)*G,st=qe[2]*G;ze=qe?-qe[0]:ze,He=$e/w,it=(ie+st)/w}else He=ie/w,it=0;if(L.remeasure&&ze>0){let qe=p.measureText(de).width*1e3/j*w;if(ze<qe&&this.isFontSubpixelAAEnabled){let $e=ze/qe;Ee=!0,p.save(),p.scale($e,1),He/=$e}else ze!==qe&&(He+=(ze-qe)/2e3*j/w)}if(this.contentVisible&&(se.isInFont||L.missingFile)){if(Z&&!Pe)p.fillText(de,He,it);else if(this.paintChar(de,He,it,ee),Pe){let qe=He+j*Pe.offset.x/w,$e=it-j*Pe.offset.y/w;this.paintChar(Pe.fontChar,qe,$e,ee)}}let xt;X?xt=ze*G-Ie*V:xt=ze*G+Ie*V,ie+=xt,Ee&&p.restore()}X?E.y-=ie:E.x+=ie*W,p.restore(),this.compose()}showType3Text(C){let E=this.ctx,L=this.current,j=L.font,p=L.fontSize,w=L.fontDirection,N=j.vertical?1:-1,F=L.charSpacing,V=L.wordSpacing,W=L.textHScale*w,z=L.fontMatrix||i.FONT_IDENTITY_MATRIX,X=C.length,Q=L.textRenderingMode===i.TextRenderingMode.INVISIBLE,Y,G,Z,ee;if(!(Q||p===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,E.save(),E.transform(...L.textMatrix),E.translate(L.x,L.y),E.scale(W,w),Y=0;Y<X;++Y){if(G=C[Y],typeof G=="number"){ee=N*G*p/1e3,this.ctx.translate(ee,0),L.x+=ee*W;continue}let te=(G.isSpace?V:0)+F,re=j.charProcOperatorList[G.operatorListId];if(!re){(0,i.warn)(`Type3 character "${G.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=G,this.save(),E.scale(p,p),E.transform(...z),this.executeOperatorList(re),this.restore()),Z=i.Util.applyTransform([G.width,0],z)[0]*p+te,E.translate(Z,0),L.x+=Z*W}E.restore(),this.processingType3=null}}setCharWidth(C,E){}setCharWidthAndBounds(C,E,L,j,p,w){this.ctx.rect(L,j,p-L,w-j),this.ctx.clip(),this.endPath()}getColorN_Pattern(C){let E;if(C[0]==="TilingPattern"){let L=C[1],j=this.baseTransform||(0,n.getCurrentTransform)(this.ctx),p={createCanvasGraphics:w=>new $(w,this.commonObjs,this.objs,this.canvasFactory)};E=new s.TilingPattern(C,L,this.ctx,p,j)}else E=this._getPattern(C[1],C[2]);return E}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(C,E,L){let j=this.selectColor?.(C,E,L)||i.Util.makeHexColor(C,E,L);this.ctx.strokeStyle=j,this.current.strokeColor=j}setFillRGBColor(C,E,L){let j=this.selectColor?.(C,E,L)||i.Util.makeHexColor(C,E,L);this.ctx.fillStyle=j,this.current.fillColor=j,this.current.patternFill=!1}_getPattern(C,E=null){let L;return this.cachedPatterns.has(C)?L=this.cachedPatterns.get(C):(L=(0,s.getShadingPattern)(this.objs.get(C)),this.cachedPatterns.set(C,L)),E&&(L.matrix=E),L}shadingFill(C){if(!this.contentVisible)return;let E=this.ctx;this.save();let L=this._getPattern(C);E.fillStyle=L.getPattern(E,this,(0,n.getCurrentTransformInverse)(E),s.PathType.SHADING);let j=(0,n.getCurrentTransformInverse)(E);if(j){let p=E.canvas,w=p.width,N=p.height,F=i.Util.applyTransform([0,0],j),V=i.Util.applyTransform([0,N],j),W=i.Util.applyTransform([w,0],j),z=i.Util.applyTransform([w,N],j),X=Math.min(F[0],V[0],W[0],z[0]),Q=Math.min(F[1],V[1],W[1],z[1]),Y=Math.max(F[0],V[0],W[0],z[0]),G=Math.max(F[1],V[1],W[1],z[1]);this.ctx.fillRect(X,Q,Y-X,G-Q)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(C,E){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(C)&&C.length===6&&this.transform(...C),this.baseTransform=(0,n.getCurrentTransform)(this.ctx),E)){let L=E[2]-E[0],j=E[3]-E[1];this.ctx.rect(E[0],E[1],L,j),this.current.updateRectMinMax((0,n.getCurrentTransform)(this.ctx),E),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(C){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let E=this.ctx;C.isolated||(0,i.info)("TODO: Support non-isolated groups."),C.knockout&&(0,i.warn)("Knockout groups not supported.");let L=(0,n.getCurrentTransform)(E);if(C.matrix&&E.transform(...C.matrix),!C.bbox)throw new Error("Bounding box is required.");let j=i.Util.getAxialAlignedBoundingBox(C.bbox,(0,n.getCurrentTransform)(E)),p=[0,0,E.canvas.width,E.canvas.height];j=i.Util.intersect(j,p)||[0,0,0,0];let w=Math.floor(j[0]),N=Math.floor(j[1]),F=Math.max(Math.ceil(j[2])-w,1),V=Math.max(Math.ceil(j[3])-N,1),W=1,z=1;F>d&&(W=F/d,F=d),V>d&&(z=V/d,V=d),this.current.startNewPathAndClipBox([0,0,F,V]);let X="groupAt"+this.groupLevel;C.smask&&(X+="_smask_"+this.smaskCounter++%2);let Q=this.cachedCanvases.getCanvas(X,F,V),Y=Q.context;Y.scale(1/W,1/z),Y.translate(-w,-N),Y.transform(...L),C.smask?this.smaskStack.push({canvas:Q.canvas,context:Y,offsetX:w,offsetY:N,scaleX:W,scaleY:z,subtype:C.smask.subtype,backdrop:C.smask.backdrop,transferMap:C.smask.transferMap||null,startTransformInverse:null}):(E.setTransform(1,0,0,1,0,0),E.translate(w,N),E.scale(W,z),E.save()),b(E,Y),this.ctx=Y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(E),this.groupLevel++}endGroup(C){if(!this.contentVisible)return;this.groupLevel--;let E=this.ctx,L=this.groupStack.pop();if(this.ctx=L,this.ctx.imageSmoothingEnabled=!1,C.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let j=(0,n.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...j);let p=i.Util.getAxialAlignedBoundingBox([0,0,E.canvas.width,E.canvas.height],j);this.ctx.drawImage(E.canvas,0,0),this.ctx.restore(),this.compose(p)}}beginAnnotation(C,E,L,j,p){if(this.#e(),x(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(E)&&E.length===4){let w=E[2]-E[0],N=E[3]-E[1];if(p&&this.annotationCanvasMap){L=L.slice(),L[4]-=E[0],L[5]-=E[1],E=E.slice(),E[0]=E[1]=0,E[2]=w,E[3]=N;let[F,V]=i.Util.singularValueDecompose2dScale((0,n.getCurrentTransform)(this.ctx)),{viewportScale:W}=this,z=Math.ceil(w*this.outputScaleX*W),X=Math.ceil(N*this.outputScaleY*W);this.annotationCanvas=this.canvasFactory.create(z,X);let{canvas:Q,context:Y}=this.annotationCanvas;this.annotationCanvasMap.set(C,Q),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Y,this.ctx.setTransform(F,0,0,-V,0,N*V),x(this.ctx,this.foregroundColor)}else x(this.ctx,this.foregroundColor),this.ctx.rect(E[0],E[1],w,N),this.ctx.clip(),this.endPath()}this.current=new R(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...L),this.transform(...j)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(C){if(!this.contentVisible)return;let E=C.count;C=this.getObject(C.data,C),C.count=E;let L=this.ctx,j=this.processingType3;if(j&&(j.compiled===void 0&&(j.compiled=A(C)),j.compiled)){j.compiled(L);return}let p=this._createMaskCanvas(C),w=p.canvas;L.save(),L.setTransform(1,0,0,1,0,0),L.drawImage(w,p.offsetX,p.offsetY),L.restore(),this.compose()}paintImageMaskXObjectRepeat(C,E,L=0,j=0,p,w){if(!this.contentVisible)return;C=this.getObject(C.data,C);let N=this.ctx;N.save();let F=(0,n.getCurrentTransform)(N);N.transform(E,L,j,p,0,0);let V=this._createMaskCanvas(C);N.setTransform(1,0,0,1,0,0);for(let W=0,z=w.length;W<z;W+=2){let X=i.Util.transform(F,[E,L,j,p,w[W],w[W+1]]),[Q,Y]=i.Util.applyTransform([0,0],X);N.drawImage(V.canvas,Q,Y)}N.restore(),this.compose()}paintImageMaskXObjectGroup(C){if(!this.contentVisible)return;let E=this.ctx,L=this.current.fillColor,j=this.current.patternFill;for(let p of C){let{data:w,width:N,height:F,transform:V}=p,W=this.cachedCanvases.getCanvas("maskCanvas",N,F),z=W.context;z.save();let X=this.getObject(w,p);v(z,X),z.globalCompositeOperation="source-in",z.fillStyle=j?L.getPattern(z,this,(0,n.getCurrentTransformInverse)(E),s.PathType.FILL):L,z.fillRect(0,0,N,F),z.restore(),E.save(),E.transform(...V),E.scale(1,-1),S(E,W.canvas,0,0,N,F,0,-1,1,1),E.restore()}this.compose()}paintImageXObject(C){if(!this.contentVisible)return;let E=this.getObject(C);if(!E){(0,i.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(E)}paintImageXObjectRepeat(C,E,L,j){if(!this.contentVisible)return;let p=this.getObject(C);if(!p){(0,i.warn)("Dependent image isn't ready yet");return}let w=p.width,N=p.height,F=[];for(let V=0,W=j.length;V<W;V+=2)F.push({transform:[E,0,0,L,j[V],j[V+1]],x:0,y:0,w,h:N});this.paintInlineImageXObjectGroup(p,F)}paintInlineImageXObject(C){if(!this.contentVisible)return;let E=C.width,L=C.height,j=this.ctx;this.save(),j.scale(1/E,-1/L);let p;if(typeof HTMLElement=="function"&&C instanceof HTMLElement||!C.data)p=C;else{let V=this.cachedCanvases.getCanvas("inlineImage",E,L),W=V.context;D(W,C,this.current.transferMaps),p=V.canvas}let w=this._scaleImage(p,(0,n.getCurrentTransformInverse)(j));j.imageSmoothingEnabled=U((0,n.getCurrentTransform)(j),C.interpolate);let[N,F]=S(j,w.img,0,0,w.paintWidth,w.paintHeight,0,-L,E,L);if(this.imageLayer){let[V,W]=i.Util.applyTransform([0,-L],(0,n.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:C,left:V,top:W,width:N,height:F})}this.compose(),this.restore()}paintInlineImageXObjectGroup(C,E){if(!this.contentVisible)return;let L=this.ctx,j=C.width,p=C.height,w=this.cachedCanvases.getCanvas("inlineImage",j,p),N=w.context;D(N,C,this.current.transferMaps);for(let F of E){if(L.save(),L.transform(...F.transform),L.scale(1,-1),S(L,w.canvas,F.x,F.y,F.w,F.h,0,-1,1,1),this.imageLayer){let[V,W]=i.Util.applyTransform([F.x,F.y],(0,n.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:C,left:V,top:W,width:j,height:p})}L.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(C){}markPointProps(C,E){}beginMarkedContent(C){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(C,E){C==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(E)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(C){let E=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(C);let L=this.ctx;this.pendingClip&&(E||(this.pendingClip===H?L.clip("evenodd"):L.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),L.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let C=(0,n.getCurrentTransform)(this.ctx);if(C[1]===0&&C[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(C[0]),Math.abs(C[3]));else{let E=Math.abs(C[0]*C[3]-C[2]*C[1]),L=Math.hypot(C[0],C[2]),j=Math.hypot(C[1],C[3]);this._cachedGetSinglePixelWidth=Math.max(L,j)/E}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){let{lineWidth:C}=this.current,E=(0,n.getCurrentTransform)(this.ctx),L,j;if(E[1]===0&&E[2]===0){let p=Math.abs(E[0]),w=Math.abs(E[3]);if(C===0)L=1/p,j=1/w;else{let N=p*C,F=w*C;L=N<1?1/N:1,j=F<1?1/F:1}}else{let p=Math.abs(E[0]*E[3]-E[2]*E[1]),w=Math.hypot(E[0],E[1]),N=Math.hypot(E[2],E[3]);if(C===0)L=N/p,j=w/p;else{let F=C*p;L=N>F?N/F:1,j=w>F?w/F:1}}this._cachedScaleForStroking=[L,j]}return this._cachedScaleForStroking}rescaleAndStroke(C){let{ctx:E}=this,{lineWidth:L}=this.current,[j,p]=this.getScaleForStroking();if(E.lineWidth=L||1,j===1&&p===1){E.stroke();return}let w,N,F;C&&(w=(0,n.getCurrentTransform)(E),N=E.getLineDash().slice(),F=E.lineDashOffset),E.scale(j,p);let V=Math.max(j,p);E.setLineDash(E.getLineDash().map(W=>W/V)),E.lineDashOffset/=V,E.stroke(),C&&(E.setTransform(...w),E.setLineDash(N),E.lineDashOffset=F)}isContentVisible(){for(let C=this.markedContentStack.length-1;C>=0;C--)if(!this.markedContentStack[C].visible)return!1;return!0}}e.CanvasGraphics=$;for(let I in i.OPS)$.prototype[I]!==void 0&&($.prototype[i.OPS[I]]=$.prototype[I])},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=f;var n=r(1),i=r(8),s=r(3);let o={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=o;function a(S,A){if(!A||s.isNodeJS)return;let R=A[2]-A[0],D=A[3]-A[1],v=new Path2D;v.rect(A[0],A[1],R,D),S.clip(v)}class l{constructor(){this.constructor===l&&(0,n.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,n.unreachable)("Abstract method `getPattern` called.")}}class c extends l{constructor(A){super(),this._type=A[1],this._bbox=A[2],this._colorStops=A[3],this._p0=A[4],this._p1=A[5],this._r0=A[6],this._r1=A[7],this.matrix=null}_createGradient(A){let R;this._type==="axial"?R=A.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(R=A.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let D of this._colorStops)R.addColorStop(D[0],D[1]);return R}getPattern(A,R,D,v){let b;if(v===o.STROKE||v===o.FILL){let x=R.current.getClippedPathBoundingBox(v,(0,i.getCurrentTransform)(A))||[0,0,0,0],k=Math.ceil(x[2]-x[0])||1,B=Math.ceil(x[3]-x[1])||1,_=R.cachedCanvases.getCanvas("pattern",k,B,!0),O=_.context;O.clearRect(0,0,O.canvas.width,O.canvas.height),O.beginPath(),O.rect(0,0,O.canvas.width,O.canvas.height),O.translate(-x[0],-x[1]),D=n.Util.transform(D,[1,0,0,1,x[0],x[1]]),O.transform(...R.baseTransform),this.matrix&&O.transform(...this.matrix),a(O,this._bbox),O.fillStyle=this._createGradient(O),O.fill(),b=A.createPattern(_.canvas,"no-repeat");let q=new DOMMatrix(D);try{b.setTransform(q)}catch(U){(0,n.warn)(`RadialAxialShadingPattern.getPattern: "${U?.message}".`)}}else a(A,this._bbox),b=this._createGradient(A);return b}}function d(S,A,R,D,v,b,x,k){let B=A.coords,_=A.colors,O=S.data,q=S.width*4,U;B[R+1]>B[D+1]&&(U=R,R=D,D=U,U=b,b=x,x=U),B[D+1]>B[v+1]&&(U=D,D=v,v=U,U=x,x=k,k=U),B[R+1]>B[D+1]&&(U=R,R=D,D=U,U=b,b=x,x=U);let T=(B[R]+A.offsetX)*A.scaleX,M=(B[R+1]+A.offsetY)*A.scaleY,P=(B[D]+A.offsetX)*A.scaleX,H=(B[D+1]+A.offsetY)*A.scaleY,$=(B[v]+A.offsetX)*A.scaleX,I=(B[v+1]+A.offsetY)*A.scaleY;if(M>=I)return;let C=_[b],E=_[b+1],L=_[b+2],j=_[x],p=_[x+1],w=_[x+2],N=_[k],F=_[k+1],V=_[k+2],W=Math.round(M),z=Math.round(I),X,Q,Y,G,Z,ee,te,re;for(let ie=W;ie<=z;ie++){if(ie<H){let de;ie<M?de=0:de=(M-ie)/(M-H),X=T-(T-P)*de,Q=C-(C-j)*de,Y=E-(E-p)*de,G=L-(L-w)*de}else{let de;ie>I?de=1:H===I?de=0:de=(H-ie)/(H-I),X=P-(P-$)*de,Q=j-(j-N)*de,Y=p-(p-F)*de,G=w-(w-V)*de}let ae;ie<M?ae=0:ie>I?ae=1:ae=(M-ie)/(M-I),Z=T-(T-$)*ae,ee=C-(C-N)*ae,te=E-(E-F)*ae,re=L-(L-V)*ae;let se=Math.round(Math.min(X,Z)),Ee=Math.round(Math.max(X,Z)),Ie=q*ie+se*4;for(let de=se;de<=Ee;de++)ae=(X-de)/(X-Z),ae<0?ae=0:ae>1&&(ae=1),O[Ie++]=Q-(Q-ee)*ae|0,O[Ie++]=Y-(Y-te)*ae|0,O[Ie++]=G-(G-re)*ae|0,O[Ie++]=255}}function u(S,A,R){let D=A.coords,v=A.colors,b,x;switch(A.type){case"lattice":let k=A.verticesPerRow,B=Math.floor(D.length/k)-1,_=k-1;for(b=0;b<B;b++){let O=b*k;for(let q=0;q<_;q++,O++)d(S,R,D[O],D[O+1],D[O+k],v[O],v[O+1],v[O+k]),d(S,R,D[O+k+1],D[O+1],D[O+k],v[O+k+1],v[O+1],v[O+k])}break;case"triangles":for(b=0,x=D.length;b<x;b+=3)d(S,R,D[b],D[b+1],D[b+2],v[b],v[b+1],v[b+2]);break;default:throw new Error("illegal figure")}}class h extends l{constructor(A){super(),this._coords=A[2],this._colors=A[3],this._figures=A[4],this._bounds=A[5],this._bbox=A[7],this._background=A[8],this.matrix=null}_createMeshCanvas(A,R,D){let k=Math.floor(this._bounds[0]),B=Math.floor(this._bounds[1]),_=Math.ceil(this._bounds[2])-k,O=Math.ceil(this._bounds[3])-B,q=Math.min(Math.ceil(Math.abs(_*A[0]*1.1)),3e3),U=Math.min(Math.ceil(Math.abs(O*A[1]*1.1)),3e3),T=_/q,M=O/U,P={coords:this._coords,colors:this._colors,offsetX:-k,offsetY:-B,scaleX:1/T,scaleY:1/M},H=q+2*2,$=U+2*2,I=D.getCanvas("mesh",H,$,!1),C=I.context,E=C.createImageData(q,U);if(R){let j=E.data;for(let p=0,w=j.length;p<w;p+=4)j[p]=R[0],j[p+1]=R[1],j[p+2]=R[2],j[p+3]=255}for(let j of this._figures)u(E,j,P);return C.putImageData(E,2,2),{canvas:I.canvas,offsetX:k-2*T,offsetY:B-2*M,scaleX:T,scaleY:M}}getPattern(A,R,D,v){a(A,this._bbox);let b;if(v===o.SHADING)b=n.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(A));else if(b=n.Util.singularValueDecompose2dScale(R.baseTransform),this.matrix){let k=n.Util.singularValueDecompose2dScale(this.matrix);b=[b[0]*k[0],b[1]*k[1]]}let x=this._createMeshCanvas(b,v===o.SHADING?null:this._background,R.cachedCanvases);return v!==o.SHADING&&(A.setTransform(...R.baseTransform),this.matrix&&A.transform(...this.matrix)),A.translate(x.offsetX,x.offsetY),A.scale(x.scaleX,x.scaleY),A.createPattern(x.canvas,"no-repeat")}}class m extends l{getPattern(){return"hotpink"}}function f(S){switch(S[0]){case"RadialAxial":return new c(S);case"Mesh":return new h(S);case"Dummy":return new m}throw new Error(`Unknown IR type: ${S[0]}`)}let g={COLORED:1,UNCOLORED:2};class y{static get MAX_PATTERN_SIZE(){return(0,n.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(A,R,D,v,b){this.operatorList=A[2],this.matrix=A[3]||[1,0,0,1,0,0],this.bbox=A[4],this.xstep=A[5],this.ystep=A[6],this.paintType=A[7],this.tilingType=A[8],this.color=R,this.ctx=D,this.canvasGraphicsFactory=v,this.baseTransform=b}createPatternCanvas(A){let R=this.operatorList,D=this.bbox,v=this.xstep,b=this.ystep,x=this.paintType,k=this.tilingType,B=this.color,_=this.canvasGraphicsFactory;(0,n.info)("TilingType: "+k);let O=D[0],q=D[1],U=D[2],T=D[3],M=n.Util.singularValueDecompose2dScale(this.matrix),P=n.Util.singularValueDecompose2dScale(this.baseTransform),H=[M[0]*P[0],M[1]*P[1]],$=this.getSizeAndScale(v,this.ctx.canvas.width,H[0]),I=this.getSizeAndScale(b,this.ctx.canvas.height,H[1]),C=A.cachedCanvases.getCanvas("pattern",$.size,I.size,!0),E=C.context,L=_.createCanvasGraphics(E);L.groupLevel=A.groupLevel,this.setFillAndStrokeStyleToContext(L,x,B);let j=O,p=q,w=U,N=T;return O<0&&(j=0,w+=Math.abs(O)),q<0&&(p=0,N+=Math.abs(q)),E.translate(-($.scale*j),-(I.scale*p)),L.transform($.scale,0,0,I.scale,0,0),E.save(),this.clipBbox(L,j,p,w,N),L.baseTransform=(0,i.getCurrentTransform)(L.ctx),L.executeOperatorList(R),L.endDrawing(),{canvas:C.canvas,scaleX:$.scale,scaleY:I.scale,offsetX:j,offsetY:p}}getSizeAndScale(A,R,D){A=Math.abs(A);let v=Math.max(y.MAX_PATTERN_SIZE,R),b=Math.ceil(A*D);return b>=v?b=v:D=b/A,{scale:D,size:b}}clipBbox(A,R,D,v,b){let x=v-R,k=b-D;A.ctx.rect(R,D,x,k),A.current.updateRectMinMax((0,i.getCurrentTransform)(A.ctx),[R,D,v,b]),A.clip(),A.endPath()}setFillAndStrokeStyleToContext(A,R,D){let v=A.ctx,b=A.current;switch(R){case g.COLORED:let x=this.ctx;v.fillStyle=x.fillStyle,v.strokeStyle=x.strokeStyle,b.fillColor=x.fillStyle,b.strokeColor=x.strokeStyle;break;case g.UNCOLORED:let k=n.Util.makeHexColor(D[0],D[1],D[2]);v.fillStyle=k,v.strokeStyle=k,b.fillColor=k,b.strokeColor=k;break;default:throw new n.FormatError(`Unsupported paint type: ${R}`)}}getPattern(A,R,D,v){let b=D;v!==o.SHADING&&(b=n.Util.transform(b,R.baseTransform),this.matrix&&(b=n.Util.transform(b,this.matrix)));let x=this.createPatternCanvas(R),k=new DOMMatrix(b);k=k.translate(x.offsetX,x.offsetY),k=k.scale(1/x.scaleX,1/x.scaleY);let B=A.createPattern(x.canvas,"repeat");try{B.setTransform(k)}catch(_){(0,n.warn)(`TilingPattern.getPattern: "${_?.message}".`)}return B}}e.TilingPattern=y},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.applyMaskImageData=i;var n=r(1);function i({src:s,srcPos:o=0,dest:a,destPos:l=0,width:c,height:d,inverseDecode:u=!1}){let h=n.FeatureTest.isLittleEndian?4278190080:255,[m,f]=u?[0,h]:[h,0],g=c>>3,y=c&7,S=s.length;a=new Uint32Array(a.buffer);for(let A=0;A<d;A++){for(let D=o+g;o<D;o++){let v=o<S?s[o]:255;a[l++]=v&128?f:m,a[l++]=v&64?f:m,a[l++]=v&32?f:m,a[l++]=v&16?f:m,a[l++]=v&8?f:m,a[l++]=v&4?f:m,a[l++]=v&2?f:m,a[l++]=v&1?f:m}if(y===0)continue;let R=o<S?s[o++]:255;for(let D=0;D<y;D++)a[l++]=R&1<<7-D?f:m}return{srcPos:o,destPos:l}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;let r=Object.create(null);e.GlobalWorkerOptions=r,r.workerPort=r.workerPort===void 0?null:r.workerPort,r.workerSrc=r.workerSrc===void 0?"":r.workerSrc},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var n=r(1);let i={UNKNOWN:0,DATA:1,ERROR:2},s={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function o(l){switch(l instanceof Error||typeof l=="object"&&l!==null||(0,n.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),l.name){case"AbortException":return new n.AbortException(l.message);case"MissingPDFException":return new n.MissingPDFException(l.message);case"PasswordException":return new n.PasswordException(l.message,l.code);case"UnexpectedResponseException":return new n.UnexpectedResponseException(l.message,l.status);case"UnknownErrorException":return new n.UnknownErrorException(l.message,l.details);default:return new n.UnknownErrorException(l.message,l.toString())}}class a{constructor(c,d,u){this.sourceName=c,this.targetName=d,this.comObj=u,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=h=>{let m=h.data;if(m.targetName!==this.sourceName)return;if(m.stream){this._processStreamMessage(m);return}if(m.callback){let g=m.callbackId,y=this.callbackCapabilities[g];if(!y)throw new Error(`Cannot resolve callback ${g}`);if(delete this.callbackCapabilities[g],m.callback===i.DATA)y.resolve(m.data);else if(m.callback===i.ERROR)y.reject(o(m.reason));else throw new Error("Unexpected callback case");return}let f=this.actionHandler[m.action];if(!f)throw new Error(`Unknown action from worker: ${m.action}`);if(m.callbackId){let g=this.sourceName,y=m.sourceName;new Promise(function(S){S(f(m.data))}).then(function(S){u.postMessage({sourceName:g,targetName:y,callback:i.DATA,callbackId:m.callbackId,data:S})},function(S){u.postMessage({sourceName:g,targetName:y,callback:i.ERROR,callbackId:m.callbackId,reason:o(S)})});return}if(m.streamId){this._createStreamSink(m);return}f(m.data)},u.addEventListener("message",this._onComObjOnMessage)}on(c,d){let u=this.actionHandler;if(u[c])throw new Error(`There is already an actionName called "${c}"`);u[c]=d}send(c,d,u){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,data:d},u)}sendWithPromise(c,d,u){let h=this.callbackId++,m=(0,n.createPromiseCapability)();this.callbackCapabilities[h]=m;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,callbackId:h,data:d},u)}catch(f){m.reject(f)}return m.promise}sendWithStream(c,d,u,h){let m=this.streamId++,f=this.sourceName,g=this.targetName,y=this.comObj;return new ReadableStream({start:S=>{let A=(0,n.createPromiseCapability)();return this.streamControllers[m]={controller:S,startCall:A,pullCall:null,cancelCall:null,isClosed:!1},y.postMessage({sourceName:f,targetName:g,action:c,streamId:m,data:d,desiredSize:S.desiredSize},h),A.promise},pull:S=>{let A=(0,n.createPromiseCapability)();return this.streamControllers[m].pullCall=A,y.postMessage({sourceName:f,targetName:g,stream:s.PULL,streamId:m,desiredSize:S.desiredSize}),A.promise},cancel:S=>{(0,n.assert)(S instanceof Error,"cancel must have a valid reason");let A=(0,n.createPromiseCapability)();return this.streamControllers[m].cancelCall=A,this.streamControllers[m].isClosed=!0,y.postMessage({sourceName:f,targetName:g,stream:s.CANCEL,streamId:m,reason:o(S)}),A.promise}},u)}_createStreamSink(c){let d=c.streamId,u=this.sourceName,h=c.sourceName,m=this.comObj,f=this,g=this.actionHandler[c.action],y={enqueue(S,A=1,R){if(this.isCancelled)return;let D=this.desiredSize;this.desiredSize-=A,D>0&&this.desiredSize<=0&&(this.sinkCapability=(0,n.createPromiseCapability)(),this.ready=this.sinkCapability.promise),m.postMessage({sourceName:u,targetName:h,stream:s.ENQUEUE,streamId:d,chunk:S},R)},close(){this.isCancelled||(this.isCancelled=!0,m.postMessage({sourceName:u,targetName:h,stream:s.CLOSE,streamId:d}),delete f.streamSinks[d])},error(S){(0,n.assert)(S instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,m.postMessage({sourceName:u,targetName:h,stream:s.ERROR,streamId:d,reason:o(S)}))},sinkCapability:(0,n.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:c.desiredSize,ready:null};y.sinkCapability.resolve(),y.ready=y.sinkCapability.promise,this.streamSinks[d]=y,new Promise(function(S){S(g(c.data,y))}).then(function(){m.postMessage({sourceName:u,targetName:h,stream:s.START_COMPLETE,streamId:d,success:!0})},function(S){m.postMessage({sourceName:u,targetName:h,stream:s.START_COMPLETE,streamId:d,reason:o(S)})})}_processStreamMessage(c){let d=c.streamId,u=this.sourceName,h=c.sourceName,m=this.comObj,f=this.streamControllers[d],g=this.streamSinks[d];switch(c.stream){case s.START_COMPLETE:c.success?f.startCall.resolve():f.startCall.reject(o(c.reason));break;case s.PULL_COMPLETE:c.success?f.pullCall.resolve():f.pullCall.reject(o(c.reason));break;case s.PULL:if(!g){m.postMessage({sourceName:u,targetName:h,stream:s.PULL_COMPLETE,streamId:d,success:!0});break}g.desiredSize<=0&&c.desiredSize>0&&g.sinkCapability.resolve(),g.desiredSize=c.desiredSize,new Promise(function(y){y(g.onPull&&g.onPull())}).then(function(){m.postMessage({sourceName:u,targetName:h,stream:s.PULL_COMPLETE,streamId:d,success:!0})},function(y){m.postMessage({sourceName:u,targetName:h,stream:s.PULL_COMPLETE,streamId:d,reason:o(y)})});break;case s.ENQUEUE:if((0,n.assert)(f,"enqueue should have stream controller"),f.isClosed)break;f.controller.enqueue(c.chunk);break;case s.CLOSE:if((0,n.assert)(f,"close should have stream controller"),f.isClosed)break;f.isClosed=!0,f.controller.close(),this._deleteStreamController(f,d);break;case s.ERROR:(0,n.assert)(f,"error should have stream controller"),f.controller.error(o(c.reason)),this._deleteStreamController(f,d);break;case s.CANCEL_COMPLETE:c.success?f.cancelCall.resolve():f.cancelCall.reject(o(c.reason)),this._deleteStreamController(f,d);break;case s.CANCEL:if(!g)break;new Promise(function(y){y(g.onCancel&&g.onCancel(o(c.reason)))}).then(function(){m.postMessage({sourceName:u,targetName:h,stream:s.CANCEL_COMPLETE,streamId:d,success:!0})},function(y){m.postMessage({sourceName:u,targetName:h,stream:s.CANCEL_COMPLETE,streamId:d,reason:o(y)})}),g.sinkCapability.reject(o(c.reason)),g.isCancelled=!0,delete this.streamSinks[d];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(c,d){return ue(this,null,function*(){yield Promise.allSettled([c.startCall&&c.startCall.promise,c.pullCall&&c.pullCall.promise,c.cancelCall&&c.cancelCall.promise]),delete this.streamControllers[d]})}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var n=r(1);class i{#e;#t;constructor({parsedData:o,rawData:a}){this.#e=o,this.#t=a}getRaw(){return this.#t}get(o){return this.#e.get(o)??null}getAll(){return(0,n.objectFromMap)(this.#e)}has(o){return this.#e.has(o)}}e.Metadata=i},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var n=r(1);let i=Symbol("INTERNAL");class s{#e=!0;constructor(l,c){this.name=l,this.intent=c}get visible(){return this.#e}_setVisible(l,c){l!==i&&(0,n.unreachable)("Internal method `_setVisible` called."),this.#e=c}}class o{#e=!0;#t=new Map;#n=null;#r=null;constructor(l){if(this.name=null,this.creator=null,l!==null){this.name=l.name,this.creator=l.creator,this.#r=l.order;for(let c of l.groups)this.#t.set(c.id,new s(c.name,c.intent));if(l.baseState==="OFF")for(let c of this.#t.values())c._setVisible(i,!1);for(let c of l.on)this.#t.get(c)._setVisible(i,!0);for(let c of l.off)this.#t.get(c)._setVisible(i,!1);this.#n=new Map;for(let[c,d]of this.#t)this.#n.set(c,d.visible)}}#s(l){let c=l.length;if(c<2)return!0;let d=l[0];for(let u=1;u<c;u++){let h=l[u],m;if(Array.isArray(h))m=this.#s(h);else if(this.#t.has(h))m=this.#t.get(h).visible;else return(0,n.warn)(`Optional content group not found: ${h}`),!0;switch(d){case"And":if(!m)return!1;break;case"Or":if(m)return!0;break;case"Not":return!m;default:return!0}}return d==="And"}isVisible(l){if(this.#t.size===0)return!0;if(!l)return(0,n.warn)("Optional content group not defined."),!0;if(l.type==="OCG")return this.#t.has(l.id)?this.#t.get(l.id).visible:((0,n.warn)(`Optional content group not found: ${l.id}`),!0);if(l.type==="OCMD"){if(l.expression)return this.#s(l.expression);if(!l.policy||l.policy==="AnyOn"){for(let c of l.ids){if(!this.#t.has(c))return(0,n.warn)(`Optional content group not found: ${c}`),!0;if(this.#t.get(c).visible)return!0}return!1}else if(l.policy==="AllOn"){for(let c of l.ids){if(!this.#t.has(c))return(0,n.warn)(`Optional content group not found: ${c}`),!0;if(!this.#t.get(c).visible)return!1}return!0}else if(l.policy==="AnyOff"){for(let c of l.ids){if(!this.#t.has(c))return(0,n.warn)(`Optional content group not found: ${c}`),!0;if(!this.#t.get(c).visible)return!0}return!1}else if(l.policy==="AllOff"){for(let c of l.ids){if(!this.#t.has(c))return(0,n.warn)(`Optional content group not found: ${c}`),!0;if(this.#t.get(c).visible)return!1}return!0}return(0,n.warn)(`Unknown optional content policy ${l.policy}.`),!0}return(0,n.warn)(`Unknown group type ${l.type}.`),!0}setVisibility(l,c=!0){if(!this.#t.has(l)){(0,n.warn)(`Optional content group not found: ${l}`);return}this.#t.get(l)._setVisible(i,!!c),this.#e=null}get hasInitialVisibility(){if(this.#e!==null)return this.#e;for(let[l,c]of this.#t){let d=this.#n.get(l);if(c.visible!==d)return this.#e=!1}return this.#e=!0}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,n.objectFromMap)(this.#t):null}getGroup(l){return this.#t.get(l)||null}}e.OptionalContentConfig=o},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var n=r(1),i=r(8);class s{constructor(c,d){(0,n.assert)(d,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=c.progressiveDone||!1,this._contentDispositionFilename=c.contentDispositionFilename||null;let u=c.initialData;if(u?.length>0){let h=new Uint8Array(u).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=d,this._isStreamingSupported=!c.disableStream,this._isRangeSupported=!c.disableRange,this._contentLength=c.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((h,m)=>{this._onReceiveData({begin:h,chunk:m})}),this._pdfDataRangeTransport.addProgressListener((h,m)=>{this._onProgress({loaded:h,total:m})}),this._pdfDataRangeTransport.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(c){let d=new Uint8Array(c.chunk).buffer;if(c.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(d):this._queuedChunks.push(d);else{let u=this._rangeReaders.some(function(h){return h._begin!==c.begin?!1:(h._enqueue(d),!0)});(0,n.assert)(u,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(c){if(c.total===void 0){let d=this._rangeReaders[0];d?.onProgress&&d.onProgress({loaded:c.loaded})}else{let d=this._fullRequestReader;d?.onProgress&&d.onProgress({loaded:c.loaded,total:c.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(c){let d=this._rangeReaders.indexOf(c);d>=0&&this._rangeReaders.splice(d,1)}getFullReader(){(0,n.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let c=this._queuedChunks;return this._queuedChunks=null,new o(this,c,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(c,d){if(d<=this._progressiveDataLength)return null;let u=new a(this,c,d);return this._pdfDataRangeTransport.requestDataRange(c,d),this._rangeReaders.push(u),u}cancelAllRequests(c){this._fullRequestReader&&this._fullRequestReader.cancel(c);for(let d of this._rangeReaders.slice(0))d.cancel(c);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=s;class o{constructor(c,d,u=!1,h=null){this._stream=c,this._done=u||!1,this._filename=(0,i.isPdfFile)(h)?h:null,this._queuedChunks=d||[],this._loaded=0;for(let m of this._queuedChunks)this._loaded+=m.byteLength;this._requests=[],this._headersReady=Promise.resolve(),c._fullRequestReader=this,this.onProgress=null}_enqueue(c){this._done||(this._requests.length>0?this._requests.shift().resolve({value:c,done:!1}):this._queuedChunks.push(c),this._loaded+=c.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return ue(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let c=(0,n.createPromiseCapability)();return this._requests.push(c),c.promise})}cancel(c){this._done=!0;for(let d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class a{constructor(c,d,u){this._stream=c,this._begin=d,this._end=u,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(c){if(!this._done){if(this._requests.length===0)this._queuedChunk=c;else{this._requests.shift().resolve({value:c,done:!1});for(let u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return ue(this,null,function*(){if(this._queuedChunk){let d=this._queuedChunk;return this._queuedChunk=null,{value:d,done:!1}}if(this._done)return{value:void 0,done:!0};let c=(0,n.createPromiseCapability)();return this._requests.push(c),c.promise})}cancel(c){this._done=!0;for(let d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class r{static textContent(i){let s=[],o={items:s,styles:Object.create(null)};function a(l){if(!l)return;let c=null,d=l.name;if(d==="#text")c=l.value;else if(r.shouldBuildText(d))l?.attributes?.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&s.push({str:c}),!!l.children)for(let u of l.children)a(u)}return a(i),o}static shouldBuildText(i){return!(i==="textarea"||i==="input"||i==="option"||i==="select")}}e.XfaText=r},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var n=r(9);let i=function(l){return new Promise((c,d)=>{Mc().readFile(l,(h,m)=>{if(h||!m){d(new Error(h));return}c(new Uint8Array(m))})})};class s extends n.BaseCanvasFactory{_createCanvas(c,d){return fp().createCanvas(c,d)}}e.NodeCanvasFactory=s;class o extends n.BaseCMapReaderFactory{_fetchData(c,d){return i(c).then(u=>({cMapData:u,compressionType:d}))}}e.NodeCMapReaderFactory=o;class a extends n.BaseStandardFontDataFactory{_fetchData(c){return i(c)}}e.NodeStandardFontDataFactory=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var n=r(7),i=r(1),s=r(23),o=r(24);let a=(()=>{class l{#e;#t=!1;#n=this.pointerup.bind(this);#r=this.pointerdown.bind(this);#s=new Map;#c=!1;#a=!1;#i;static _initialized=!1;constructor(d){l._initialized||(l._initialized=!0,s.FreeTextEditor.initialize(d.l10n),o.InkEditor.initialize(d.l10n),d.uiManager.registerEditorTypes([s.FreeTextEditor,o.InkEditor])),this.#i=d.uiManager,this.annotationStorage=d.annotationStorage,this.pageIndex=d.pageIndex,this.div=d.div,this.#e=d.accessibilityManager,this.#i.addLayer(this)}updateToolbar(d){this.#i.updateToolbar(d)}updateMode(d=this.#i.getMode()){this.#o(),d===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#i.unselectAll()}addInkEditorIfNeeded(d){if(!d&&this.#i.getMode()!==i.AnnotationEditorType.INK)return;if(!d){for(let h of this.#s.values())if(h.isEmpty()){h.setInBackground();return}}this.#l({offsetX:0,offsetY:0}).setInBackground()}setEditingState(d){this.#i.setEditingState(d)}addCommands(d){this.#i.addCommands(d)}enable(){this.div.style.pointerEvents="auto";for(let d of this.#s.values())d.enableEditing()}disable(){this.div.style.pointerEvents="none";for(let d of this.#s.values())d.disableEditing()}setActiveEditor(d){this.#i.getActive()!==d&&this.#i.setActiveEditor(d)}enableClick(){this.div.addEventListener("pointerdown",this.#r),this.div.addEventListener("pointerup",this.#n)}disableClick(){this.div.removeEventListener("pointerdown",this.#r),this.div.removeEventListener("pointerup",this.#n)}attach(d){this.#s.set(d.id,d)}detach(d){this.#s.delete(d.id),this.#e?.removePointerInTextLayer(d.contentDiv)}remove(d){this.#i.removeEditor(d),this.detach(d),this.annotationStorage.remove(d.id),d.div.style.display="none",setTimeout(()=>{d.div.style.display="",d.div.remove(),d.isAttachedToDOM=!1,document.activeElement===document.body&&this.#i.focusMainContainer()},0),this.#a||this.addInkEditorIfNeeded(!1)}#h(d){d.parent!==this&&(this.attach(d),d.pageIndex=this.pageIndex,d.parent?.detach(d),d.parent=this,d.div&&d.isAttachedToDOM&&(d.div.remove(),this.div.append(d.div)))}add(d){if(this.#h(d),this.#i.addEditor(d),this.attach(d),!d.isAttachedToDOM){let u=d.render();this.div.append(u),d.isAttachedToDOM=!0}this.moveEditorInDOM(d),d.onceAdded(),this.addToAnnotationStorage(d)}moveEditorInDOM(d){this.#e?.moveElementInDOM(this.div,d.div,d.contentDiv,!0)}addToAnnotationStorage(d){!d.isEmpty()&&!this.annotationStorage.has(d.id)&&this.annotationStorage.setValue(d.id,d)}addOrRebuild(d){d.needsToBeRebuilt()?d.rebuild():this.add(d)}addANewEditor(d){let u=()=>{this.addOrRebuild(d)},h=()=>{d.remove()};this.addCommands({cmd:u,undo:h,mustExec:!0})}addUndoableEditor(d){let u=()=>{this.addOrRebuild(d)},h=()=>{d.remove()};this.addCommands({cmd:u,undo:h,mustExec:!1})}getNextId(){return this.#i.getId()}#u(d){switch(this.#i.getMode()){case i.AnnotationEditorType.FREETEXT:return new s.FreeTextEditor(d);case i.AnnotationEditorType.INK:return new o.InkEditor(d)}return null}deserialize(d){switch(d.annotationType){case i.AnnotationEditorType.FREETEXT:return s.FreeTextEditor.deserialize(d,this);case i.AnnotationEditorType.INK:return o.InkEditor.deserialize(d,this)}return null}#l(d){let u=this.getNextId(),h=this.#u({parent:this,id:u,x:d.offsetX,y:d.offsetY});return h&&this.add(h),h}setSelected(d){this.#i.setSelected(d)}toggleSelected(d){this.#i.toggleSelected(d)}isSelected(d){return this.#i.isSelected(d)}unselect(d){this.#i.unselect(d)}pointerup(d){let u=n.KeyboardManager.platform.isMac;if(!(d.button!==0||d.ctrlKey&&u)&&d.target===this.div&&this.#c){if(this.#c=!1,!this.#t){this.#t=!0;return}this.#l(d)}}pointerdown(d){let u=n.KeyboardManager.platform.isMac;if(d.button!==0||d.ctrlKey&&u||d.target!==this.div)return;this.#c=!0;let h=this.#i.getActive();this.#t=!h||h.isEmpty()}drop(d){let u=d.dataTransfer.getData("text/plain"),h=this.#i.getEditor(u);if(!h)return;d.preventDefault(),d.dataTransfer.dropEffect="move",this.#h(h);let m=this.div.getBoundingClientRect(),f=d.clientX-m.x,g=d.clientY-m.y;h.translate(f-h.startX,g-h.startY),this.moveEditorInDOM(h),h.div.focus()}dragover(d){d.preventDefault()}destroy(){this.#i.getActive()?.parent===this&&this.#i.setActiveEditor(null);for(let d of this.#s.values())this.#e?.removePointerInTextLayer(d.contentDiv),d.isAttachedToDOM=!1,d.div.remove(),d.parent=null;this.div=null,this.#s.clear(),this.#i.removeLayer(this)}#o(){this.#a=!0;for(let d of this.#s.values())d.isEmpty()&&d.remove();this.#a=!1}render(d){this.viewport=d.viewport,(0,n.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(let u of this.#i.getEditors(this.pageIndex))this.add(u);this.updateMode()}update(d){this.viewport=d.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){let[d,u,h,m]=this.viewport.viewBox,f=h-d,g=m-u;return[f,g]}get viewportBaseDimensions(){let{width:d,height:u,rotation:h}=this.viewport;return h%180===0?[d,u]:[u,d]}setDimensions(){let{width:d,height:u,rotation:h}=this.viewport,m=h%180!==0,f=Math.floor(d)+"px",g=Math.floor(u)+"px";this.div.style.width=m?g:f,this.div.style.height=m?f:g,this.div.setAttribute("data-main-rotation",h)}}return l})();e.AnnotationEditorLayer=a},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var n=r(1),i=r(7),s=r(6);class o extends s.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivKeydown.bind(this);#r;#s="";#c=!1;#a;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=new i.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],o.prototype.commitOrRemove]]);static _type="freetext";constructor(l){super(Fe(ce({},l),{name:"freeTextEditor"})),this.#r=l.color||o._defaultColor||s.AnnotationEditor._defaultLineColor,this.#a=l.fontSize||o._defaultFontSize}static initialize(l){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(d=>[d,l.get(d)]));let c=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(c.getPropertyValue("--freetext-padding"))}static updateDefaultParams(l,c){switch(l){case n.AnnotationEditorParamsType.FREETEXT_SIZE:o._defaultFontSize=c;break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:o._defaultColor=c;break}}updateParams(l,c){switch(l){case n.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(c);break;case n.AnnotationEditorParamsType.FREETEXT_COLOR:this.#h(c);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,o._defaultFontSize],[n.AnnotationEditorParamsType.FREETEXT_COLOR,o._defaultColor||s.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.FREETEXT_SIZE,this.#a],[n.AnnotationEditorParamsType.FREETEXT_COLOR,this.#r]]}#i(l){let c=u=>{this.editorDiv.style.fontSize=`calc(${u}px * var(--scale-factor))`,this.translate(0,-(u-this.#a)*this.parent.scaleFactor),this.#a=u,this.#l()},d=this.#a;this.parent.addCommands({cmd:()=>{c(l)},undo:()=>{c(d)},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#h(l){let c=this.#r;this.parent.addCommands({cmd:()=>{this.#r=l,this.editorDiv.style.color=l},undo:()=>{this.#r=c,this.editorDiv.style.color=c},mustExec:!0,type:n.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){return[-o._internalPadding*this.parent.scaleFactor,-(o._internalPadding+this.#a)*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(n.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",this.#n),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#n),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.div.focus(),this.isEditing=!1)}focusin(l){super.focusin(l),l.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}#u(){let l=this.editorDiv.getElementsByTagName("div");if(l.length===0)return this.editorDiv.innerText;let c=[];for(let d=0,u=l.length;d<u;d++){let m=l[d].firstChild;m?.nodeName==="#text"?c.push(m.data):c.push("")}return c.join(`
`)}#l(){let[l,c]=this.parent.viewportBaseDimensions,d=this.div.getBoundingClientRect();this.width=d.width/l,this.height=d.height/c}commit(){super.commit(),this.#c||(this.#c=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#s=this.#u().trimEnd(),this.#l()}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(l){this.enableEditMode(),this.editorDiv.focus()}keydown(l){l.target===this.div&&l.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(l){o._keyboardManager.exec(this,l)}editorDivFocus(l){this.isEditing=!0}editorDivBlur(l){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let l,c;this.width&&(l=this.x,c=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),o._l10nPromise.get("editor_free_text_aria_label").then(u=>this.editorDiv?.setAttribute("aria-label",u)),o._l10nPromise.get("free_text_default_content").then(u=>this.editorDiv?.setAttribute("default-content",u)),this.editorDiv.contentEditable=!0;let{style:d}=this.editorDiv;if(d.fontSize=`calc(${this.#a}px * var(--scale-factor))`,d.color=this.#r,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){let[u,h]=this.parent.viewportBaseDimensions;this.setAt(l*u,c*h,this.width*u,this.height*h);for(let m of this.#s.split(`
`)){let f=document.createElement("div");f.append(m?document.createTextNode(m):document.createElement("br")),this.editorDiv.append(f)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(l,c){let d=super.deserialize(l,c);return d.#a=l.fontSize,d.#r=n.Util.makeHexColor(...l.color),d.#s=l.value,d}serialize(){if(this.isEmpty())return null;let l=o._internalPadding*this.parent.scaleFactor,c=this.getRect(l,l),d=s.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:n.AnnotationEditorType.FREETEXT,color:d,fontSize:this.#a,value:this.#s,pageIndex:this.parent.pageIndex,rect:c,rotation:this.rotation}}}e.FreeTextEditor=o},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,Object.defineProperty(e,"fitCurve",{enumerable:!0,get:function(){return s.fitCurve}});var n=r(1),i=r(6),s=r(25),o=r(7);let a=16,l=(()=>{class c extends i.AnnotationEditor{#e=0;#t=0;#n=0;#r=this.canvasPointermove.bind(this);#s=this.canvasPointerleave.bind(this);#c=this.canvasPointerup.bind(this);#a=this.canvasPointerdown.bind(this);#i=!1;#h=!1;#u=null;#l=null;#o=0;#p=0;#f=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(u){super(Fe(ce({},u),{name:"inkEditor"})),this.color=u.color||null,this.thickness=u.thickness||null,this.opacity=u.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(u){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(h=>[h,u.get(h)]))}static updateDefaultParams(u,h){switch(u){case n.AnnotationEditorParamsType.INK_THICKNESS:c._defaultThickness=h;break;case n.AnnotationEditorParamsType.INK_COLOR:c._defaultColor=h;break;case n.AnnotationEditorParamsType.INK_OPACITY:c._defaultOpacity=h/100;break}}updateParams(u,h){switch(u){case n.AnnotationEditorParamsType.INK_THICKNESS:this.#y(h);break;case n.AnnotationEditorParamsType.INK_COLOR:this.#m(h);break;case n.AnnotationEditorParamsType.INK_OPACITY:this.#v(h);break}}static get defaultPropertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,c._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,c._defaultColor||i.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(c._defaultOpacity*100)]]}get propertiesToUpdate(){return[[n.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||c._defaultThickness],[n.AnnotationEditorParamsType.INK_COLOR,this.color||c._defaultColor||i.AnnotationEditor._defaultLineColor],[n.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??c._defaultOpacity))]]}#y(u){let h=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=u,this.#D()},undo:()=>{this.thickness=h,this.#D()},mustExec:!0,type:n.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(u){let h=this.color;this.parent.addCommands({cmd:()=>{this.color=u,this.#g()},undo:()=>{this.color=h,this.#g()},mustExec:!0,type:n.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#v(u){u/=100;let h=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=u,this.#g()},undo:()=>{this.opacity=h,this.#g()},mustExec:!0,type:n.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(this.#b(),this.#w()),this.isAttachedToDOM||(this.parent.add(this),this.#S()),this.#D())}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#l.disconnect(),this.#l=null,super.remove())}enableEditMode(){this.#i||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#a),this.canvas.addEventListener("pointerup",this.#c))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#a),this.canvas.removeEventListener("pointerup",this.#c))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#C(){let{width:u,height:h,rotation:m}=this.parent.viewport;switch(m){case 90:return[0,u,u,h];case 180:return[u,h,u,h];case 270:return[h,0,u,h];default:return[0,0,u,h]}}#_(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,o.opacityToHex)(this.opacity)}`}#d(u,h){this.isEditing=!0,this.#h||(this.#h=!0,this.#S(),this.thickness||=c._defaultThickness,this.color||=c._defaultColor||i.AnnotationEditor._defaultLineColor,this.opacity??=c._defaultOpacity),this.currentPath.push([u,h]),this.#u=null,this.#_(),this.ctx.beginPath(),this.ctx.moveTo(u,h),this.#f=()=>{this.#f&&(this.#u&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):this.#g(),this.ctx.lineTo(...this.#u),this.#u=null,this.ctx.stroke()),window.requestAnimationFrame(this.#f))},window.requestAnimationFrame(this.#f)}#E(u,h){let[m,f]=this.currentPath.at(-1);u===m&&h===f||(this.currentPath.push([u,h]),this.#u=[u,h])}#I(u,h){this.ctx.closePath(),this.#f=null,u=Math.min(Math.max(u,0),this.canvas.width),h=Math.min(Math.max(h,0),this.canvas.height);let[m,f]=this.currentPath.at(-1);(u!==m||h!==f)&&this.currentPath.push([u,h]);let g;if(this.currentPath.length!==1)g=(0,s.fitCurve)(this.currentPath,30,null);else{let R=[u,h];g=[[R,R.slice(),R.slice(),R]]}let y=c.#P(g);this.currentPath.length=0;let S=()=>{this.paths.push(g),this.bezierPath2D.push(y),this.rebuild()},A=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#b(),this.#w()),this.#D())};this.parent.addCommands({cmd:S,undo:A,mustExec:!0})}#g(){if(this.isEmpty()){this.#x();return}this.#_();let{canvas:u,ctx:h}=this;h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,u.width,u.height),this.#x();for(let m of this.bezierPath2D)h.stroke(m)}commit(){this.#i||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#i=!0,this.div.classList.add("disabled"),this.#D(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(u){super.focusin(u),this.enableEditMode()}canvasPointerdown(u){u.button!==0||!this.isInEditMode()||this.#i||(this.setInForeground(),u.type!=="mouse"&&this.div.focus(),u.stopPropagation(),this.canvas.addEventListener("pointerleave",this.#s),this.canvas.addEventListener("pointermove",this.#r),this.#d(u.offsetX,u.offsetY))}canvasPointermove(u){u.stopPropagation(),this.#E(u.offsetX,u.offsetY)}canvasPointerup(u){u.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(u.stopPropagation(),this.#A(u),this.setInBackground())}canvasPointerleave(u){this.#A(u),this.setInBackground()}#A(u){this.#I(u.offsetX,u.offsetY),this.canvas.removeEventListener("pointerleave",this.#s),this.canvas.removeEventListener("pointermove",this.#r),this.parent.addToAnnotationStorage(this)}#b(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",c._l10nPromise.get("editor_ink_canvas_aria_label").then(u=>this.canvas?.setAttribute("aria-label",u)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#w(){this.#l=new ResizeObserver(u=>{let h=u[0].contentRect;h.width&&h.height&&this.setDimensions(h.width,h.height)}),this.#l.observe(this.div)}render(){if(this.div)return this.div;let u,h;this.width&&(u=this.x,h=this.y),super.render(),c._l10nPromise.get("editor_ink_aria_label").then(S=>this.div?.setAttribute("aria-label",S));let[m,f,g,y]=this.#C();if(this.setAt(m,f,0,0),this.setDims(g,y),this.#b(),this.width){let[S,A]=this.parent.viewportBaseDimensions;this.setAt(u*S,h*A,this.width*S,this.height*A),this.#h=!0,this.#S(),this.setDims(this.width*S,this.height*A),this.#g(),this.#O(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#w(),this.div}#S(){if(!this.#h)return;let[u,h]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*u),this.canvas.height=Math.ceil(this.height*h),this.#x()}setDimensions(u,h){let m=Math.round(u),f=Math.round(h);if(this.#o===m&&this.#p===f)return;this.#o=m,this.#p=f,this.canvas.style.visibility="hidden",this.#e&&Math.abs(this.#e-u/h)>.01&&(h=Math.ceil(u/this.#e),this.setDims(u,h));let[g,y]=this.parent.viewportBaseDimensions;this.width=u/g,this.height=h/y,this.#i&&this.#T(u,h),this.#S(),this.#g(),this.canvas.style.visibility="visible"}#T(u,h){let m=this.#M(),f=(u-m)/this.#n,g=(h-m)/this.#t;this.scaleFactor=Math.min(f,g)}#x(){let u=this.#M()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+u,this.translationY*this.scaleFactor+u)}static#P(u){let h=new Path2D;for(let m=0,f=u.length;m<f;m++){let[g,y,S,A]=u[m];m===0&&h.moveTo(...g),h.bezierCurveTo(y[0],y[1],S[0],S[1],A[0],A[1])}return h}#N(u,h,m,f){let y=[],S=this.thickness/2,A,R;for(let D of this.paths){A=[],R=[];for(let v=0,b=D.length;v<b;v++){let[x,k,B,_]=D[v],O=u*(x[0]+h)+S,q=f-u*(x[1]+m)-S,U=u*(k[0]+h)+S,T=f-u*(k[1]+m)-S,M=u*(B[0]+h)+S,P=f-u*(B[1]+m)-S,H=u*(_[0]+h)+S,$=f-u*(_[1]+m)-S;v===0&&(A.push(O,q),R.push(O,q)),A.push(U,T,M,P,H,$),this.#L(O,q,U,T,M,P,H,$,4,R)}y.push({bezier:A,points:R})}return y}#L(u,h,m,f,g,y,S,A,R,D){if(this.#k(u,h,m,f,g,y,S,A)){D.push(S,A);return}for(let v=1;v<R-1;v++){let b=v/R,x=1-b,k=b*u+x*m,B=b*h+x*f,_=b*m+x*g,O=b*f+x*y,q=b*g+x*S,U=b*y+x*A;k=b*k+x*_,B=b*B+x*O,_=b*_+x*q,O=b*O+x*U,k=b*k+x*_,B=b*B+x*O,D.push(k,B)}D.push(S,A)}#k(u,h,m,f,g,y,S,A){let D=(3*m-2*u-S)**2,v=(3*f-2*h-A)**2,b=(3*g-u-2*S)**2,x=(3*y-h-2*A)**2;return Math.max(D,b)+Math.max(v,x)<=10}#R(){let u=1/0,h=-1/0,m=1/0,f=-1/0;for(let g of this.paths)for(let[y,S,A,R]of g){let D=n.Util.bezierBoundingBox(...y,...S,...A,...R);u=Math.min(u,D[0]),m=Math.min(m,D[1]),h=Math.max(h,D[2]),f=Math.max(f,D[3])}return[u,m,h,f]}#M(){return this.#i?Math.ceil(this.thickness*this.parent.scaleFactor):0}#D(u=!1){if(this.isEmpty())return;if(!this.#i){this.#g();return}let h=this.#R(),m=this.#M();this.#n=Math.max(a,h[2]-h[0]),this.#t=Math.max(a,h[3]-h[1]);let f=Math.ceil(m+this.#n*this.scaleFactor),g=Math.ceil(m+this.#t*this.scaleFactor),[y,S]=this.parent.viewportBaseDimensions;this.width=f/y,this.height=g/S,this.#e=f/g,this.#O();let A=this.translationX,R=this.translationY;this.translationX=-h[0],this.translationY=-h[1],this.#S(),this.#g(),this.#o=f,this.#p=g,this.setDims(f,g);let D=u?m/this.scaleFactor/2:0;this.translate(A-this.translationX-D,R-this.translationY-D)}#O(){let{style:u}=this.div;this.#e>=1?(u.minHeight=`${a}px`,u.minWidth=`${Math.round(this.#e*a)}px`):(u.minWidth=`${a}px`,u.minHeight=`${Math.round(a/this.#e)}px`)}static deserialize(u,h){let m=super.deserialize(u,h);m.thickness=u.thickness,m.color=n.Util.makeHexColor(...u.color),m.opacity=u.opacity;let[f,g]=h.pageDimensions,y=m.width*f,S=m.height*g,A=h.scaleFactor,R=u.thickness/2;m.#e=y/S,m.#i=!0,m.#o=Math.round(y),m.#p=Math.round(S);for(let{bezier:v}of u.paths){let b=[];m.paths.push(b);let x=A*(v[0]-R),k=A*(S-v[1]-R);for(let _=2,O=v.length;_<O;_+=6){let q=A*(v[_]-R),U=A*(S-v[_+1]-R),T=A*(v[_+2]-R),M=A*(S-v[_+3]-R),P=A*(v[_+4]-R),H=A*(S-v[_+5]-R);b.push([[x,k],[q,U],[T,M],[P,H]]),x=P,k=H}let B=this.#P(b);m.bezierPath2D.push(B)}let D=m.#R();return m.#n=Math.max(a,D[2]-D[0]),m.#t=Math.max(a,D[3]-D[1]),m.#T(y,S),m}serialize(){if(this.isEmpty())return null;let u=this.getRect(0,0),h=this.rotation%180===0?u[3]-u[1]:u[2]-u[0],m=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:n.AnnotationEditorType.INK,color:m,thickness:this.thickness,opacity:this.opacity,paths:this.#N(this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,h),pageIndex:this.parent.pageIndex,rect:u,rotation:this.rotation}}}return c})();e.InkEditor=l},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fitCurve=void 0;let n=r(26);e.fitCurve=n},t=>{function e(f,g,y){if(!Array.isArray(f))throw new TypeError("First argument should be an array");if(f.forEach(D=>{if(!Array.isArray(D)||D.some(v=>typeof v!="number")||D.length!==f[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),f=f.filter((D,v)=>v===0||!D.every((b,x)=>b===f[v-1][x])),f.length<2)return[];let S=f.length,A=u(f[1],f[0]),R=u(f[S-2],f[S-1]);return r(f,A,R,g,y)}function r(f,g,y,S,A){var D,v,b,x,k,B,_,O,q,U,T,M,P;if(f.length===2)return M=h.vectorLen(h.subtract(f[0],f[1]))/3,D=[f[0],h.addArrays(f[0],h.mulItems(g,M)),h.addArrays(f[1],h.mulItems(y,M)),f[1]],[D];if(v=a(f),[D,x,B]=n(f,v,v,g,y,A),x===0||x<S)return[D];if(x<S*S)for(b=v,k=x,_=B,P=0;P<20;P++){if(b=s(D,f,b),[D,x,B]=n(f,v,b,g,y,A),x<S)return[D];if(B===_){let H=x/k;if(H>.9999&&H<1.0001)break}k=x,_=B}return T=[],O=h.subtract(f[B-1],f[B+1]),O.every(H=>H===0)&&(O=h.subtract(f[B-1],f[B]),[O[0],O[1]]=[-O[1],O[0]]),q=h.normalize(O),U=h.mulItems(q,-1),T=T.concat(r(f.slice(0,B+1),g,q,S,A)),T=T.concat(r(f.slice(B),U,y,S,A)),T}function n(f,g,y,S,A,R){var D,v,b;return D=i(f,y,S,A,R),[v,b]=l(f,D,g),R&&R({bez:D,points:f,params:g,maxErr:v,maxPoint:b}),[D,v,b]}function i(f,g,y,S){var A,R,D,v,b,x,k,B,_,O,q,U,T,M,P,H,$,I=f[0],C=f[f.length-1];for(A=[I,null,null,C],R=h.zeros_Xx2x2(g.length),T=0,M=g.length;T<M;T++)H=g[T],$=1-H,D=R[T],D[0]=h.mulItems(y,3*H*($*$)),D[1]=h.mulItems(S,3*$*(H*H));for(v=[[0,0],[0,0]],b=[0,0],T=0,M=f.length;T<M;T++)H=g[T],D=R[T],v[0][0]+=h.dot(D[0],D[0]),v[0][1]+=h.dot(D[0],D[1]),v[1][0]+=h.dot(D[0],D[1]),v[1][1]+=h.dot(D[1],D[1]),P=h.subtract(f[T],m.q([I,I,C,C],H)),b[0]+=h.dot(D[0],P),b[1]+=h.dot(D[1],P);return x=v[0][0]*v[1][1]-v[1][0]*v[0][1],k=v[0][0]*b[1]-v[1][0]*b[0],B=b[0]*v[1][1]-b[1]*v[0][1],_=x===0?0:B/x,O=x===0?0:k/x,U=h.vectorLen(h.subtract(I,C)),q=1e-6*U,_<q||O<q?(A[1]=h.addArrays(I,h.mulItems(y,U/3)),A[2]=h.addArrays(C,h.mulItems(S,U/3))):(A[1]=h.addArrays(I,h.mulItems(y,_)),A[2]=h.addArrays(C,h.mulItems(S,O))),A}function s(f,g,y){return y.map((S,A)=>o(f,g[A],S))}function o(f,g,y){var S=h.subtract(m.q(f,y),g),A=m.qprime(f,y),R=h.mulMatrix(S,A),D=h.sum(h.squareItems(A))+2*h.mulMatrix(S,m.qprimeprime(f,y));return D===0?y:y-R/D}function a(f){var g=[],y,S,A;return f.forEach((R,D)=>{y=D?S+h.vectorLen(h.subtract(R,A)):0,g.push(y),S=y,A=R}),g=g.map(R=>R/S),g}function l(f,g,y){var S,A,R,D,v,b,x,k;A=0,R=Math.floor(f.length/2);let B=c(g,10);for(v=0,b=f.length;v<b;v++)x=f[v],k=d(g,y[v],B,10),D=h.subtract(m.q(g,k),x),S=D[0]*D[0]+D[1]*D[1],S>A&&(A=S,R=v);return[A,R]}var c=function(f,g){for(var y,S=[0],A=f[0],R=0,D=1;D<=g;D++)y=m.q(f,D/g),R+=h.vectorLen(h.subtract(y,A)),S.push(R),A=y;return S=S.map(v=>v/R),S};function d(f,g,y,S){if(g<0)return 0;if(g>1)return 1;for(var A,R,D,v,b,x=1;x<=S;x++)if(g<=y[x]){v=(x-1)/S,D=x/S,R=y[x-1],A=y[x],b=(g-R)/(A-R)*(D-v)+v;break}return b}function u(f,g){return h.normalize(h.subtract(f,g))}class h{static zeros_Xx2x2(g){for(var y=[];g--;)y.push([0,0]);return y}static mulItems(g,y){return g.map(S=>S*y)}static mulMatrix(g,y){return g.reduce((S,A,R)=>S+A*y[R],0)}static subtract(g,y){return g.map((S,A)=>S-y[A])}static addArrays(g,y){return g.map((S,A)=>S+y[A])}static addItems(g,y){return g.map(S=>S+y)}static sum(g){return g.reduce((y,S)=>y+S)}static dot(g,y){return h.mulMatrix(g,y)}static vectorLen(g){return Math.hypot(...g)}static divItems(g,y){return g.map(S=>S/y)}static squareItems(g){return g.map(y=>y*y)}static normalize(g){return this.divItems(g,this.vectorLen(g))}}class m{static q(g,y){var S=1-y,A=h.mulItems(g[0],S*S*S),R=h.mulItems(g[1],3*S*S*y),D=h.mulItems(g[2],3*S*y*y),v=h.mulItems(g[3],y*y*y);return h.addArrays(h.addArrays(A,R),h.addArrays(D,v))}static qprime(g,y){var S=1-y,A=h.mulItems(h.subtract(g[1],g[0]),3*S*S),R=h.mulItems(h.subtract(g[2],g[1]),6*S*y),D=h.mulItems(h.subtract(g[3],g[2]),3*y*y);return h.addArrays(h.addArrays(A,R),D)}static qprimeprime(g,y){return h.addArrays(h.mulItems(h.addArrays(h.subtract(g[2],h.mulItems(g[1],2)),g[0]),6*(1-y)),h.mulItems(h.addArrays(h.subtract(g[3],h.mulItems(g[2],2)),g[1]),6*y))}}t.exports=e,t.exports.fitCubic=r,t.exports.createTangent=u},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var n=r(1),i=r(8),s=r(5),o=r(28),a=r(29);let l=1e3,c=9,d=new WeakSet;function u(j){return{width:j[2]-j[0],height:j[3]-j[1]}}class h{static create(p){switch(p.data.annotationType){case n.AnnotationType.LINK:return new f(p);case n.AnnotationType.TEXT:return new g(p);case n.AnnotationType.WIDGET:switch(p.data.fieldType){case"Tx":return new S(p);case"Btn":return p.data.radioButton?new R(p):p.data.checkBox?new A(p):new D(p);case"Ch":return new v(p)}return new y(p);case n.AnnotationType.POPUP:return new b(p);case n.AnnotationType.FREETEXT:return new k(p);case n.AnnotationType.LINE:return new B(p);case n.AnnotationType.SQUARE:return new _(p);case n.AnnotationType.CIRCLE:return new O(p);case n.AnnotationType.POLYLINE:return new q(p);case n.AnnotationType.CARET:return new T(p);case n.AnnotationType.INK:return new M(p);case n.AnnotationType.POLYGON:return new U(p);case n.AnnotationType.HIGHLIGHT:return new P(p);case n.AnnotationType.UNDERLINE:return new H(p);case n.AnnotationType.SQUIGGLY:return new $(p);case n.AnnotationType.STRIKEOUT:return new I(p);case n.AnnotationType.STAMP:return new C(p);case n.AnnotationType.FILEATTACHMENT:return new E(p);default:return new m(p)}}}class m{constructor(p,{isRenderable:w=!1,ignoreBorder:N=!1,createQuadrilaterals:F=!1}={}){this.isRenderable=w,this.data=p.data,this.layer=p.layer,this.page=p.page,this.viewport=p.viewport,this.linkService=p.linkService,this.downloadManager=p.downloadManager,this.imageResourcesPath=p.imageResourcesPath,this.renderForms=p.renderForms,this.svgFactory=p.svgFactory,this.annotationStorage=p.annotationStorage,this.enableScripting=p.enableScripting,this.hasJSActions=p.hasJSActions,this._fieldObjects=p.fieldObjects,this._mouseState=p.mouseState,w&&(this.container=this._createContainer(N)),F&&(this.quadrilaterals=this._createQuadrilaterals(N))}_createContainer(p=!1){let w=this.data,N=this.page,F=this.viewport,V=document.createElement("section"),{width:W,height:z}=u(w.rect),[X,Q,Y,G]=F.viewBox,Z=Y-X,ee=G-Q;V.setAttribute("data-annotation-id",w.id);let te=n.Util.normalizeRect([w.rect[0],N.view[3]-w.rect[1]+N.view[1],w.rect[2],N.view[3]-w.rect[3]+N.view[1]]);if(!p&&w.borderStyle.width>0){V.style.borderWidth=`${w.borderStyle.width}px`;let ie=w.borderStyle.horizontalCornerRadius,ae=w.borderStyle.verticalCornerRadius;if(ie>0||ae>0){let Ee=`calc(${ie}px * var(--scale-factor)) / calc(${ae}px * var(--scale-factor))`;V.style.borderRadius=Ee}else if(this instanceof R){let Ee=`calc(${W}px * var(--scale-factor)) / calc(${z}px * var(--scale-factor))`;V.style.borderRadius=Ee}switch(w.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:V.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:V.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:V.style.borderBottomStyle="solid";break;default:break}let se=w.borderColor||null;se?V.style.borderColor=n.Util.makeHexColor(se[0]|0,se[1]|0,se[2]|0):V.style.borderWidth=0}V.style.left=`${100*(te[0]-X)/Z}%`,V.style.top=`${100*(te[1]-Q)/ee}%`;let{rotation:re}=w;return w.hasOwnCanvas||re===0?(V.style.width=`${100*W/Z}%`,V.style.height=`${100*z/ee}%`):this.setRotation(re,V),V}setRotation(p,w=this.container){let[N,F,V,W]=this.viewport.viewBox,z=V-N,X=W-F,{width:Q,height:Y}=u(this.data.rect),G,Z;p%180===0?(G=100*Q/z,Z=100*Y/X):(G=100*Y/z,Z=100*Q/X),w.style.width=`${G}%`,w.style.height=`${Z}%`,w.setAttribute("data-main-rotation",(360-p)%360)}get _commonActions(){let p=(w,N,F)=>{let V=F.detail[w];F.target.style[N]=o.ColorConverters[`${V[0]}_HTML`](V.slice(1))};return(0,n.shadow)(this,"_commonActions",{display:w=>{let N=w.detail.display%2===1;this.container.style.visibility=N?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:N,print:w.detail.display===0||w.detail.display===3})},print:w=>{this.annotationStorage.setValue(this.data.id,{print:w.detail.print})},hidden:w=>{this.container.style.visibility=w.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:w.detail.hidden})},focus:w=>{setTimeout(()=>w.target.focus({preventScroll:!1}),0)},userName:w=>{w.target.title=w.detail.userName},readonly:w=>{w.detail.readonly?w.target.setAttribute("readonly",""):w.target.removeAttribute("readonly")},required:w=>{this._setRequired(w.target,w.detail.required)},bgColor:w=>{p("bgColor","backgroundColor",w)},fillColor:w=>{p("fillColor","backgroundColor",w)},fgColor:w=>{p("fgColor","color",w)},textColor:w=>{p("textColor","color",w)},borderColor:w=>{p("borderColor","borderColor",w)},strokeColor:w=>{p("strokeColor","borderColor",w)},rotation:w=>{let N=w.detail.rotation;this.setRotation(N),this.annotationStorage.setValue(this.data.id,{rotation:N})}})}_dispatchEventFromSandbox(p,w){let N=this._commonActions;for(let F of Object.keys(w.detail)){let V=p[F]||N[F];V&&V(w)}}_setDefaultPropertiesFromJS(p){if(!this.enableScripting)return;let w=this.annotationStorage.getRawValue(this.data.id);if(!w)return;let N=this._commonActions;for(let[F,V]of Object.entries(w)){let W=N[F];if(W){let z={detail:{[F]:V},target:p};W(z),delete w[F]}}}_createQuadrilaterals(p=!1){if(!this.data.quadPoints)return null;let w=[],N=this.data.rect;for(let F of this.data.quadPoints)this.data.rect=[F[2].x,F[2].y,F[1].x,F[1].y],w.push(this._createContainer(p));return this.data.rect=N,w}_createPopup(p,w){let N=this.container;this.quadrilaterals&&(p=p||this.quadrilaterals,N=this.quadrilaterals[0]),p||(p=document.createElement("div"),p.className="popupTriggerArea",N.append(p));let V=new x({container:N,trigger:p,color:w.color,titleObj:w.titleObj,modificationDate:w.modificationDate,contentsObj:w.contentsObj,richText:w.richText,hideWrapper:!0}).render();V.style.left="100%",N.append(V)}_renderQuadrilaterals(p){for(let w of this.quadrilaterals)w.className=p;return this.quadrilaterals}render(){(0,n.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(p,w=null){let N=[];if(this._fieldObjects){let F=this._fieldObjects[p];if(F)for(let{page:V,id:W,exportValues:z}of F){if(V===-1||W===w)continue;let X=typeof z=="string"?z:null,Q=document.querySelector(`[data-element-id="${W}"]`);if(Q&&!d.has(Q)){(0,n.warn)(`_getElementsByName - element not allowed: ${W}`);continue}N.push({id:W,exportValue:X,domElement:Q})}return N}for(let F of document.getElementsByName(p)){let{id:V,exportValue:W}=F;V!==w&&d.has(F)&&N.push({id:V,exportValue:W,domElement:F})}return N}static get platform(){let p=typeof navigator<"u"?navigator.platform:"";return(0,n.shadow)(this,"platform",{isWin:p.includes("Win"),isMac:p.includes("Mac")})}}class f extends m{constructor(p,w=null){super(p,{isRenderable:!0,ignoreBorder:!!w?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=p.data.isTooltipOnly}render(){let{data:p,linkService:w}=this,N=document.createElement("a");N.setAttribute("data-element-id",p.id);let F=!1;return p.url?(w.addLinkAttributes(N,p.url,p.newWindow),F=!0):p.action?(this._bindNamedAction(N,p.action),F=!0):p.dest?(this._bindLink(N,p.dest),F=!0):(p.actions&&(p.actions.Action||p.actions["Mouse Up"]||p.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(N,p),F=!0),p.resetForm?(this._bindResetFormAction(N,p.resetForm),F=!0):this.isTooltipOnly&&!F&&(this._bindLink(N,""),F=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((V,W)=>{let z=W===0?N:N.cloneNode();return V.append(z),V}):(this.container.className="linkAnnotation",F&&this.container.append(N),this.container)}_bindLink(p,w){p.href=this.linkService.getDestinationHash(w),p.onclick=()=>(w&&this.linkService.goToDestination(w),!1),(w||w==="")&&(p.className="internalLink")}_bindNamedAction(p,w){p.href=this.linkService.getAnchorUrl(""),p.onclick=()=>(this.linkService.executeNamedAction(w),!1),p.className="internalLink"}_bindJSAction(p,w){p.href=this.linkService.getAnchorUrl("");let N=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let F of Object.keys(w.actions)){let V=N.get(F);V&&(p[V]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w.id,name:F}}),!1))}p.onclick||(p.onclick=()=>!1),p.className="internalLink"}_bindResetFormAction(p,w){let N=p.onclick;if(N||(p.href=this.linkService.getAnchorUrl("")),p.className="internalLink",!this._fieldObjects){(0,n.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),N||(p.onclick=()=>!1);return}p.onclick=()=>{N&&N();let{fields:F,refs:V,include:W}=w,z=[];if(F.length!==0||V.length!==0){let Y=new Set(V);for(let G of F){let Z=this._fieldObjects[G]||[];for(let{id:ee}of Z)Y.add(ee)}for(let G of Object.values(this._fieldObjects))for(let Z of G)Y.has(Z.id)===W&&z.push(Z)}else for(let Y of Object.values(this._fieldObjects))z.push(...Y);let X=this.annotationStorage,Q=[];for(let Y of z){let{id:G}=Y;switch(Q.push(G),Y.type){case"text":{let ee=Y.defaultValue||"";X.setValue(G,{value:ee});break}case"checkbox":case"radiobutton":{let ee=Y.defaultValue===Y.exportValues;X.setValue(G,{value:ee});break}case"combobox":case"listbox":{let ee=Y.defaultValue||"";X.setValue(G,{value:ee});break}default:continue}let Z=document.querySelector(`[data-element-id="${G}"]`);if(Z){if(!d.has(Z)){(0,n.warn)(`_bindResetFormAction - element not allowed: ${G}`);continue}}else continue;Z.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Q,name:"ResetForm"}}),!1}}}class g extends m{constructor(p){let w=!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str);super(p,{isRenderable:w})}render(){this.container.className="textAnnotation";let p=document.createElement("img");return p.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",p.alt="[{{type}} Annotation]",p.dataset.l10nId="text_annotation_type",p.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(p,this.data),this.container.append(p),this.container}}class y extends m{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(p){let{isWin:w,isMac:N}=m.platform;return w&&p.ctrlKey||N&&p.metaKey}_setEventListener(p,w,N,F){w.includes("mouse")?p.addEventListener(w,V=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:N,value:F(V),shift:V.shiftKey,modifier:this._getKeyModifier(V)}})}):p.addEventListener(w,V=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:N,value:F(V)}})})}_setEventListeners(p,w,N){for(let[F,V]of w)(V==="Action"||this.data.actions?.[V])&&this._setEventListener(p,F,V,N)}_setBackgroundColor(p){let w=this.data.backgroundColor||null;p.style.backgroundColor=w===null?"transparent":n.Util.makeHexColor(w[0],w[1],w[2])}_setTextStyle(p){let w=["left","center","right"],{fontColor:N}=this.data.defaultAppearanceData,F=this.data.defaultAppearanceData.fontSize||c,V=p.style,W;if(this.data.multiLine){let z=Math.abs(this.data.rect[3]-this.data.rect[1]),X=Math.round(z/(n.LINE_FACTOR*F))||1,Q=z/X;W=Math.min(F,Math.round(Q/n.LINE_FACTOR))}else{let z=Math.abs(this.data.rect[3]-this.data.rect[1]);W=Math.min(F,Math.round(z/n.LINE_FACTOR))}V.fontSize=`calc(${W}px * var(--scale-factor))`,V.color=n.Util.makeHexColor(N[0],N[1],N[2]),this.data.textAlignment!==null&&(V.textAlign=w[this.data.textAlignment])}_setRequired(p,w){w?p.setAttribute("required",!0):p.removeAttribute("required"),p.setAttribute("aria-required",w)}}class S extends y{constructor(p){let w=p.renderForms||!p.data.hasAppearance&&!!p.data.fieldValue;super(p,{isRenderable:w})}setPropertyOnSiblings(p,w,N,F){let V=this.annotationStorage;for(let W of this._getElementsByName(p.name,p.id))W.domElement&&(W.domElement[w]=N),V.setValue(W.id,{[F]:N})}render(){let p=this.annotationStorage,w=this.data.id;this.container.className="textWidgetAnnotation";let N=null;if(this.renderForms){let F=p.getValue(w,{value:this.data.fieldValue}),V=F.formattedValue||F.value||"",W=p.getValue(w,{charLimit:this.data.maxLen}).charLimit;W&&V.length>W&&(V=V.slice(0,W));let z={userValue:V,formattedValue:null,valueOnFocus:""};this.data.multiLine?(N=document.createElement("textarea"),N.textContent=V,this.data.doNotScroll&&(N.style.overflowY="hidden")):(N=document.createElement("input"),N.type="text",N.setAttribute("value",V),this.data.doNotScroll&&(N.style.overflowX="hidden")),d.add(N),N.setAttribute("data-element-id",w),N.disabled=this.data.readOnly,N.name=this.data.fieldName,N.tabIndex=l,this._setRequired(N,this.data.required),W&&(N.maxLength=W),N.addEventListener("input",Q=>{p.setValue(w,{value:Q.target.value}),this.setPropertyOnSiblings(N,"value",Q.target.value,"value")}),N.addEventListener("resetform",Q=>{let Y=this.data.defaultFieldValue??"";N.value=z.userValue=Y,z.formattedValue=null});let X=Q=>{let{formattedValue:Y}=z;Y!=null&&(Q.target.value=Y),Q.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){N.addEventListener("focus",Y=>{z.userValue&&(Y.target.value=z.userValue),z.valueOnFocus=Y.target.value}),N.addEventListener("updatefromsandbox",Y=>{let G={value(Z){z.userValue=Z.detail.value??"",p.setValue(w,{value:z.userValue.toString()}),Z.target.value=z.userValue},formattedValue(Z){let{formattedValue:ee}=Z.detail;z.formattedValue=ee,ee!=null&&Z.target!==document.activeElement&&(Z.target.value=ee),p.setValue(w,{formattedValue:ee})},selRange(Z){Z.target.setSelectionRange(...Z.detail.selRange)},charLimit:Z=>{let{charLimit:ee}=Z.detail,{target:te}=Z;if(ee===0){te.removeAttribute("maxLength");return}te.setAttribute("maxLength",ee);let re=z.userValue;!re||re.length<=ee||(re=re.slice(0,ee),te.value=z.userValue=re,p.setValue(w,{value:re}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:re,willCommit:!0,commitKey:1,selStart:te.selectionStart,selEnd:te.selectionEnd}}))}};this._dispatchEventFromSandbox(G,Y)}),N.addEventListener("keydown",Y=>{let G=-1;if(Y.key==="Escape"?G=0:Y.key==="Enter"?G=2:Y.key==="Tab"&&(G=3),G===-1)return;let{value:Z}=Y.target;z.valueOnFocus!==Z&&(z.userValue=Z,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:Z,willCommit:!0,commitKey:G,selStart:Y.target.selectionStart,selEnd:Y.target.selectionEnd}}))});let Q=X;X=null,N.addEventListener("blur",Y=>{let{value:G}=Y.target;z.userValue=G,this._mouseState.isDown&&z.valueOnFocus!==G&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:G,willCommit:!0,commitKey:1,selStart:Y.target.selectionStart,selEnd:Y.target.selectionEnd}}),Q(Y)}),this.data.actions?.Keystroke&&N.addEventListener("beforeinput",Y=>{let{data:G,target:Z}=Y,{value:ee,selectionStart:te,selectionEnd:re}=Z,ie=te,ae=re;switch(Y.inputType){case"deleteWordBackward":{let se=ee.substring(0,te).match(/\w*[^\w]*$/);se&&(ie-=se[0].length);break}case"deleteWordForward":{let se=ee.substring(te).match(/^[^\w]*\w*/);se&&(ae+=se[0].length);break}case"deleteContentBackward":te===re&&(ie-=1);break;case"deleteContentForward":te===re&&(ae+=1);break}Y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:ee,change:G||"",willCommit:!1,selStart:ie,selEnd:ae}})}),this._setEventListeners(N,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Y=>Y.target.value)}if(X&&N.addEventListener("blur",X),this.data.comb){let Y=(this.data.rect[2]-this.data.rect[0])/W;N.classList.add("comb"),N.style.letterSpacing=`calc(${Y}px * var(--scale-factor) - 1ch)`}}else N=document.createElement("div"),N.textContent=this.data.fieldValue,N.style.verticalAlign="middle",N.style.display="table-cell";return this._setTextStyle(N),this._setBackgroundColor(N),this._setDefaultPropertiesFromJS(N),this.container.append(N),this.container}}class A extends y{constructor(p){super(p,{isRenderable:p.renderForms})}render(){let p=this.annotationStorage,w=this.data,N=w.id,F=p.getValue(N,{value:w.exportValue===w.fieldValue}).value;typeof F=="string"&&(F=F!=="Off",p.setValue(N,{value:F})),this.container.className="buttonWidgetAnnotation checkBox";let V=document.createElement("input");return d.add(V),V.setAttribute("data-element-id",N),V.disabled=w.readOnly,this._setRequired(V,this.data.required),V.type="checkbox",V.name=w.fieldName,F&&V.setAttribute("checked",!0),V.setAttribute("exportValue",w.exportValue),V.tabIndex=l,V.addEventListener("change",W=>{let{name:z,checked:X}=W.target;for(let Q of this._getElementsByName(z,N)){let Y=X&&Q.exportValue===w.exportValue;Q.domElement&&(Q.domElement.checked=Y),p.setValue(Q.id,{value:Y})}p.setValue(N,{value:X})}),V.addEventListener("resetform",W=>{let z=w.defaultFieldValue||"Off";W.target.checked=z===w.exportValue}),this.enableScripting&&this.hasJSActions&&(V.addEventListener("updatefromsandbox",W=>{let z={value(X){X.target.checked=X.detail.value!=="Off",p.setValue(N,{value:X.target.checked})}};this._dispatchEventFromSandbox(z,W)}),this._setEventListeners(V,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.checked)),this._setBackgroundColor(V),this._setDefaultPropertiesFromJS(V),this.container.append(V),this.container}}class R extends y{constructor(p){super(p,{isRenderable:p.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";let p=this.annotationStorage,w=this.data,N=w.id,F=p.getValue(N,{value:w.fieldValue===w.buttonValue}).value;typeof F=="string"&&(F=F!==w.buttonValue,p.setValue(N,{value:F}));let V=document.createElement("input");if(d.add(V),V.setAttribute("data-element-id",N),V.disabled=w.readOnly,this._setRequired(V,this.data.required),V.type="radio",V.name=w.fieldName,F&&V.setAttribute("checked",!0),V.tabIndex=l,V.addEventListener("change",W=>{let{name:z,checked:X}=W.target;for(let Q of this._getElementsByName(z,N))p.setValue(Q.id,{value:!1});p.setValue(N,{value:X})}),V.addEventListener("resetform",W=>{let z=w.defaultFieldValue;W.target.checked=z!=null&&z===w.buttonValue}),this.enableScripting&&this.hasJSActions){let W=w.buttonValue;V.addEventListener("updatefromsandbox",z=>{let X={value:Q=>{let Y=W===Q.detail.value;for(let G of this._getElementsByName(Q.target.name)){let Z=Y&&G.id===N;G.domElement&&(G.domElement.checked=Z),p.setValue(G.id,{value:Z})}}};this._dispatchEventFromSandbox(X,z)}),this._setEventListeners(V,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],z=>z.target.checked)}return this._setBackgroundColor(V),this._setDefaultPropertiesFromJS(V),this.container.append(V),this.container}}class D extends f{constructor(p){super(p,{ignoreBorder:p.data.hasAppearance})}render(){let p=super.render();p.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(p.title=this.data.alternativeText);let w=p.lastChild;return this.enableScripting&&this.hasJSActions&&w&&(this._setDefaultPropertiesFromJS(w),w.addEventListener("updatefromsandbox",N=>{this._dispatchEventFromSandbox({},N)})),p}}class v extends y{constructor(p){super(p,{isRenderable:p.renderForms})}render(){this.container.className="choiceWidgetAnnotation";let p=this.annotationStorage,w=this.data.id,N=p.getValue(w,{value:this.data.fieldValue}),F=document.createElement("select");d.add(F),F.setAttribute("data-element-id",w),F.disabled=this.data.readOnly,this._setRequired(F,this.data.required),F.name=this.data.fieldName,F.tabIndex=l;let V=this.data.combo&&this.data.options.length>0;this.data.combo||(F.size=this.data.options.length,this.data.multiSelect&&(F.multiple=!0)),F.addEventListener("resetform",Q=>{let Y=this.data.defaultFieldValue;for(let G of F.options)G.selected=G.value===Y});for(let Q of this.data.options){let Y=document.createElement("option");Y.textContent=Q.displayValue,Y.value=Q.exportValue,N.value.includes(Q.exportValue)&&(Y.setAttribute("selected",!0),V=!1),F.append(Y)}let W=null;if(V){let Q=document.createElement("option");Q.value=" ",Q.setAttribute("hidden",!0),Q.setAttribute("selected",!0),F.prepend(Q),W=()=>{Q.remove(),F.removeEventListener("input",W),W=null},F.addEventListener("input",W)}let z=(Q,Y)=>{let G=Y?"value":"textContent",Z=Q.target.options;return Q.target.multiple?Array.prototype.filter.call(Z,ee=>ee.selected).map(ee=>ee[G]):Z.selectedIndex===-1?null:Z[Z.selectedIndex][G]},X=Q=>{let Y=Q.target.options;return Array.prototype.map.call(Y,G=>({displayValue:G.textContent,exportValue:G.value}))};return this.enableScripting&&this.hasJSActions?(F.addEventListener("updatefromsandbox",Q=>{let Y={value(G){W?.();let Z=G.detail.value,ee=new Set(Array.isArray(Z)?Z:[Z]);for(let te of F.options)te.selected=ee.has(te.value);p.setValue(w,{value:z(G,!0)})},multipleSelection(G){F.multiple=!0},remove(G){let Z=F.options,ee=G.detail.remove;Z[ee].selected=!1,F.remove(ee),Z.length>0&&Array.prototype.findIndex.call(Z,re=>re.selected)===-1&&(Z[0].selected=!0),p.setValue(w,{value:z(G,!0),items:X(G)})},clear(G){for(;F.length!==0;)F.remove(0);p.setValue(w,{value:null,items:[]})},insert(G){let{index:Z,displayValue:ee,exportValue:te}=G.detail.insert,re=F.children[Z],ie=document.createElement("option");ie.textContent=ee,ie.value=te,re?re.before(ie):F.append(ie),p.setValue(w,{value:z(G,!0),items:X(G)})},items(G){let{items:Z}=G.detail;for(;F.length!==0;)F.remove(0);for(let ee of Z){let{displayValue:te,exportValue:re}=ee,ie=document.createElement("option");ie.textContent=te,ie.value=re,F.append(ie)}F.options.length>0&&(F.options[0].selected=!0),p.setValue(w,{value:z(G,!0),items:X(G)})},indices(G){let Z=new Set(G.detail.indices);for(let ee of G.target.options)ee.selected=Z.has(ee.index);p.setValue(w,{value:z(G,!0)})},editable(G){G.target.disabled=!G.detail.editable}};this._dispatchEventFromSandbox(Y,Q)}),F.addEventListener("input",Q=>{let Y=z(Q,!0),G=z(Q,!1);p.setValue(w,{value:Y}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:w,name:"Keystroke",value:G,changeEx:Y,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(F,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Q=>Q.target.checked)):F.addEventListener("input",function(Q){p.setValue(w,{value:z(Q,!0)})}),this.data.combo&&this._setTextStyle(F),this._setBackgroundColor(F),this._setDefaultPropertiesFromJS(F),this.container.append(F),this.container}}class b extends m{constructor(p){let w=!!(p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str);super(p,{isRenderable:w})}render(){let p=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",p.includes(this.data.parentType))return this.container;let w=`[data-annotation-id="${this.data.parentId}"]`,N=this.layer.querySelectorAll(w);if(N.length===0)return this.container;let F=new x({container:this.container,trigger:Array.from(N),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),V=this.page,W=n.Util.normalizeRect([this.data.parentRect[0],V.view[3]-this.data.parentRect[1]+V.view[1],this.data.parentRect[2],V.view[3]-this.data.parentRect[3]+V.view[1]]),z=W[0]+this.data.parentRect[2]-this.data.parentRect[0],X=W[1],[Q,Y,G,Z]=this.viewport.viewBox,ee=G-Q,te=Z-Y;return this.container.style.left=`${100*(z-Q)/ee}%`,this.container.style.top=`${100*(X-Y)/te}%`,this.container.append(F.render()),this.container}}class x{constructor(p){this.container=p.container,this.trigger=p.trigger,this.color=p.color,this.titleObj=p.titleObj,this.modificationDate=p.modificationDate,this.contentsObj=p.contentsObj,this.richText=p.richText,this.hideWrapper=p.hideWrapper||!1,this.pinned=!1}render(){let w=document.createElement("div");w.className="popupWrapper",this.hideElement=this.hideWrapper?w:this.container,this.hideElement.hidden=!0;let N=document.createElement("div");N.className="popup";let F=this.color;if(F){let z=.7*(255-F[0])+F[0],X=.7*(255-F[1])+F[1],Q=.7*(255-F[2])+F[2];N.style.backgroundColor=n.Util.makeHexColor(z|0,X|0,Q|0)}let V=document.createElement("h1");V.dir=this.titleObj.dir,V.textContent=this.titleObj.str,N.append(V);let W=i.PDFDateString.toDateObject(this.modificationDate);if(W){let z=document.createElement("span");z.className="popupDate",z.textContent="{{date}}, {{time}}",z.dataset.l10nId="annotation_date_string",z.dataset.l10nArgs=JSON.stringify({date:W.toLocaleDateString(),time:W.toLocaleTimeString()}),N.append(z)}if(this.richText?.str&&(!this.contentsObj?.str||this.contentsObj.str===this.richText.str))a.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:N}),N.lastChild.className="richText popupContent";else{let z=this._formatContents(this.contentsObj);N.append(z)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(let z of this.trigger)z.addEventListener("click",this._toggle.bind(this)),z.addEventListener("mouseover",this._show.bind(this,!1)),z.addEventListener("mouseout",this._hide.bind(this,!1));return N.addEventListener("click",this._hide.bind(this,!0)),w.append(N),w}_formatContents({str:p,dir:w}){let N=document.createElement("p");N.className="popupContent",N.dir=w;let F=p.split(/(?:\r\n?|\n)/);for(let V=0,W=F.length;V<W;++V){let z=F[V];N.append(document.createTextNode(z)),V<W-1&&N.append(document.createElement("br"))}return N}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(p=!1){p&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(p=!0){p&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class k extends m{constructor(p){let w=!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str);super(p,{isRenderable:w,ignoreBorder:!0}),this.textContent=p.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){let p=document.createElement("div");p.className="annotationTextContent",p.setAttribute("role","comment");for(let w of this.textContent){let N=document.createElement("span");N.textContent=w,p.append(N)}this.container.append(p)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class B extends m{constructor(p){let w=!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str);super(p,{isRenderable:w,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";let p=this.data,{width:w,height:N}=u(p.rect),F=this.svgFactory.create(w,N,!0),V=this.svgFactory.createElement("svg:line");return V.setAttribute("x1",p.rect[2]-p.lineCoordinates[0]),V.setAttribute("y1",p.rect[3]-p.lineCoordinates[1]),V.setAttribute("x2",p.rect[2]-p.lineCoordinates[2]),V.setAttribute("y2",p.rect[3]-p.lineCoordinates[3]),V.setAttribute("stroke-width",p.borderStyle.width||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),F.append(V),this.container.append(F),this._createPopup(V,p),this.container}}class _ extends m{constructor(p){let w=!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str);super(p,{isRenderable:w,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";let p=this.data,{width:w,height:N}=u(p.rect),F=this.svgFactory.create(w,N,!0),V=p.borderStyle.width,W=this.svgFactory.createElement("svg:rect");return W.setAttribute("x",V/2),W.setAttribute("y",V/2),W.setAttribute("width",w-V),W.setAttribute("height",N-V),W.setAttribute("stroke-width",V||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),F.append(W),this.container.append(F),this._createPopup(W,p),this.container}}class O extends m{constructor(p){let w=!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str);super(p,{isRenderable:w,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";let p=this.data,{width:w,height:N}=u(p.rect),F=this.svgFactory.create(w,N,!0),V=p.borderStyle.width,W=this.svgFactory.createElement("svg:ellipse");return W.setAttribute("cx",w/2),W.setAttribute("cy",N/2),W.setAttribute("rx",w/2-V/2),W.setAttribute("ry",N/2-V/2),W.setAttribute("stroke-width",V||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),F.append(W),this.container.append(F),this._createPopup(W,p),this.container}}class q extends m{constructor(p){let w=!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str);super(p,{isRenderable:w,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;let p=this.data,{width:w,height:N}=u(p.rect),F=this.svgFactory.create(w,N,!0),V=[];for(let z of p.vertices){let X=z.x-p.rect[0],Q=p.rect[3]-z.y;V.push(X+","+Q)}V=V.join(" ");let W=this.svgFactory.createElement(this.svgElementName);return W.setAttribute("points",V),W.setAttribute("stroke-width",p.borderStyle.width||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),F.append(W),this.container.append(F),this._createPopup(W,p),this.container}}class U extends q{constructor(p){super(p),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class T extends m{constructor(p){let w=!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str);super(p,{isRenderable:w,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class M extends m{constructor(p){let w=!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str);super(p,{isRenderable:w,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;let p=this.data,{width:w,height:N}=u(p.rect),F=this.svgFactory.create(w,N,!0);for(let V of p.inkLists){let W=[];for(let X of V){let Q=X.x-p.rect[0],Y=p.rect[3]-X.y;W.push(`${Q},${Y}`)}W=W.join(" ");let z=this.svgFactory.createElement(this.svgElementName);z.setAttribute("points",W),z.setAttribute("stroke-width",p.borderStyle.width||1),z.setAttribute("stroke","transparent"),z.setAttribute("fill","transparent"),this._createPopup(z,p),F.append(z)}return this.container.append(F),this.container}}class P extends m{constructor(p){let w=!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str);super(p,{isRenderable:w,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class H extends m{constructor(p){let w=!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str);super(p,{isRenderable:w,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class $ extends m{constructor(p){let w=!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str);super(p,{isRenderable:w,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class I extends m{constructor(p){let w=!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str);super(p,{isRenderable:w,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class C extends m{constructor(p){let w=!!(p.data.hasPopup||p.data.titleObj?.str||p.data.contentsObj?.str||p.data.richText?.str);super(p,{isRenderable:w,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class E extends m{constructor(p){super(p,{isRenderable:!0});let{filename:w,content:N}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(w),this.content=N,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:w,content:N})}render(){this.container.className="fileAttachmentAnnotation";let p=document.createElement("div");return p.className="popupTriggerArea",p.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(p,this.data),this.container.append(p),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class L{static#e(p,w,N,F){let V=p.firstChild||p;V.id=`${i.AnnotationPrefix}${w}`,N.append(p),F?.moveElementInDOM(N,p,V,!1)}static render(p){let{annotations:w,div:N,viewport:F,accessibilityManager:V}=p;this.#t(N,F);let W=0;for(let z of w){if(z.annotationType!==n.AnnotationType.POPUP){let{width:Q,height:Y}=u(z.rect);if(Q<=0||Y<=0)continue}let X=h.create({data:z,layer:N,page:p.page,viewport:F,linkService:p.linkService,downloadManager:p.downloadManager,imageResourcesPath:p.imageResourcesPath||"",renderForms:p.renderForms!==!1,svgFactory:new i.DOMSVGFactory,annotationStorage:p.annotationStorage||new s.AnnotationStorage,enableScripting:p.enableScripting,hasJSActions:p.hasJSActions,fieldObjects:p.fieldObjects,mouseState:p.mouseState||{isDown:!1}});if(X.isRenderable){let Q=X.render();if(z.hidden&&(Q.style.visibility="hidden"),Array.isArray(Q))for(let Y of Q)Y.style.zIndex=W++,L.#e(Y,z.id,N,V);else Q.style.zIndex=W++,X instanceof b?N.prepend(Q):L.#e(Q,z.id,N,V)}}this.#n(N,p.annotationCanvasMap)}static update(p){let{annotationCanvasMap:w,div:N,viewport:F}=p;this.#t(N,F),this.#n(N,w),N.hidden=!1}static#t(p,{width:w,height:N,rotation:F}){let{style:V}=p,W=F%180!==0,z=Math.floor(w)+"px",X=Math.floor(N)+"px";V.width=W?X:z,V.height=W?z:X,p.setAttribute("data-main-rotation",F)}static#n(p,w){if(w){for(let[N,F]of w){let V=p.querySelector(`[data-annotation-id="${N}"]`);if(!V)continue;let{firstChild:W}=V;W?W.nodeName==="CANVAS"?W.replaceWith(F):W.before(F):V.append(F)}w.clear()}}}e.AnnotationLayer=L},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function r(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}class n{static CMYK_G([s,o,a,l]){return["G",1-Math.min(1,.3*s+.59*a+.11*o+l)]}static G_CMYK([s]){return["CMYK",0,0,0,1-s]}static G_RGB([s]){return["RGB",s,s,s]}static G_HTML([s]){let o=r(s);return`#${o}${o}${o}`}static RGB_G([s,o,a]){return["G",.3*s+.59*o+.11*a]}static RGB_HTML([s,o,a]){let l=r(s),c=r(o),d=r(a);return`#${l}${c}${d}`}static T_HTML(){return"#00000000"}static CMYK_RGB([s,o,a,l]){return["RGB",1-Math.min(1,s+l),1-Math.min(1,a+l),1-Math.min(1,o+l)]}static CMYK_HTML(s){let o=this.CMYK_RGB(s).slice(1);return this.RGB_HTML(o)}static RGB_CMYK([s,o,a]){let l=1-s,c=1-o,d=1-a,u=Math.min(l,c,d);return["CMYK",l,c,d,u]}}e.ColorConverters=n},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var n=r(20);class i{static setupStorage(o,a,l,c,d){let u=c.getValue(a,{value:null});switch(l.name){case"textarea":if(u.value!==null&&(o.textContent=u.value),d==="print")break;o.addEventListener("input",h=>{c.setValue(a,{value:h.target.value})});break;case"input":if(l.attributes.type==="radio"||l.attributes.type==="checkbox"){if(u.value===l.attributes.xfaOn?o.setAttribute("checked",!0):u.value===l.attributes.xfaOff&&o.removeAttribute("checked"),d==="print")break;o.addEventListener("change",h=>{c.setValue(a,{value:h.target.checked?h.target.getAttribute("xfaOn"):h.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&o.setAttribute("value",u.value),d==="print")break;o.addEventListener("input",h=>{c.setValue(a,{value:h.target.value})})}break;case"select":if(u.value!==null)for(let h of l.children)h.attributes.value===u.value&&(h.attributes.selected=!0);o.addEventListener("input",h=>{let m=h.target.options,f=m.selectedIndex===-1?"":m[m.selectedIndex].value;c.setValue(a,{value:f})});break}}static setAttributes({html:o,element:a,storage:l=null,intent:c,linkService:d}){let{attributes:u}=a,h=o instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${c}`);for(let[m,f]of Object.entries(u))if(f!=null)switch(m){case"class":f.length&&o.setAttribute(m,f.join(" "));break;case"dataId":break;case"id":o.setAttribute("data-element-id",f);break;case"style":Object.assign(o.style,f);break;case"textContent":o.textContent=f;break;default:(!h||m!=="href"&&m!=="newWindow")&&o.setAttribute(m,f)}h&&d.addLinkAttributes(o,u.href,u.newWindow),l&&u.dataId&&this.setupStorage(o,u.dataId,a,l)}static render(o){let a=o.annotationStorage,l=o.linkService,c=o.xfaHtml,d=o.intent||"display",u=document.createElement(c.name);c.attributes&&this.setAttributes({html:u,element:c,intent:d,linkService:l});let h=[[c,-1,u]],m=o.div;if(m.append(u),o.viewport){let g=`matrix(${o.viewport.transform.join(",")})`;m.style.transform=g}d!=="richText"&&m.setAttribute("class","xfaLayer xfaFont");let f=[];for(;h.length>0;){let[g,y,S]=h.at(-1);if(y+1===g.children.length){h.pop();continue}let A=g.children[++h.at(-1)[1]];if(A===null)continue;let{name:R}=A;if(R==="#text"){let v=document.createTextNode(A.value);f.push(v),S.append(v);continue}let D;if(A?.attributes?.xmlns?D=document.createElementNS(A.attributes.xmlns,R):D=document.createElement(R),S.append(D),A.attributes&&this.setAttributes({html:D,element:A,storage:a,intent:d,linkService:l}),A.children&&A.children.length>0)h.push([A,-1,D]);else if(A.value){let v=document.createTextNode(A.value);n.XfaText.shouldBuildText(R)&&f.push(v),D.append(v)}}for(let g of m.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:f}}static update(o){let a=`matrix(${o.viewport.transform.join(",")})`;o.div.style.transform=a,o.div.hidden=!1}}e.XfaLayer=i},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=A;var n=r(1),i=r(8);let s=1e5,o=30,a=.8,l=new Map,c=/^\s+$/g;function d(R,D){let v=l.get(R);if(v)return v;D.save(),D.font=`${o}px ${R}`;let b=D.measureText(""),x=b.fontBoundingBoxAscent,k=Math.abs(b.fontBoundingBoxDescent);if(x){D.restore();let _=x/(x+k);return l.set(R,_),_}D.strokeStyle="red",D.clearRect(0,0,o,o),D.strokeText("g",0,0);let B=D.getImageData(0,0,o,o).data;k=0;for(let _=B.length-1-3;_>=0;_-=4)if(B[_]>0){k=Math.ceil(_/4/o);break}D.clearRect(0,0,o,o),D.strokeText("A",0,o),B=D.getImageData(0,0,o,o).data,x=0;for(let _=0,O=B.length;_<O;_+=4)if(B[_]>0){x=o-Math.floor(_/4/o);break}if(D.restore(),x){let _=x/(x+k);return l.set(R,_),_}return l.set(R,a),a}function u(R,D,v,b){let x=document.createElement("span"),k=R._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:D.str!=="",hasEOL:D.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:D.str!=="",hasEOL:D.hasEOL,fontSize:0};R._textDivs.push(x);let B=n.Util.transform(R._viewport.transform,D.transform),_=Math.atan2(B[1],B[0]),O=v[D.fontName];O.vertical&&(_+=Math.PI/2);let q=Math.hypot(B[2],B[3]),U=q*d(O.fontFamily,b),T,M;_===0?(T=B[4],M=B[5]-U):(T=B[4]+U*Math.sin(_),M=B[5]-U*Math.cos(_)),x.style.left=`${T}px`,x.style.top=`${M}px`,x.style.fontSize=`${q}px`,x.style.fontFamily=O.fontFamily,k.fontSize=q,x.setAttribute("role","presentation"),x.textContent=D.str,x.dir=D.dir,R._fontInspectorEnabled&&(x.dataset.fontName=D.fontName),_!==0&&(k.angle=_*(180/Math.PI));let P=!1;if(D.str.length>1||R._enhanceTextSelection&&c.test(D.str))P=!0;else if(D.str!==" "&&D.transform[0]!==D.transform[3]){let H=Math.abs(D.transform[0]),$=Math.abs(D.transform[3]);H!==$&&Math.max(H,$)/Math.min(H,$)>1.5&&(P=!0)}if(P&&(O.vertical?k.canvasWidth=D.height*R._viewport.scale:k.canvasWidth=D.width*R._viewport.scale),R._textDivProperties.set(x,k),R._textContentStream&&R._layoutText(x),R._enhanceTextSelection&&k.hasText){let H=1,$=0;_!==0&&(H=Math.cos(_),$=Math.sin(_));let I=(O.vertical?D.height:D.width)*R._viewport.scale,C=q,E,L;_!==0?(E=[H,$,-$,H,T,M],L=n.Util.getAxialAlignedBoundingBox([0,0,I,C],E)):L=[T,M,T+I,M+C],R._bounds.push({left:L[0],top:L[1],right:L[2],bottom:L[3],div:x,size:[I,C],m:E})}}function h(R){if(R._canceled)return;let D=R._textDivs,v=R._capability,b=D.length;if(b>s){R._renderingDone=!0,v.resolve();return}if(!R._textContentStream)for(let x=0;x<b;x++)R._layoutText(D[x]);R._renderingDone=!0,v.resolve()}function m(R,D,v){let b=0;for(let x=0;x<v;x++){let k=R[D++];k>0&&(b=b?Math.min(k,b):k)}return b}function f(R){let D=R._bounds,v=R._viewport,b=g(v.width,v.height,D);for(let x=0;x<b.length;x++){let k=D[x].div,B=R._textDivProperties.get(k);if(B.angle===0){B.paddingLeft=D[x].left-b[x].left,B.paddingTop=D[x].top-b[x].top,B.paddingRight=b[x].right-D[x].right,B.paddingBottom=b[x].bottom-D[x].bottom,R._textDivProperties.set(k,B);continue}let _=b[x],O=D[x],q=O.m,U=q[0],T=q[1],M=[[0,0],[0,O.size[1]],[O.size[0],0],O.size],P=new Float64Array(64);for(let $=0,I=M.length;$<I;$++){let C=n.Util.applyTransform(M[$],q);P[$+0]=U&&(_.left-C[0])/U,P[$+4]=T&&(_.top-C[1])/T,P[$+8]=U&&(_.right-C[0])/U,P[$+12]=T&&(_.bottom-C[1])/T,P[$+16]=T&&(_.left-C[0])/-T,P[$+20]=U&&(_.top-C[1])/U,P[$+24]=T&&(_.right-C[0])/-T,P[$+28]=U&&(_.bottom-C[1])/U,P[$+32]=U&&(_.left-C[0])/-U,P[$+36]=T&&(_.top-C[1])/-T,P[$+40]=U&&(_.right-C[0])/-U,P[$+44]=T&&(_.bottom-C[1])/-T,P[$+48]=T&&(_.left-C[0])/T,P[$+52]=U&&(_.top-C[1])/-U,P[$+56]=T&&(_.right-C[0])/T,P[$+60]=U&&(_.bottom-C[1])/-U}let H=1+Math.min(Math.abs(U),Math.abs(T));B.paddingLeft=m(P,32,16)/H,B.paddingTop=m(P,48,16)/H,B.paddingRight=m(P,0,16)/H,B.paddingBottom=m(P,16,16)/H,R._textDivProperties.set(k,B)}}function g(R,D,v){let b=v.map(function(k,B){return{x1:k.left,y1:k.top,x2:k.right,y2:k.bottom,index:B,x1New:void 0,x2New:void 0}});y(R,b);let x=new Array(v.length);for(let k of b){let B=k.index;x[B]={left:k.x1New,top:0,right:k.x2New,bottom:0}}v.map(function(k,B){let _=x[B],O=b[B];O.x1=k.top,O.y1=R-_.right,O.x2=k.bottom,O.y2=R-_.left,O.index=B,O.x1New=void 0,O.x2New=void 0}),y(D,b);for(let k of b){let B=k.index;x[B].top=k.x1New,x[B].bottom=k.x2New}return x}function y(R,D){D.sort(function(x,k){return x.x1-k.x1||x.index-k.index});let b=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(let x of D){let k=0;for(;k<b.length&&b[k].end<=x.y1;)k++;let B=b.length-1;for(;B>=0&&b[B].start>=x.y2;)B--;let _,O,q,U,T=-1/0;for(q=k;q<=B;q++){_=b[q],O=_.boundary;let H;O.x2>x.x1?H=O.index>x.index?O.x1New:x.x1:O.x2New===void 0?H=(O.x2+x.x1)/2:H=O.x2New,H>T&&(T=H)}for(x.x1New=T,q=k;q<=B;q++)_=b[q],O=_.boundary,O.x2New===void 0?O.x2>x.x1?O.index>x.index&&(O.x2New=O.x2):O.x2New=T:O.x2New>T&&(O.x2New=Math.max(T,O.x2));let M=[],P=null;for(q=k;q<=B;q++){_=b[q],O=_.boundary;let H=O.x2>x.x2?O:x;P===H?M.at(-1).end=_.end:(M.push({start:_.start,end:_.end,boundary:H}),P=H)}for(b[k].start<x.y1&&(M[0].start=x.y1,M.unshift({start:b[k].start,end:x.y1,boundary:b[k].boundary})),x.y2<b[B].end&&(M.at(-1).end=x.y2,M.push({start:x.y2,end:b[B].end,boundary:b[B].boundary})),q=k;q<=B;q++){if(_=b[q],O=_.boundary,O.x2New!==void 0)continue;let H=!1;for(U=k-1;!H&&U>=0&&b[U].start>=O.y1;U--)H=b[U].boundary===O;for(U=B+1;!H&&U<b.length&&b[U].end<=O.y2;U++)H=b[U].boundary===O;for(U=0;!H&&U<M.length;U++)H=M[U].boundary===O;H||(O.x2New=T)}Array.prototype.splice.apply(b,[k,B-k+1,...M])}for(let x of b){let k=x.boundary;k.x2New===void 0&&(k.x2New=Math.max(R,k.x2))}}class S{constructor({textContent:D,textContentStream:v,container:b,viewport:x,textDivs:k,textContentItemsStr:B,enhanceTextSelection:_}){_&&(0,i.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=D,this._textContentStream=v,this._container=b,this._document=b.ownerDocument,this._viewport=x,this._textDivs=k||[],this._textContentItemsStr=B||[],this._enhanceTextSelection=!!_,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,n.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new n.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(D,v){for(let b=0,x=D.length;b<x;b++){if(D[b].str===void 0){if(D[b].type==="beginMarkedContentProps"||D[b].type==="beginMarkedContent"){let k=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),D[b].id!==null&&this._container.setAttribute("id",`${D[b].id}`),k.append(this._container)}else D[b].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(D[b].str),u(this,D[b],v,this._layoutTextCtx)}}_layoutText(D){let v=this._textDivProperties.get(D),b="";if(v.canvasWidth!==0&&v.hasText){let{fontFamily:x}=D.style,{fontSize:k}=v;(k!==this._layoutTextLastFontSize||x!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${k*this._devicePixelRatio}px ${x}`,this._layoutTextLastFontSize=k,this._layoutTextLastFontFamily=x);let{width:B}=this._layoutTextCtx.measureText(D.textContent);if(B>0){let _=this._devicePixelRatio*v.canvasWidth/B;this._enhanceTextSelection&&(v.scale=_),b=`scaleX(${_})`}}if(v.angle!==0&&(b=`rotate(${v.angle}deg) ${b}`),b.length>0&&(this._enhanceTextSelection&&(v.originalTransform=b),D.style.transform=b),v.hasText&&this._container.append(D),v.hasEOL){let x=document.createElement("br");x.setAttribute("role","presentation"),this._container.append(x)}}_render(D=0){let v=(0,n.createPromiseCapability)(),b=Object.create(null),x=this._document.createElement("canvas");if(x.height=x.width=o,this._layoutTextCtx=x.getContext("2d",{alpha:!1}),this._textContent){let k=this._textContent.items,B=this._textContent.styles;this._processItems(k,B),v.resolve()}else if(this._textContentStream){let k=()=>{this._reader.read().then(({value:B,done:_})=>{if(_){v.resolve();return}Object.assign(b,B.styles),this._processItems(B.items,b),k()},v.reject)};this._reader=this._textContentStream.getReader(),k()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');v.promise.then(()=>{b=null,D?this._renderTimer=setTimeout(()=>{h(this),this._renderTimer=null},D):h(this)},this._capability.reject)}expandTextDivs(D=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(f(this),this._bounds=null);let v=[],b=[];for(let x=0,k=this._textDivs.length;x<k;x++){let B=this._textDivs[x],_=this._textDivProperties.get(B);_.hasText&&(D?(v.length=0,b.length=0,_.originalTransform&&v.push(_.originalTransform),_.paddingTop>0?(b.push(`${_.paddingTop}px`),v.push(`translateY(${-_.paddingTop}px)`)):b.push(0),_.paddingRight>0?b.push(`${_.paddingRight/_.scale}px`):b.push(0),_.paddingBottom>0?b.push(`${_.paddingBottom}px`):b.push(0),_.paddingLeft>0?(b.push(`${_.paddingLeft/_.scale}px`),v.push(`translateX(${-_.paddingLeft/_.scale}px)`)):b.push(0),B.style.padding=b.join(" "),v.length&&(B.style.transform=v.join(" "))):(B.style.padding=null,B.style.transform=_.originalTransform))}}}e.TextLayerRenderTask=S;function A(R){let D=new S({textContent:R.textContent,textContentStream:R.textContentStream,container:R.container,viewport:R.viewport,textDivs:R.textDivs,textContentItemsStr:R.textContentItemsStr,enhanceTextSelection:R.enhanceTextSelection});return D._render(R.timeout),D}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var n=r(8),i=r(1),s=r(3);let o=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=o;{let g=function(v){let b=[],x=[];for(let k of v){if(k.fn==="save"){b.push({fnId:92,fn:"group",items:[]}),x.push(b),b=b.at(-1).items;continue}k.fn==="restore"?b=x.pop():b.push(k)}return b},y=function(v){if(Number.isInteger(v))return v.toString();let b=v.toFixed(10),x=b.length-1;if(b[x]!=="0")return b;do x--;while(b[x]==="0");return b.substring(0,b[x]==="."?x:x+1)},S=function(v){if(v[4]===0&&v[5]===0){if(v[1]===0&&v[2]===0)return v[0]===1&&v[3]===1?"":`scale(${y(v[0])} ${y(v[3])})`;if(v[0]===v[3]&&v[1]===-v[2]){let b=Math.acos(v[0])*180/Math.PI;return`rotate(${y(b)})`}}else if(v[0]===1&&v[1]===0&&v[2]===0&&v[3]===1)return`translate(${y(v[4])} ${y(v[5])})`;return`matrix(${y(v[0])} ${y(v[1])} ${y(v[2])} ${y(v[3])} ${y(v[4])} ${y(v[5])})`},a={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},l="http://www.w3.org/XML/1998/namespace",c="http://www.w3.org/1999/xlink",d=["butt","round","square"],u=["miter","round","bevel"],h=function(v,b="",x=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!x)return URL.createObjectURL(new Blob([v],{type:b}));let k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",B=`data:${b};base64,`;for(let _=0,O=v.length;_<O;_+=3){let q=v[_]&255,U=v[_+1]&255,T=v[_+2]&255,M=q>>2,P=(q&3)<<4|U>>4,H=_+1<O?(U&15)<<2|T>>6:64,$=_+2<O?T&63:64;B+=k[M]+k[P]+k[H]+k[$]}return B},m=function(){let v=new Uint8Array([137,80,78,71,13,10,26,10]),b=12,x=new Int32Array(256);for(let T=0;T<256;T++){let M=T;for(let P=0;P<8;P++)M&1?M=3988292384^M>>1&2147483647:M=M>>1&2147483647;x[T]=M}function k(T,M,P){let H=-1;for(let $=M;$<P;$++){let I=(H^T[$])&255,C=x[I];H=H>>>8^C}return H^-1}function B(T,M,P,H){let $=H,I=M.length;P[$]=I>>24&255,P[$+1]=I>>16&255,P[$+2]=I>>8&255,P[$+3]=I&255,$+=4,P[$]=T.charCodeAt(0)&255,P[$+1]=T.charCodeAt(1)&255,P[$+2]=T.charCodeAt(2)&255,P[$+3]=T.charCodeAt(3)&255,$+=4,P.set(M,$),$+=M.length;let C=k(P,H+4,$);P[$]=C>>24&255,P[$+1]=C>>16&255,P[$+2]=C>>8&255,P[$+3]=C&255}function _(T,M,P){let H=1,$=0;for(let I=M;I<P;++I)H=(H+(T[I]&255))%65521,$=($+H)%65521;return $<<16|H}function O(T){if(!s.isNodeJS)return q(T);try{let M;parseInt(process.versions.node)>=8?M=T:M=Buffer.from(T);let P=pp().deflateSync(M,{level:9});return P instanceof Uint8Array?P:new Uint8Array(P)}catch(M){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+M)}return q(T)}function q(T){let M=T.length,P=65535,H=Math.ceil(M/P),$=new Uint8Array(2+M+H*5+4),I=0;$[I++]=120,$[I++]=156;let C=0;for(;M>P;)$[I++]=0,$[I++]=255,$[I++]=255,$[I++]=0,$[I++]=0,$.set(T.subarray(C,C+P),I),I+=P,C+=P,M-=P;$[I++]=1,$[I++]=M&255,$[I++]=M>>8&255,$[I++]=~M&65535&255,$[I++]=(~M&65535)>>8&255,$.set(T.subarray(C),I),I+=T.length-C;let E=_(T,0,T.length);return $[I++]=E>>24&255,$[I++]=E>>16&255,$[I++]=E>>8&255,$[I++]=E&255,$}function U(T,M,P,H){let $=T.width,I=T.height,C,E,L,j=T.data;switch(M){case i.ImageKind.GRAYSCALE_1BPP:E=0,C=1,L=$+7>>3;break;case i.ImageKind.RGB_24BPP:E=2,C=8,L=$*3;break;case i.ImageKind.RGBA_32BPP:E=6,C=8,L=$*4;break;default:throw new Error("invalid format")}let p=new Uint8Array((1+L)*I),w=0,N=0;for(let Q=0;Q<I;++Q)p[w++]=0,p.set(j.subarray(N,N+L),w),N+=L,w+=L;if(M===i.ImageKind.GRAYSCALE_1BPP&&H){w=0;for(let Q=0;Q<I;Q++){w++;for(let Y=0;Y<L;Y++)p[w++]^=255}}let F=new Uint8Array([$>>24&255,$>>16&255,$>>8&255,$&255,I>>24&255,I>>16&255,I>>8&255,I&255,C,E,0,0,0]),V=O(p),W=v.length+b*3+F.length+V.length,z=new Uint8Array(W),X=0;return z.set(v,X),X+=v.length,B("IHDR",F,z,X),X+=b+F.length,B("IDATA",V,z,X),X+=b+V.length,B("IEND",new Uint8Array(0),z,X),h(z,"image/png",P)}return function(M,P,H){let $=M.kind===void 0?i.ImageKind.GRAYSCALE_1BPP:M.kind;return U(M,$,P,H)}}();class f{constructor(){this.fontSizeScale=1,this.fontWeight=a.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=a.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(b,x){this.x=b,this.y=x}}let A=0,R=0,D=0;e.SVGGraphics=o=class{constructor(v,b,x=!1){(0,n.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new n.DOMSVGFactory,this.current=new f,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=v,this.objs=b,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!x,this._operatorIdMapping=[];for(let k in i.OPS)this._operatorIdMapping[i.OPS[k]]=k}save(){this.transformStack.push(this.transformMatrix);let v=this.current;this.extraStack.push(v),this.current=v.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(v){this.save(),this.executeOpTree(v),this.restore()}loadDependencies(v){let b=v.fnArray,x=v.argsArray;for(let k=0,B=b.length;k<B;k++)if(b[k]===i.OPS.dependency)for(let _ of x[k]){let O=_.startsWith("g_")?this.commonObjs:this.objs,q=new Promise(U=>{O.get(_,U)});this.current.dependencies.push(q)}return Promise.all(this.current.dependencies)}transform(v,b,x,k,B,_){let O=[v,b,x,k,B,_];this.transformMatrix=i.Util.transform(this.transformMatrix,O),this.tgrp=null}getSVG(v,b){this.viewport=b;let x=this._initialize(b);return this.loadDependencies(v).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(v)),x))}convertOpList(v){let b=this._operatorIdMapping,x=v.argsArray,k=v.fnArray,B=[];for(let _=0,O=k.length;_<O;_++){let q=k[_];B.push({fnId:q,fn:b[q],args:x[_]})}return g(B)}executeOpTree(v){for(let b of v){let x=b.fn,k=b.fnId,B=b.args;switch(k|0){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(B);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(B[0],B[1]);break;case i.OPS.setFont:this.setFont(B);break;case i.OPS.showText:this.showText(B[0]);break;case i.OPS.showSpacedText:this.showText(B[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(B[0],B[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(B[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(B[0]);break;case i.OPS.setHScale:this.setHScale(B[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(B[0],B[1],B[2],B[3],B[4],B[5]);break;case i.OPS.setTextRise:this.setTextRise(B[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(B[0]);break;case i.OPS.setLineWidth:this.setLineWidth(B[0]);break;case i.OPS.setLineJoin:this.setLineJoin(B[0]);break;case i.OPS.setLineCap:this.setLineCap(B[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(B[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(B[0],B[1],B[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(B[0],B[1],B[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(B);break;case i.OPS.setFillColorN:this.setFillColorN(B);break;case i.OPS.shadingFill:this.shadingFill(B[0]);break;case i.OPS.setDash:this.setDash(B[0],B[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(B[0]);break;case i.OPS.setFlatness:this.setFlatness(B[0]);break;case i.OPS.setGState:this.setGState(B[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(B[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(B[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(B[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(B[0],B[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(B[0],B[1],B[2],B[3],B[4],B[5]);break;case i.OPS.constructPath:this.constructPath(B[0],B[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(b.items);break;default:(0,i.warn)(`Unimplemented operator ${x}`);break}}}setWordSpacing(v){this.current.wordSpacing=v}setCharSpacing(v){this.current.charSpacing=v}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(v,b,x,k,B,_){let O=this.current;O.textMatrix=O.lineMatrix=[v,b,x,k,B,_],O.textMatrixScale=Math.hypot(v,b),O.x=O.lineX=0,O.y=O.lineY=0,O.xcoords=[],O.ycoords=[],O.tspan=this.svgFactory.createElement("svg:tspan"),O.tspan.setAttributeNS(null,"font-family",O.fontFamily),O.tspan.setAttributeNS(null,"font-size",`${y(O.fontSize)}px`),O.tspan.setAttributeNS(null,"y",y(-O.y)),O.txtElement=this.svgFactory.createElement("svg:text"),O.txtElement.append(O.tspan)}beginText(){let v=this.current;v.x=v.lineX=0,v.y=v.lineY=0,v.textMatrix=i.IDENTITY_MATRIX,v.lineMatrix=i.IDENTITY_MATRIX,v.textMatrixScale=1,v.tspan=this.svgFactory.createElement("svg:tspan"),v.txtElement=this.svgFactory.createElement("svg:text"),v.txtgrp=this.svgFactory.createElement("svg:g"),v.xcoords=[],v.ycoords=[]}moveText(v,b){let x=this.current;x.x=x.lineX+=v,x.y=x.lineY+=b,x.xcoords=[],x.ycoords=[],x.tspan=this.svgFactory.createElement("svg:tspan"),x.tspan.setAttributeNS(null,"font-family",x.fontFamily),x.tspan.setAttributeNS(null,"font-size",`${y(x.fontSize)}px`),x.tspan.setAttributeNS(null,"y",y(-x.y))}showText(v){let b=this.current,x=b.font,k=b.fontSize;if(k===0)return;let B=b.fontSizeScale,_=b.charSpacing,O=b.wordSpacing,q=b.fontDirection,U=b.textHScale*q,T=x.vertical,M=T?1:-1,P=x.defaultVMetrics,H=k*b.fontMatrix[0],$=0;for(let E of v){if(E===null){$+=q*O;continue}else if(typeof E=="number"){$+=M*E*k/1e3;continue}let L=(E.isSpace?O:0)+_,j=E.fontChar,p,w,N=E.width;if(T){let V,W=E.vmetric||P;V=E.vmetric?W[1]:N*.5,V=-V*H;let z=W[2]*H;N=W?-W[0]:N,p=V/B,w=($+z)/B}else p=$/B,w=0;(E.isInFont||x.missingFile)&&(b.xcoords.push(b.x+p),T&&b.ycoords.push(-b.y+w),b.tspan.textContent+=j);let F;T?F=N*H-L*q:F=N*H+L*q,$+=F}b.tspan.setAttributeNS(null,"x",b.xcoords.map(y).join(" ")),T?b.tspan.setAttributeNS(null,"y",b.ycoords.map(y).join(" ")):b.tspan.setAttributeNS(null,"y",y(-b.y)),T?b.y-=$:b.x+=$*U,b.tspan.setAttributeNS(null,"font-family",b.fontFamily),b.tspan.setAttributeNS(null,"font-size",`${y(b.fontSize)}px`),b.fontStyle!==a.fontStyle&&b.tspan.setAttributeNS(null,"font-style",b.fontStyle),b.fontWeight!==a.fontWeight&&b.tspan.setAttributeNS(null,"font-weight",b.fontWeight);let I=b.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(I===i.TextRenderingMode.FILL||I===i.TextRenderingMode.FILL_STROKE?(b.fillColor!==a.fillColor&&b.tspan.setAttributeNS(null,"fill",b.fillColor),b.fillAlpha<1&&b.tspan.setAttributeNS(null,"fill-opacity",b.fillAlpha)):b.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?b.tspan.setAttributeNS(null,"fill","transparent"):b.tspan.setAttributeNS(null,"fill","none"),I===i.TextRenderingMode.STROKE||I===i.TextRenderingMode.FILL_STROKE){let E=1/(b.textMatrixScale||1);this._setStrokeAttributes(b.tspan,E)}let C=b.textMatrix;b.textRise!==0&&(C=C.slice(),C[5]+=b.textRise),b.txtElement.setAttributeNS(null,"transform",`${S(C)} scale(${y(U)}, -1)`),b.txtElement.setAttributeNS(l,"xml:space","preserve"),b.txtElement.append(b.tspan),b.txtgrp.append(b.txtElement),this._ensureTransformGroup().append(b.txtElement)}setLeadingMoveText(v,b){this.setLeading(-b),this.moveText(v,b)}addFontStyle(v){if(!v.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));let b=h(v.data,v.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${v.loadedName}"; src: url(${b}); }
`}setFont(v){let b=this.current,x=this.commonObjs.get(v[0]),k=v[1];b.font=x,this.embedFonts&&!x.missingFile&&!this.embeddedFonts[x.loadedName]&&(this.addFontStyle(x),this.embeddedFonts[x.loadedName]=x),b.fontMatrix=x.fontMatrix||i.FONT_IDENTITY_MATRIX;let B="normal";x.black?B="900":x.bold&&(B="bold");let _=x.italic?"italic":"normal";k<0?(k=-k,b.fontDirection=-1):b.fontDirection=1,b.fontSize=k,b.fontFamily=x.loadedName,b.fontWeight=B,b.fontStyle=_,b.tspan=this.svgFactory.createElement("svg:tspan"),b.tspan.setAttributeNS(null,"y",y(-b.y)),b.xcoords=[],b.ycoords=[]}endText(){let v=this.current;v.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&v.txtElement?.hasChildNodes()&&(v.element=v.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(v){v>0&&(this.current.lineWidth=v)}setLineCap(v){this.current.lineCap=d[v]}setLineJoin(v){this.current.lineJoin=u[v]}setMiterLimit(v){this.current.miterLimit=v}setStrokeAlpha(v){this.current.strokeAlpha=v}setStrokeRGBColor(v,b,x){this.current.strokeColor=i.Util.makeHexColor(v,b,x)}setFillAlpha(v){this.current.fillAlpha=v}setFillRGBColor(v,b,x){this.current.fillColor=i.Util.makeHexColor(v,b,x),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(v){this.current.strokeColor=this._makeColorN_Pattern(v)}setFillColorN(v){this.current.fillColor=this._makeColorN_Pattern(v)}shadingFill(v){let b=this.viewport.width,x=this.viewport.height,k=i.Util.inverseTransform(this.transformMatrix),B=i.Util.applyTransform([0,0],k),_=i.Util.applyTransform([0,x],k),O=i.Util.applyTransform([b,0],k),q=i.Util.applyTransform([b,x],k),U=Math.min(B[0],_[0],O[0],q[0]),T=Math.min(B[1],_[1],O[1],q[1]),M=Math.max(B[0],_[0],O[0],q[0]),P=Math.max(B[1],_[1],O[1],q[1]),H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x",U),H.setAttributeNS(null,"y",T),H.setAttributeNS(null,"width",M-U),H.setAttributeNS(null,"height",P-T),H.setAttributeNS(null,"fill",this._makeShadingPattern(v)),this.current.fillAlpha<1&&H.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(H)}_makeColorN_Pattern(v){return v[0]==="TilingPattern"?this._makeTilingPattern(v):this._makeShadingPattern(v)}_makeTilingPattern(v){let b=v[1],x=v[2],k=v[3]||i.IDENTITY_MATRIX,[B,_,O,q]=v[4],U=v[5],T=v[6],M=v[7],P=`shading${D++}`,[H,$,I,C]=i.Util.normalizeRect([...i.Util.applyTransform([B,_],k),...i.Util.applyTransform([O,q],k)]),[E,L]=i.Util.singularValueDecompose2dScale(k),j=U*E,p=T*L,w=this.svgFactory.createElement("svg:pattern");w.setAttributeNS(null,"id",P),w.setAttributeNS(null,"patternUnits","userSpaceOnUse"),w.setAttributeNS(null,"width",j),w.setAttributeNS(null,"height",p),w.setAttributeNS(null,"x",`${H}`),w.setAttributeNS(null,"y",`${$}`);let N=this.svg,F=this.transformMatrix,V=this.current.fillColor,W=this.current.strokeColor,z=this.svgFactory.create(I-H,C-$);if(this.svg=z,this.transformMatrix=k,M===2){let X=i.Util.makeHexColor(...b);this.current.fillColor=X,this.current.strokeColor=X}return this.executeOpTree(this.convertOpList(x)),this.svg=N,this.transformMatrix=F,this.current.fillColor=V,this.current.strokeColor=W,w.append(z.childNodes[0]),this.defs.append(w),`url(#${P})`}_makeShadingPattern(v){switch(typeof v=="string"&&(v=this.objs.get(v)),v[0]){case"RadialAxial":let b=`shading${D++}`,x=v[3],k;switch(v[1]){case"axial":let B=v[4],_=v[5];k=this.svgFactory.createElement("svg:linearGradient"),k.setAttributeNS(null,"id",b),k.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),k.setAttributeNS(null,"x1",B[0]),k.setAttributeNS(null,"y1",B[1]),k.setAttributeNS(null,"x2",_[0]),k.setAttributeNS(null,"y2",_[1]);break;case"radial":let O=v[4],q=v[5],U=v[6],T=v[7];k=this.svgFactory.createElement("svg:radialGradient"),k.setAttributeNS(null,"id",b),k.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),k.setAttributeNS(null,"cx",q[0]),k.setAttributeNS(null,"cy",q[1]),k.setAttributeNS(null,"r",T),k.setAttributeNS(null,"fx",O[0]),k.setAttributeNS(null,"fy",O[1]),k.setAttributeNS(null,"fr",U);break;default:throw new Error(`Unknown RadialAxial type: ${v[1]}`)}for(let B of x){let _=this.svgFactory.createElement("svg:stop");_.setAttributeNS(null,"offset",B[0]),_.setAttributeNS(null,"stop-color",B[1]),k.append(_)}return this.defs.append(k),`url(#${b})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${v[0]}`)}}setDash(v,b){this.current.dashArray=v,this.current.dashPhase=b}constructPath(v,b){let x=this.current,k=x.x,B=x.y,_=[],O=0;for(let q of v)switch(q|0){case i.OPS.rectangle:k=b[O++],B=b[O++];let U=b[O++],T=b[O++],M=k+U,P=B+T;_.push("M",y(k),y(B),"L",y(M),y(B),"L",y(M),y(P),"L",y(k),y(P),"Z");break;case i.OPS.moveTo:k=b[O++],B=b[O++],_.push("M",y(k),y(B));break;case i.OPS.lineTo:k=b[O++],B=b[O++],_.push("L",y(k),y(B));break;case i.OPS.curveTo:k=b[O+4],B=b[O+5],_.push("C",y(b[O]),y(b[O+1]),y(b[O+2]),y(b[O+3]),y(k),y(B)),O+=6;break;case i.OPS.curveTo2:_.push("C",y(k),y(B),y(b[O]),y(b[O+1]),y(b[O+2]),y(b[O+3])),k=b[O+2],B=b[O+3],O+=4;break;case i.OPS.curveTo3:k=b[O+2],B=b[O+3],_.push("C",y(b[O]),y(b[O+1]),y(k),y(B),y(k),y(B)),O+=4;break;case i.OPS.closePath:_.push("Z");break}_=_.join(" "),x.path&&v.length>0&&v[0]!==i.OPS.rectangle&&v[0]!==i.OPS.moveTo?_=x.path.getAttributeNS(null,"d")+_:(x.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(x.path)),x.path.setAttributeNS(null,"d",_),x.path.setAttributeNS(null,"fill","none"),x.element=x.path,x.setCurrentPoint(k,B)}endPath(){let v=this.current;if(v.path=null,!this.pendingClip)return;if(!v.element){this.pendingClip=null;return}let b=`clippath${A++}`,x=this.svgFactory.createElement("svg:clipPath");x.setAttributeNS(null,"id",b),x.setAttributeNS(null,"transform",S(this.transformMatrix));let k=v.element.cloneNode(!0);if(this.pendingClip==="evenodd"?k.setAttributeNS(null,"clip-rule","evenodd"):k.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,x.append(k),this.defs.append(x),v.activeClipUrl){v.clipGroup=null;for(let B of this.extraStack)B.clipGroup=null;x.setAttributeNS(null,"clip-path",v.activeClipUrl)}v.activeClipUrl=`url(#${b})`,this.tgrp=null}clip(v){this.pendingClip=v}closePath(){let v=this.current;if(v.path){let b=`${v.path.getAttributeNS(null,"d")}Z`;v.path.setAttributeNS(null,"d",b)}}setLeading(v){this.current.leading=-v}setTextRise(v){this.current.textRise=v}setTextRenderingMode(v){this.current.textRenderingMode=v}setHScale(v){this.current.textHScale=v/100}setRenderingIntent(v){}setFlatness(v){}setGState(v){for(let[b,x]of v)switch(b){case"LW":this.setLineWidth(x);break;case"LC":this.setLineCap(x);break;case"LJ":this.setLineJoin(x);break;case"ML":this.setMiterLimit(x);break;case"D":this.setDash(x[0],x[1]);break;case"RI":this.setRenderingIntent(x);break;case"FL":this.setFlatness(x);break;case"Font":this.setFont(x);break;case"CA":this.setStrokeAlpha(x);break;case"ca":this.setFillAlpha(x);break;default:(0,i.warn)(`Unimplemented graphic state operator ${b}`);break}}fill(){let v=this.current;v.element&&(v.element.setAttributeNS(null,"fill",v.fillColor),v.element.setAttributeNS(null,"fill-opacity",v.fillAlpha),this.endPath())}stroke(){let v=this.current;v.element&&(this._setStrokeAttributes(v.element),v.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(v,b=1){let x=this.current,k=x.dashArray;b!==1&&k.length>0&&(k=k.map(function(B){return b*B})),v.setAttributeNS(null,"stroke",x.strokeColor),v.setAttributeNS(null,"stroke-opacity",x.strokeAlpha),v.setAttributeNS(null,"stroke-miterlimit",y(x.miterLimit)),v.setAttributeNS(null,"stroke-linecap",x.lineCap),v.setAttributeNS(null,"stroke-linejoin",x.lineJoin),v.setAttributeNS(null,"stroke-width",y(b*x.lineWidth)+"px"),v.setAttributeNS(null,"stroke-dasharray",k.map(y).join(" ")),v.setAttributeNS(null,"stroke-dashoffset",y(b*x.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let v=this.svgFactory.createElement("svg:rect");v.setAttributeNS(null,"x","0"),v.setAttributeNS(null,"y","0"),v.setAttributeNS(null,"width","1px"),v.setAttributeNS(null,"height","1px"),v.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(v)}paintImageXObject(v){let b=v.startsWith("g_")?this.commonObjs.get(v):this.objs.get(v);if(!b){(0,i.warn)(`Dependent image with object ID ${v} is not ready yet`);return}this.paintInlineImageXObject(b)}paintInlineImageXObject(v,b){let x=v.width,k=v.height,B=m(v,this.forceDataSchema,!!b),_=this.svgFactory.createElement("svg:rect");_.setAttributeNS(null,"x","0"),_.setAttributeNS(null,"y","0"),_.setAttributeNS(null,"width",y(x)),_.setAttributeNS(null,"height",y(k)),this.current.element=_,this.clip("nonzero");let O=this.svgFactory.createElement("svg:image");O.setAttributeNS(c,"xlink:href",B),O.setAttributeNS(null,"x","0"),O.setAttributeNS(null,"y",y(-k)),O.setAttributeNS(null,"width",y(x)+"px"),O.setAttributeNS(null,"height",y(k)+"px"),O.setAttributeNS(null,"transform",`scale(${y(1/x)} ${y(-1/k)})`),b?b.append(O):this._ensureTransformGroup().append(O)}paintImageMaskXObject(v){let b=this.current,x=v.width,k=v.height,B=b.fillColor;b.maskId=`mask${R++}`;let _=this.svgFactory.createElement("svg:mask");_.setAttributeNS(null,"id",b.maskId);let O=this.svgFactory.createElement("svg:rect");O.setAttributeNS(null,"x","0"),O.setAttributeNS(null,"y","0"),O.setAttributeNS(null,"width",y(x)),O.setAttributeNS(null,"height",y(k)),O.setAttributeNS(null,"fill",B),O.setAttributeNS(null,"mask",`url(#${b.maskId})`),this.defs.append(_),this._ensureTransformGroup().append(O),this.paintInlineImageXObject(v,_)}paintFormXObjectBegin(v,b){if(Array.isArray(v)&&v.length===6&&this.transform(v[0],v[1],v[2],v[3],v[4],v[5]),b){let x=b[2]-b[0],k=b[3]-b[1],B=this.svgFactory.createElement("svg:rect");B.setAttributeNS(null,"x",b[0]),B.setAttributeNS(null,"y",b[1]),B.setAttributeNS(null,"width",y(x)),B.setAttributeNS(null,"height",y(k)),this.current.element=B,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(v){let b=this.svgFactory.create(v.width,v.height),x=this.svgFactory.createElement("svg:defs");b.append(x),this.defs=x;let k=this.svgFactory.createElement("svg:g");return k.setAttributeNS(null,"transform",S(v.transform)),b.append(k),this.svg=k,b}_ensureClipGroup(){if(!this.current.clipGroup){let v=this.svgFactory.createElement("svg:g");v.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(v),this.current.clipGroup=v}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",S(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var n=r(1),i=r(33);let s=Mc(),o=gp(),a=mp(),l=vp(),c=/^file:\/\/\/[a-zA-Z]:\//;function d(R){let D=l.parse(R);return D.protocol==="file:"||D.host?D:/^[a-z]:[/\\]/i.test(R)?l.parse(`file:///${R}`):(D.host||(D.protocol="file:"),D)}class u{constructor(D){this.source=D,this.url=d(D.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&D.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new S(this):new g(this),this._fullRequestReader}getRangeReader(D,v){if(v<=this._progressiveDataLength)return null;let b=this.isFsUrl?new A(this,D,v):new y(this,D,v);return this._rangeRequestReaders.push(b),b}cancelAllRequests(D){this._fullRequestReader&&this._fullRequestReader.cancel(D);for(let v of this._rangeRequestReaders.slice(0))v.cancel(D)}}e.PDFNodeStream=u;class h{constructor(D){this._url=D.url,this._done=!1,this._storedError=null,this.onProgress=null;let v=D.source;this._contentLength=v.length,this._loaded=0,this._filename=null,this._disableRange=v.disableRange||!1,this._rangeChunkSize=v.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!v.disableStream,this._isRangeSupported=!v.disableRange,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)(),this._headersCapability=(0,n.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return ue(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let D=this._readableStream.read();return D===null?(this._readCapability=(0,n.createPromiseCapability)(),this.read()):(this._loaded+=D.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(D).buffer,done:!1})})}cancel(D){if(!this._readableStream){this._error(D);return}this._readableStream.destroy(D)}_error(D){this._storedError=D,this._readCapability.resolve()}_setReadableStream(D){this._readableStream=D,D.on("readable",()=>{this._readCapability.resolve()}),D.on("end",()=>{D.destroy(),this._done=!0,this._readCapability.resolve()}),D.on("error",v=>{this._error(v)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class m{constructor(D){this._url=D.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,n.createPromiseCapability)();let v=D.source;this._isStreamingSupported=!v.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return ue(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let D=this._readableStream.read();return D===null?(this._readCapability=(0,n.createPromiseCapability)(),this.read()):(this._loaded+=D.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(D).buffer,done:!1})})}cancel(D){if(!this._readableStream){this._error(D);return}this._readableStream.destroy(D)}_error(D){this._storedError=D,this._readCapability.resolve()}_setReadableStream(D){this._readableStream=D,D.on("readable",()=>{this._readCapability.resolve()}),D.on("end",()=>{D.destroy(),this._done=!0,this._readCapability.resolve()}),D.on("error",v=>{this._error(v)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function f(R,D){return{protocol:R.protocol,auth:R.auth,host:R.hostname,port:R.port,path:R.path,method:"GET",headers:D}}class g extends h{constructor(D){super(D);let v=b=>{if(b.statusCode===404){let _=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=_,this._headersCapability.reject(_);return}this._headersCapability.resolve(),this._setReadableStream(b);let x=_=>this._readableStream.headers[_.toLowerCase()],{allowRangeRequests:k,suggestedLength:B}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:x,isHttp:D.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=k,this._contentLength=B||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(x)};this._request=null,this._url.protocol==="http:"?this._request=o.request(f(this._url,D.httpHeaders),v):this._request=a.request(f(this._url,D.httpHeaders),v),this._request.on("error",b=>{this._storedError=b,this._headersCapability.reject(b)}),this._request.end()}}class y extends m{constructor(D,v,b){super(D),this._httpHeaders={};for(let k in D.httpHeaders){let B=D.httpHeaders[k];typeof B>"u"||(this._httpHeaders[k]=B)}this._httpHeaders.Range=`bytes=${v}-${b-1}`;let x=k=>{if(k.statusCode===404){let B=new n.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=B;return}this._setReadableStream(k)};this._request=null,this._url.protocol==="http:"?this._request=o.request(f(this._url,this._httpHeaders),x):this._request=a.request(f(this._url,this._httpHeaders),x),this._request.on("error",k=>{this._storedError=k}),this._request.end()}}class S extends h{constructor(D){super(D);let v=decodeURIComponent(this._url.path);c.test(this._url.href)&&(v=v.replace(/^\//,"")),s.lstat(v,(b,x)=>{if(b){b.code==="ENOENT"&&(b=new n.MissingPDFException(`Missing PDF "${v}".`)),this._storedError=b,this._headersCapability.reject(b);return}this._contentLength=x.size,this._setReadableStream(s.createReadStream(v)),this._headersCapability.resolve()})}}class A extends m{constructor(D,v,b){super(D);let x=decodeURIComponent(this._url.path);c.test(this._url.href)&&(x=x.replace(/^\//,"")),this._setReadableStream(s.createReadStream(x,{start:v,end:b-1}))}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=l,e.extractFilenameFromHeader=a,e.validateRangeRequestCapabilities=o,e.validateResponseStatus=c;var n=r(1),i=r(34),s=r(8);function o({getResponseHeader:d,isHttp:u,rangeChunkSize:h,disableRange:m}){let f={allowRangeRequests:!1,suggestedLength:void 0},g=parseInt(d("Content-Length"),10);return!Number.isInteger(g)||(f.suggestedLength=g,g<=2*h)||m||!u||d("Accept-Ranges")!=="bytes"||(d("Content-Encoding")||"identity")!=="identity"||(f.allowRangeRequests=!0),f}function a(d){let u=d("Content-Disposition");if(u){let h=(0,i.getFilenameFromContentDispositionHeader)(u);if(h.includes("%"))try{h=decodeURIComponent(h)}catch{}if((0,s.isPdfFile)(h))return h}return null}function l(d,u){return d===404||d===0&&u.startsWith("file:")?new n.MissingPDFException('Missing PDF "'+u+'".'):new n.UnexpectedResponseException(`Unexpected server response (${d}) while retrieving PDF "${u}".`,d)}function c(d){return d===200||d===206}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=i;var n=r(1);function i(s){let o=!0,a=l("filename\\*","i").exec(s);if(a){a=a[1];let g=h(a);return g=unescape(g),g=m(g),g=f(g),d(g)}if(a=u(s),a){let g=f(a);return d(g)}if(a=l("filename","i").exec(s),a){a=a[1];let g=h(a);return g=f(g),d(g)}function l(g,y){return new RegExp("(?:^|;)\\s*"+g+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',y)}function c(g,y){if(g){if(!/^[\x00-\xFF]+$/.test(y))return y;try{let S=new TextDecoder(g,{fatal:!0}),A=(0,n.stringToBytes)(y);y=S.decode(A),o=!1}catch{}}return y}function d(g){return o&&/[\x80-\xff]/.test(g)&&(g=c("utf-8",g),o&&(g=c("iso-8859-1",g))),g}function u(g){let y=[],S,A=l("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(S=A.exec(g))!==null;){let[,D,v,b]=S;if(D=parseInt(D,10),D in y){if(D===0)break;continue}y[D]=[v,b]}let R=[];for(let D=0;D<y.length&&D in y;++D){let[v,b]=y[D];b=h(b),v&&(b=unescape(b),D===0&&(b=m(b))),R.push(b)}return R.join("")}function h(g){if(g.startsWith('"')){let y=g.slice(1).split('\\"');for(let S=0;S<y.length;++S){let A=y[S].indexOf('"');A!==-1&&(y[S]=y[S].slice(0,A),y.length=S+1),y[S]=y[S].replace(/\\(.)/g,"$1")}g=y.join('"')}return g}function m(g){let y=g.indexOf("'");if(y===-1)return g;let S=g.slice(0,y),R=g.slice(y+1).replace(/^[^']*'/,"");return c(S,R)}function f(g){return!g.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(g)?g:g.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(y,S,A,R){if(A==="q"||A==="Q")return R=R.replace(/_/g," "),R=R.replace(/=([0-9a-fA-F]{2})/g,function(D,v){return String.fromCharCode(parseInt(v,16))}),c(S,R);try{R=atob(R)}catch{}return c(S,R)})}return""}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var n=r(1),i=r(33);let s=200,o=206;function a(h){let m=h.response;return typeof m!="string"?m:(0,n.stringToBytes)(m).buffer}class l{constructor(m,f={}){this.url=m,this.isHttp=/^https?:/i.test(m),this.httpHeaders=this.isHttp&&f.httpHeaders||Object.create(null),this.withCredentials=f.withCredentials||!1,this.getXhr=f.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(m,f,g){let y={begin:m,end:f};for(let S in g)y[S]=g[S];return this.request(y)}requestFull(m){return this.request(m)}request(m){let f=this.getXhr(),g=this.currXhrId++,y=this.pendingRequests[g]={xhr:f};f.open("GET",this.url),f.withCredentials=this.withCredentials;for(let S in this.httpHeaders){let A=this.httpHeaders[S];typeof A>"u"||f.setRequestHeader(S,A)}return this.isHttp&&"begin"in m&&"end"in m?(f.setRequestHeader("Range",`bytes=${m.begin}-${m.end-1}`),y.expectedStatus=o):y.expectedStatus=s,f.responseType="arraybuffer",m.onError&&(f.onerror=function(S){m.onError(f.status)}),f.onreadystatechange=this.onStateChange.bind(this,g),f.onprogress=this.onProgress.bind(this,g),y.onHeadersReceived=m.onHeadersReceived,y.onDone=m.onDone,y.onError=m.onError,y.onProgress=m.onProgress,f.send(null),g}onProgress(m,f){let g=this.pendingRequests[m];g&&g.onProgress?.(f)}onStateChange(m,f){let g=this.pendingRequests[m];if(!g)return;let y=g.xhr;if(y.readyState>=2&&g.onHeadersReceived&&(g.onHeadersReceived(),delete g.onHeadersReceived),y.readyState!==4||!(m in this.pendingRequests))return;if(delete this.pendingRequests[m],y.status===0&&this.isHttp){g.onError?.(y.status);return}let S=y.status||s;if(!(S===s&&g.expectedStatus===o)&&S!==g.expectedStatus){g.onError?.(y.status);return}let R=a(y);if(S===o){let D=y.getResponseHeader("Content-Range"),v=/bytes (\d+)-(\d+)\/(\d+)/.exec(D);g.onDone({begin:parseInt(v[1],10),chunk:R})}else R?g.onDone({begin:0,chunk:R}):g.onError?.(y.status)}getRequestXhr(m){return this.pendingRequests[m].xhr}isPendingRequest(m){return m in this.pendingRequests}abortRequest(m){let f=this.pendingRequests[m].xhr;delete this.pendingRequests[m],f.abort()}}class c{constructor(m){this._source=m,this._manager=new l(m.url,{httpHeaders:m.httpHeaders,withCredentials:m.withCredentials}),this._rangeChunkSize=m.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(m){let f=this._rangeRequestReaders.indexOf(m);f>=0&&this._rangeRequestReaders.splice(f,1)}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new d(this._manager,this._source),this._fullRequestReader}getRangeReader(m,f){let g=new u(this._manager,m,f);return g.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(g),g}cancelAllRequests(m){this._fullRequestReader?.cancel(m);for(let f of this._rangeRequestReaders.slice(0))f.cancel(m)}}e.PDFNetworkStream=c;class d{constructor(m,f){this._manager=m;let g={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=f.url,this._fullRequestId=m.requestFull(g),this._headersReceivedCapability=(0,n.createPromiseCapability)(),this._disableRange=f.disableRange||!1,this._contentLength=f.length,this._rangeChunkSize=f.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let m=this._fullRequestId,f=this._manager.getRequestXhr(m),g=A=>f.getResponseHeader(A),{allowRangeRequests:y,suggestedLength:S}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});y&&(this._isRangeSupported=!0),this._contentLength=S||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(g),this._isRangeSupported&&this._manager.abortRequest(m),this._headersReceivedCapability.resolve()}_onDone(m){if(m&&(this._requests.length>0?this._requests.shift().resolve({value:m.chunk,done:!1}):this._cachedChunks.push(m.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(m){this._storedError=(0,i.createResponseStatusError)(m,this._url),this._headersReceivedCapability.reject(this._storedError);for(let f of this._requests)f.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(m){this.onProgress?.({loaded:m.loaded,total:m.lengthComputable?m.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){return ue(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let m=(0,n.createPromiseCapability)();return this._requests.push(m),m.promise})}cancel(m){this._done=!0,this._headersReceivedCapability.reject(m);for(let f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class u{constructor(m,f,g){this._manager=m;let y={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._requestId=m.requestRange(f,g,y),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(m){let f=m.chunk;this._requests.length>0?this._requests.shift().resolve({value:f,done:!1}):this._queuedChunk=f,this._done=!0;for(let g of this._requests)g.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(m){this._storedError=(0,i.createResponseStatusError)(m,this._url);for(let f of this._requests)f.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(m){this.isStreamingSupported||this.onProgress?.({loaded:m.loaded})}get isStreamingSupported(){return!1}read(){return ue(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let f=this._queuedChunk;return this._queuedChunk=null,{value:f,done:!1}}if(this._done)return{value:void 0,done:!0};let m=(0,n.createPromiseCapability)();return this._requests.push(m),m.promise})}cancel(m){this._done=!0;for(let f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var n=r(1),i=r(33);function s(d,u,h){return{method:"GET",headers:d,signal:h.signal,mode:"cors",credentials:u?"include":"same-origin",redirect:"follow"}}function o(d){let u=new Headers;for(let h in d){let m=d[h];typeof m>"u"||u.append(h,m)}return u}class a{constructor(u){this.source=u,this.isHttp=/^https?:/i.test(u.url),this.httpHeaders=this.isHttp&&u.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,n.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new l(this),this._fullRequestReader}getRangeReader(u,h){if(h<=this._progressiveDataLength)return null;let m=new c(this,u,h);return this._rangeRequestReaders.push(m),m}cancelAllRequests(u){this._fullRequestReader&&this._fullRequestReader.cancel(u);for(let h of this._rangeRequestReaders.slice(0))h.cancel(u)}}e.PDFFetchStream=a;class l{constructor(u){this._stream=u,this._reader=null,this._loaded=0,this._filename=null;let h=u.source;this._withCredentials=h.withCredentials||!1,this._contentLength=h.length,this._headersCapability=(0,n.createPromiseCapability)(),this._disableRange=h.disableRange||!1,this._rangeChunkSize=h.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!h.disableStream,this._isRangeSupported=!h.disableRange,this._headers=o(this._stream.httpHeaders);let m=h.url;fetch(m,s(this._headers,this._withCredentials,this._abortController)).then(f=>{if(!(0,i.validateResponseStatus)(f.status))throw(0,i.createResponseStatusError)(f.status,m);this._reader=f.body.getReader(),this._headersCapability.resolve();let g=A=>f.headers.get(A),{allowRangeRequests:y,suggestedLength:S}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:g,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=y,this._contentLength=S||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(g),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return ue(this,null,function*(){yield this._headersCapability.promise;let{value:u,done:h}=yield this._reader.read();return h?{value:u,done:h}:(this._loaded+=u.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(u).buffer,done:!1})})}cancel(u){this._reader&&this._reader.cancel(u),this._abortController.abort()}}class c{constructor(u,h,m){this._stream=u,this._reader=null,this._loaded=0;let f=u.source;this._withCredentials=f.withCredentials||!1,this._readCapability=(0,n.createPromiseCapability)(),this._isStreamingSupported=!f.disableStream,this._abortController=new AbortController,this._headers=o(this._stream.httpHeaders),this._headers.append("Range",`bytes=${h}-${m-1}`);let g=f.url;fetch(g,s(this._headers,this._withCredentials,this._abortController)).then(y=>{if(!(0,i.validateResponseStatus)(y.status))throw(0,i.createResponseStatusError)(y.status,g);this._readCapability.resolve(),this._reader=y.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return ue(this,null,function*(){yield this._readCapability.promise;let{value:u,done:h}=yield this._reader.read();return h?{value:u,done:h}:(this._loaded+=u.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(u).buffer,done:!1})})}cancel(u){this._reader&&this._reader.cancel(u),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var r=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](r,r.exports,__w_pdfjs_require__),r.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return i.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return s.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return o.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return a.GlobalWorkerOptions}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return r.LoopbackPort}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return n.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return n.PixelsPerInch}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return n.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return d.SVGGraphics}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return e.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return u.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return n.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return n.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return n.getXfaPageViewport}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return n.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return n.loadScript}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return r.version}});var e=__w_pdfjs_require__(1),r=__w_pdfjs_require__(4),n=__w_pdfjs_require__(8),i=__w_pdfjs_require__(22),s=__w_pdfjs_require__(7),o=__w_pdfjs_require__(27),a=__w_pdfjs_require__(15),l=__w_pdfjs_require__(3),c=__w_pdfjs_require__(30),d=__w_pdfjs_require__(31),u=__w_pdfjs_require__(29);let h="2.16.105",m="172ccdbe5";if(l.isNodeJS){let{PDFNodeStream:f}=__w_pdfjs_require__(32);(0,r.setPDFNetworkStreamFactory)(g=>new f(g))}else{let{PDFNetworkStream:f}=__w_pdfjs_require__(35),{PDFFetchStream:g}=__w_pdfjs_require__(36);(0,r.setPDFNetworkStreamFactory)(y=>(0,n.isValidFetchUrl)(y.url)?new g(y):new f(y))}})(),__webpack_exports__})())});var yp=sn((bo,Pc)=>{"use strict";(function(e,r){typeof bo=="object"&&typeof Pc=="object"?Pc.exports=r():typeof define=="function"&&define.amd?define("pdfjs-dist/web/pdf_viewer",[],r):typeof bo=="object"?bo["pdfjs-dist/web/pdf_viewer"]=r():e["pdfjs-dist/web/pdf_viewer"]=e.pdfjsViewer=r()})(globalThis,()=>(()=>{"use strict";var t=[,(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DefaultXfaLayerFactory=s.DefaultTextLayerFactory=s.DefaultStructTreeLayerFactory=s.DefaultAnnotationLayerFactory=s.DefaultAnnotationEditorLayerFactory=void 0;var a=o(2),l=o(5),c=o(4),d=o(6),u=o(8),h=o(9),m=o(10);class f{createAnnotationLayerBuilder({pageDiv:D,pdfPage:v,annotationStorage:b=null,imageResourcesPath:x="",renderForms:k=!0,l10n:B=c.NullL10n,enableScripting:_=!1,hasJSActionsPromise:O=null,mouseState:q=null,fieldObjectsPromise:U=null,annotationCanvasMap:T=null,accessibilityManager:M=null}){return new l.AnnotationLayerBuilder({pageDiv:D,pdfPage:v,imageResourcesPath:x,renderForms:k,linkService:new d.SimpleLinkService,l10n:B,annotationStorage:b,enableScripting:_,hasJSActionsPromise:O,fieldObjectsPromise:U,mouseState:q,annotationCanvasMap:T,accessibilityManager:M})}}s.DefaultAnnotationLayerFactory=f;class g{createAnnotationEditorLayerBuilder({uiManager:D=null,pageDiv:v,pdfPage:b,accessibilityManager:x=null,l10n:k,annotationStorage:B=null}){return new a.AnnotationEditorLayerBuilder({uiManager:D,pageDiv:v,pdfPage:b,accessibilityManager:x,l10n:k,annotationStorage:B})}}s.DefaultAnnotationEditorLayerFactory=g;class y{createStructTreeLayerBuilder({pdfPage:D}){return new u.StructTreeLayerBuilder({pdfPage:D})}}s.DefaultStructTreeLayerFactory=y;class S{createTextLayerBuilder({textLayerDiv:D,pageIndex:v,viewport:b,enhanceTextSelection:x=!1,eventBus:k,highlighter:B,accessibilityManager:_=null}){return new h.TextLayerBuilder({textLayerDiv:D,pageIndex:v,viewport:b,enhanceTextSelection:x,eventBus:k,highlighter:B,accessibilityManager:_})}}s.DefaultTextLayerFactory=S;class A{createXfaLayerBuilder({pageDiv:D,pdfPage:v,annotationStorage:b=null}){return new m.XfaLayerBuilder({pageDiv:D,pdfPage:v,annotationStorage:b,linkService:new d.SimpleLinkService})}}s.DefaultXfaLayerFactory=A},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayerBuilder=void 0;var a=o(3),l=o(4);class c{#e;constructor(u){this.pageDiv=u.pageDiv,this.pdfPage=u.pdfPage,this.annotationStorage=u.annotationStorage||null,this.accessibilityManager=u.accessibilityManager,this.l10n=u.l10n||l.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#e=u.uiManager}render(u,h="display"){return ue(this,null,function*(){if(h!=="display"||this._cancelled)return;let m=u.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:m}),this.show();return}this.div=document.createElement("div"),this.div.className="annotationEditorLayer",this.div.tabIndex=0,this.pageDiv.append(this.div),this.annotationEditorLayer=new a.AnnotationEditorLayer({uiManager:this.#e,div:this.div,annotationStorage:this.annotationStorage,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage._pageIndex,l10n:this.l10n,viewport:m});let f={viewport:m,div:this.div,annotations:null,intent:h};this.annotationEditorLayer.render(f)})}cancel(){this._cancelled=!0,this.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){this.div&&(this.div.hidden=!1)}destroy(){this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}s.AnnotationEditorLayerBuilder=c},i=>{let s;typeof window<"u"&&window["pdfjs-dist/build/pdf"]?s=window["pdfjs-dist/build/pdf"]:s=Tc(),i.exports=s},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.fixupLangCode=c,s.getL10nFallback=a;let o={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xD7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xD7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text_default_content:"Enter text\u2026",editor_free_text_aria_label:"FreeText Editor",editor_ink_aria_label:"Ink Editor",editor_ink_canvas_aria_label:"User-created image"};function a(m,f){switch(m){case"find_match_count":m=`find_match_count[${f.total===1?"one":"other"}]`;break;case"find_match_count_limit":m=`find_match_count_limit[${f.limit===1?"one":"other"}]`;break}return o[m]||""}let l={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function c(m){return l[m?.toLowerCase()]||m}function d(m,f){return f?m.replace(/\{\{\s*(\w+)\s*\}\}/g,(g,y)=>y in f?f[y]:"{{"+y+"}}"):m}let u={getLanguage(){return ue(this,null,function*(){return"en-us"})},getDirection(){return ue(this,null,function*(){return"ltr"})},get(y){return ue(this,arguments,function*(m,f=null,g=a(m,f)){return d(g,f)})},translate(m){return ue(this,null,function*(){})}};s.NullL10n=u},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationLayerBuilder=void 0;var a=o(3),l=o(4);class c{constructor({pageDiv:u,pdfPage:h,linkService:m,downloadManager:f,annotationStorage:g=null,imageResourcesPath:y="",renderForms:S=!0,l10n:A=l.NullL10n,enableScripting:R=!1,hasJSActionsPromise:D=null,fieldObjectsPromise:v=null,mouseState:b=null,annotationCanvasMap:x=null,accessibilityManager:k=null}){this.pageDiv=u,this.pdfPage=h,this.linkService=m,this.downloadManager=f,this.imageResourcesPath=y,this.renderForms=S,this.l10n=A,this.annotationStorage=g,this.enableScripting=R,this._hasJSActionsPromise=D,this._fieldObjectsPromise=v,this._mouseState=b,this._annotationCanvasMap=x,this._accessibilityManager=k,this.div=null,this._cancelled=!1}render(u,h="display"){return ue(this,null,function*(){let[m,f=!1,g=null]=yield Promise.all([this.pdfPage.getAnnotations({intent:h}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled||m.length===0)return;let y={viewport:u.clone({dontFlip:!0}),div:this.div,annotations:m,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:f,fieldObjects:g,mouseState:this._mouseState,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager};this.div?a.AnnotationLayer.update(y):(this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.append(this.div),y.div=this.div,a.AnnotationLayer.render(y),this.l10n.translate(this.div))})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}s.AnnotationLayerBuilder=c},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SimpleLinkService=s.PDFLinkService=s.LinkTarget=void 0;var a=o(7);let l="noopener noreferrer nofollow",c={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};s.LinkTarget=c;function d(m,{url:f,target:g,rel:y,enabled:S=!0}={}){if(!f||typeof f!="string")throw new Error('A valid "url" parameter must provided.');let A=(0,a.removeNullCharacters)(f);S?m.href=m.title=A:(m.href="",m.title=`Disabled: ${A}`,m.onclick=()=>!1);let R="";switch(g){case c.NONE:break;case c.SELF:R="_self";break;case c.BLANK:R="_blank";break;case c.PARENT:R="_parent";break;case c.TOP:R="_top";break}m.target=R,m.rel=typeof y=="string"?y:l}class u{#e=new Map;constructor({eventBus:f,externalLinkTarget:g=null,externalLinkRel:y=null,ignoreDestinationZoom:S=!1}={}){this.eventBus=f,this.externalLinkTarget=g,this.externalLinkRel=y,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=S,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(f,g=null){this.baseUrl=g,this.pdfDocument=f,this.#e.clear()}setViewer(f){this.pdfViewer=f}setHistory(f){this.pdfHistory=f}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(f){this.pdfViewer.currentPageNumber=f}get rotation(){return this.pdfViewer.pagesRotation}set rotation(f){this.pdfViewer.pagesRotation=f}#t(f,g=null,y){let S=y[0],A;if(typeof S=="object"&&S!==null){if(A=this._cachedPageNumber(S),!A){this.pdfDocument.getPageIndex(S).then(R=>{this.cachePageRef(R+1,S),this.#t(f,g,y)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${S}" is not a valid page reference, for dest="${f}".`)});return}}else if(Number.isInteger(S))A=S+1;else{console.error(`PDFLinkService.#goToDestinationHelper: "${S}" is not a valid destination reference, for dest="${f}".`);return}if(!A||A<1||A>this.pagesCount){console.error(`PDFLinkService.#goToDestinationHelper: "${A}" is not a valid page number, for dest="${f}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:g,explicitDest:y,pageNumber:A})),this.pdfViewer.scrollPageIntoView({pageNumber:A,destArray:y,ignoreDestinationZoom:this._ignoreDestinationZoom})}goToDestination(f){return ue(this,null,function*(){if(!this.pdfDocument)return;let g,y;if(typeof f=="string"?(g=f,y=yield this.pdfDocument.getDestination(f)):(g=null,y=yield f),!Array.isArray(y)){console.error(`PDFLinkService.goToDestination: "${y}" is not a valid destination array, for dest="${f}".`);return}this.#t(f,g,y)})}goToPage(f){if(!this.pdfDocument)return;let g=typeof f=="string"&&this.pdfViewer.pageLabelToPageNumber(f)||f|0;if(!(Number.isInteger(g)&&g>0&&g<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${f}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(g)),this.pdfViewer.scrollPageIntoView({pageNumber:g})}addLinkAttributes(f,g,y=!1){d(f,{url:g,target:y?c.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(f){if(typeof f=="string"){if(f.length>0)return this.getAnchorUrl("#"+escape(f))}else if(Array.isArray(f)){let g=JSON.stringify(f);if(g.length>0)return this.getAnchorUrl("#"+escape(g))}return this.getAnchorUrl("")}getAnchorUrl(f){return(this.baseUrl||"")+f}setHash(f){if(!this.pdfDocument)return;let g,y;if(f.includes("=")){let S=(0,a.parseQueryString)(f);if(S.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:S.get("search").replace(/"/g,""),phraseSearch:S.get("phrase")==="true"}),S.has("page")&&(g=S.get("page")|0||1),S.has("zoom")){let A=S.get("zoom").split(","),R=A[0],D=parseFloat(R);R.includes("Fit")?R==="Fit"||R==="FitB"?y=[null,{name:R}]:R==="FitH"||R==="FitBH"||R==="FitV"||R==="FitBV"?y=[null,{name:R},A.length>1?A[1]|0:null]:R==="FitR"?A.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):y=[null,{name:R},A[1]|0,A[2]|0,A[3]|0,A[4]|0]:console.error(`PDFLinkService.setHash: "${R}" is not a valid zoom value.`):y=[null,{name:"XYZ"},A.length>1?A[1]|0:null,A.length>2?A[2]|0:null,D?D/100:R]}y?this.pdfViewer.scrollPageIntoView({pageNumber:g||this.page,destArray:y,allowNegativeOffset:!0}):g&&(this.page=g),S.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:S.get("pagemode")}),S.has("nameddest")&&this.goToDestination(S.get("nameddest"))}else{y=unescape(f);try{y=JSON.parse(y),Array.isArray(y)||(y=y.toString())}catch{}if(typeof y=="string"||u.#n(y)){this.goToDestination(y);return}console.error(`PDFLinkService.setHash: "${unescape(f)}" is not a valid destination.`)}}executeNamedAction(f){switch(f){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:f})}cachePageRef(f,g){if(!g)return;let y=g.gen===0?`${g.num}R`:`${g.num}R${g.gen}`;this.#e.set(y,f)}_cachedPageNumber(f){if(!f)return null;let g=f.gen===0?`${f.num}R`:`${f.num}R${f.gen}`;return this.#e.get(g)||null}isPageVisible(f){return this.pdfViewer.isPageVisible(f)}isPageCached(f){return this.pdfViewer.isPageCached(f)}static#n(f){if(!Array.isArray(f))return!1;let g=f.length;if(g<2)return!1;let y=f[0];if(!(typeof y=="object"&&Number.isInteger(y.num)&&Number.isInteger(y.gen))&&!(Number.isInteger(y)&&y>=0))return!1;let S=f[1];if(!(typeof S=="object"&&typeof S.name=="string"))return!1;let A=!0;switch(S.name){case"XYZ":if(g!==5)return!1;break;case"Fit":case"FitB":return g===2;case"FitH":case"FitBH":case"FitV":case"FitBV":if(g!==3)return!1;break;case"FitR":if(g!==6)return!1;A=!1;break;default:return!1}for(let R=2;R<g;R++){let D=f[R];if(!(typeof D=="number"||A&&D===null))return!1}return!0}}s.PDFLinkService=u;class h{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(f){}get rotation(){return 0}set rotation(f){}goToDestination(f){return ue(this,null,function*(){})}goToPage(f){}addLinkAttributes(f,g,y=!1){d(f,{url:g,enabled:this.externalLinkEnabled})}getDestinationHash(f){return"#"}getAnchorUrl(f){return"#"}setHash(f){}executeNamedAction(f){}cachePageRef(f,g){}isPageVisible(f){return!0}isPageCached(f){return!0}}s.SimpleLinkService=h},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.animationStarted=s.VERTICAL_PADDING=s.UNKNOWN_SCALE=s.TextLayerMode=s.SpreadMode=s.SidebarView=s.ScrollMode=s.SCROLLBAR_PADDING=s.RenderingStates=s.RendererType=s.ProgressBar=s.PresentationModeState=s.OutputScale=s.MIN_SCALE=s.MAX_SCALE=s.MAX_AUTO_SCALE=s.DEFAULT_SCALE_VALUE=s.DEFAULT_SCALE_DELTA=s.DEFAULT_SCALE=s.AutoPrintRegExp=void 0,s.apiPageLayoutToViewerModes=Q,s.apiPageModeToSidebarView=Y,s.approximateFraction=M,s.backtrackBeforeAllVisibleElements=$,s.binarySearchFirstItem=T,s.docStyle=void 0,s.getActiveOrFocusedElement=X,s.getPageSizeInches=H,s.getVisibleElements=I,s.isPortraitOrientation=N,s.isValidRotation=j,s.isValidScrollMode=p,s.isValidSpreadMode=w,s.noContextMenuHandler=C,s.normalizeWheelEventDelta=L,s.normalizeWheelEventDirection=E,s.parseQueryString=_,s.removeNullCharacters=U,s.roundToDivide=P,s.scrollIntoView=k,s.watchScroll=B;let o="auto";s.DEFAULT_SCALE_VALUE=o;let a=1;s.DEFAULT_SCALE=a;let l=1.1;s.DEFAULT_SCALE_DELTA=l;let c=.1;s.MIN_SCALE=c;let d=10;s.MAX_SCALE=d;let u=0;s.UNKNOWN_SCALE=u;let h=1.25;s.MAX_AUTO_SCALE=h;let m=40;s.SCROLLBAR_PADDING=m;let f=5;s.VERTICAL_PADDING=f;let g={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};s.RenderingStates=g;let y={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};s.PresentationModeState=y;let S={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};s.SidebarView=S;let A={CANVAS:"canvas",SVG:"svg"};s.RendererType=A;let R={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};s.TextLayerMode=R;let D={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};s.ScrollMode=D;let v={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};s.SpreadMode=v;let b=/\bprint\s*\(/;s.AutoPrintRegExp=b;class x{constructor(){let Z=window.devicePixelRatio||1;this.sx=Z,this.sy=Z}get scaled(){return this.sx!==1||this.sy!==1}}s.OutputScale=x;function k(G,Z,ee=!1){let te=G.offsetParent;if(!te){console.error("offsetParent is not set -- cannot scroll");return}let re=G.offsetTop+G.clientTop,ie=G.offsetLeft+G.clientLeft;for(;te.clientHeight===te.scrollHeight&&te.clientWidth===te.scrollWidth||ee&&(te.classList.contains("markedContent")||getComputedStyle(te).overflow==="hidden");)if(re+=te.offsetTop,ie+=te.offsetLeft,te=te.offsetParent,!te)return;Z&&(Z.top!==void 0&&(re+=Z.top),Z.left!==void 0&&(ie+=Z.left,te.scrollLeft=ie)),te.scrollTop=re}function B(G,Z){let ee=function(ie){re||(re=window.requestAnimationFrame(function(){re=null;let se=G.scrollLeft,Ee=te.lastX;se!==Ee&&(te.right=se>Ee),te.lastX=se;let Ie=G.scrollTop,de=te.lastY;Ie!==de&&(te.down=Ie>de),te.lastY=Ie,Z(te)}))},te={right:!0,down:!0,lastX:G.scrollLeft,lastY:G.scrollTop,_eventHandler:ee},re=null;return G.addEventListener("scroll",ee,!0),te}function _(G){let Z=new Map;for(let[ee,te]of new URLSearchParams(G))Z.set(ee.toLowerCase(),te);return Z}let O=/\x00/g,q=/[\x01-\x1F]/g;function U(G,Z=!1){return typeof G!="string"?(console.error("The argument must be a string."),G):(Z&&(G=G.replace(q," ")),G.replace(O,""))}function T(G,Z,ee=0){let te=ee,re=G.length-1;if(re<0||!Z(G[re]))return G.length;if(Z(G[te]))return te;for(;te<re;){let ie=te+re>>1,ae=G[ie];Z(ae)?re=ie:te=ie+1}return te}function M(G){if(Math.floor(G)===G)return[G,1];let Z=1/G,ee=8;if(Z>ee)return[1,ee];if(Math.floor(Z)===Z)return[1,Z];let te=G>1?Z:G,re=0,ie=1,ae=1,se=1;for(;;){let Ie=re+ae,de=ie+se;if(de>ee)break;te<=Ie/de?(ae=Ie,se=de):(re=Ie,ie=de)}let Ee;return te-re/ie<ae/se-te?Ee=te===G?[re,ie]:[ie,re]:Ee=te===G?[ae,se]:[se,ae],Ee}function P(G,Z){let ee=G%Z;return ee===0?G:Math.round(G-ee+Z)}function H({view:G,userUnit:Z,rotate:ee}){let[te,re,ie,ae]=G,se=ee%180!==0,Ee=(ie-te)/72*Z,Ie=(ae-re)/72*Z;return{width:se?Ie:Ee,height:se?Ee:Ie}}function $(G,Z,ee){if(G<2)return G;let te=Z[G].div,re=te.offsetTop+te.clientTop;re>=ee&&(te=Z[G-1].div,re=te.offsetTop+te.clientTop);for(let ie=G-2;ie>=0&&(te=Z[ie].div,!(te.offsetTop+te.clientTop+te.clientHeight<=re));--ie)G=ie;return G}function I({scrollEl:G,views:Z,sortByVisibility:ee=!1,horizontal:te=!1,rtl:re=!1}){let ie=G.scrollTop,ae=ie+G.clientHeight,se=G.scrollLeft,Ee=se+G.clientWidth;function Ie(st){let Ze=st.div;return Ze.offsetTop+Ze.clientTop+Ze.clientHeight>ie}function de(st){let Ze=st.div,ot=Ze.offsetLeft+Ze.clientLeft,Gt=ot+Ze.clientWidth;return re?ot<Ee:Gt>se}let Pe=[],He=new Set,it=Z.length,ze=T(Z,te?de:Ie);ze>0&&ze<it&&!te&&(ze=$(ze,Z,ie));let xt=te?Ee:-1;for(let st=ze;st<it;st++){let Ze=Z[st],ot=Ze.div,Gt=ot.offsetLeft+ot.clientLeft,wn=ot.offsetTop+ot.clientTop,Lr=ot.clientWidth,ne=ot.clientHeight,J=Gt+Lr,K=wn+ne;if(xt===-1)K>=ae&&(xt=K);else if((te?Gt:wn)>xt)break;if(K<=ie||wn>=ae||J<=se||Gt>=Ee)continue;let le=Math.max(0,ie-wn)+Math.max(0,K-ae),ye=Math.max(0,se-Gt)+Math.max(0,J-Ee),Le=(ne-le)/ne,Re=(Lr-ye)/Lr,Ot=Le*Re*100|0;Pe.push({id:Ze.id,x:Gt,y:wn,view:Ze,percent:Ot,widthPercent:Re*100|0}),He.add(Ze.id)}let qe=Pe[0],$e=Pe.at(-1);return ee&&Pe.sort(function(st,Ze){let ot=st.percent-Ze.percent;return Math.abs(ot)>.001?-ot:st.id-Ze.id}),{first:qe,last:$e,views:Pe,ids:He}}function C(G){G.preventDefault()}function E(G){let Z=Math.hypot(G.deltaX,G.deltaY),ee=Math.atan2(G.deltaY,G.deltaX);return-.25*Math.PI<ee&&ee<.75*Math.PI&&(Z=-Z),Z}function L(G){let Z=E(G),ee=0,te=1,re=30,ie=30;return G.deltaMode===ee?Z/=re*ie:G.deltaMode===te&&(Z/=ie),Z}function j(G){return Number.isInteger(G)&&G%90===0}function p(G){return Number.isInteger(G)&&Object.values(D).includes(G)&&G!==D.UNKNOWN}function w(G){return Number.isInteger(G)&&Object.values(v).includes(G)&&G!==v.UNKNOWN}function N(G){return G.width<=G.height}let F=new Promise(function(G){window.requestAnimationFrame(G)});s.animationStarted=F;let V=document.documentElement.style;s.docStyle=V;function W(G,Z,ee){return Math.min(Math.max(G,Z),ee)}class z{#e=null;#t=0;#n=!0;constructor(Z){if(arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");let ee=document.getElementById(Z);this.#e=ee.classList}get percent(){return this.#t}set percent(Z){if(this.#t=W(Z,0,100),isNaN(Z)){this.#e.add("indeterminate");return}this.#e.remove("indeterminate"),V.setProperty("--progressBar-percent",`${this.#t}%`)}setWidth(Z){if(!Z)return;let te=Z.parentNode.offsetWidth-Z.offsetWidth;te>0&&V.setProperty("--progressBar-end-offset",`${te}px`)}hide(){this.#n&&(this.#n=!1,this.#e.add("hidden"))}show(){this.#n||(this.#n=!0,this.#e.remove("hidden"))}}s.ProgressBar=z;function X(){let G=document,Z=G.activeElement||G.querySelector(":focus");for(;Z?.shadowRoot;)G=Z.shadowRoot,Z=G.activeElement||G.querySelector(":focus");return Z}function Q(G){let Z=D.VERTICAL,ee=v.NONE;switch(G){case"SinglePage":Z=D.PAGE;break;case"OneColumn":break;case"TwoPageLeft":Z=D.PAGE;case"TwoColumnLeft":ee=v.ODD;break;case"TwoPageRight":Z=D.PAGE;case"TwoColumnRight":ee=v.EVEN;break}return{scrollMode:Z,spreadMode:ee}}function Y(G){switch(G){case"UseNone":return S.NONE;case"UseThumbs":return S.THUMBS;case"UseOutlines":return S.OUTLINE;case"UseAttachments":return S.ATTACHMENTS;case"UseOC":return S.LAYERS}return S.NONE}},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StructTreeLayerBuilder=void 0;let o={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},a=/^H(\d+)$/;class l{constructor({pdfPage:d}){this.pdfPage=d}render(d){return this._walk(d)}_setAttributes(d,u){d.alt!==void 0&&u.setAttribute("aria-label",d.alt),d.id!==void 0&&u.setAttribute("aria-owns",d.id),d.lang!==void 0&&u.setAttribute("lang",d.lang)}_walk(d){if(!d)return null;let u=document.createElement("span");if("role"in d){let{role:h}=d,m=h.match(a);m?(u.setAttribute("role","heading"),u.setAttribute("aria-level",m[1])):o[h]&&u.setAttribute("role",o[h])}if(this._setAttributes(d,u),d.children)if(d.children.length===1&&"id"in d.children[0])this._setAttributes(d.children[0],u);else for(let h of d.children)u.append(this._walk(h));return u}}s.StructTreeLayerBuilder=l},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerBuilder=void 0;var a=o(3);let l=300;class c{constructor({textLayerDiv:u,eventBus:h,pageIndex:m,viewport:f,highlighter:g=null,enhanceTextSelection:y=!1,accessibilityManager:S=null}){this.textLayerDiv=u,this.eventBus=h,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=m+1,this.viewport=f,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=g,this.enhanceTextSelection=y,this.accessibilityManager=S,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){let u=document.createElement("div");u.className="endOfContent",this.textLayerDiv.append(u)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(u=0){if(!(this.textContent||this.textContentStream)||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr),this.accessibilityManager?.setTextMapping(this.textDivs);let h=document.createDocumentFragment();this.textLayerRenderTask=(0,a.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:h,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:u,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.append(h),this._finishRendering(),this.highlighter?.enable(),this.accessibilityManager?.enable()},function(m){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable(),this.accessibilityManager?.disable()}setTextContentStream(u){this.cancel(),this.textContentStream=u}setTextContent(u){this.cancel(),this.textContent=u}_bindMouse(){let u=this.textLayerDiv,h=null;u.addEventListener("mousedown",m=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){this.textLayerRenderTask.expandTextDivs(!0),h&&(clearTimeout(h),h=null);return}let f=u.querySelector(".endOfContent");if(!f)return;let g=m.target!==u;if(g=g&&window.getComputedStyle(f).getPropertyValue("-moz-user-select")!=="none",g){let y=u.getBoundingClientRect(),S=Math.max(0,(m.pageY-y.top)/y.height);f.style.top=(S*100).toFixed(2)+"%"}f.classList.add("active")}),u.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask){h=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),h=null},l);return}let m=u.querySelector(".endOfContent");m&&(m.style.top="",m.classList.remove("active"))})}}s.TextLayerBuilder=c},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayerBuilder=void 0;var a=o(3);class l{constructor({pageDiv:d,pdfPage:u,annotationStorage:h=null,linkService:m,xfaHtml:f=null}){this.pageDiv=d,this.pdfPage=u,this.annotationStorage=h,this.linkService=m,this.xfaHtml=f,this.div=null,this._cancelled=!1}render(d,u="display"){if(u==="print"){let h={viewport:d.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:u},m=document.createElement("div");this.pageDiv.append(m),h.div=m;let f=a.XfaLayer.render(h);return Promise.resolve(f)}return this.pdfPage.getXfa().then(h=>{if(this._cancelled||!h)return{textDivs:[]};let m={viewport:d.clone({dontFlip:!0}),div:this.div,xfaHtml:h,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:u};return this.div?a.XfaLayer.update(m):(this.div=document.createElement("div"),this.pageDiv.append(this.div),m.div=this.div,a.XfaLayer.render(m))}).catch(h=>{console.error(h)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}s.XfaLayerBuilder=l},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFViewer=s.PDFSinglePageViewer=void 0;var a=o(7),l=o(12);class c extends l.BaseViewer{}s.PDFViewer=c;class d extends l.BaseViewer{_resetView(){super._resetView(),this._scrollMode=a.ScrollMode.PAGE,this._spreadMode=a.SpreadMode.NONE}set scrollMode(h){}_updateScrollMode(){}set spreadMode(h){}_updateSpreadMode(){}}s.PDFSinglePageViewer=d},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PagesCountLimit=s.PDFPageViewBuffer=s.BaseViewer=void 0;var a=o(3),l=o(7),c=o(2),d=o(5),u=o(4),h=o(13),m=o(16),f=o(6),g=o(8),y=o(17),S=o(9),A=o(10);let R=10,D="enablePermissions",v={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};s.PagesCountLimit=v;function b(B){return Object.values(a.AnnotationEditorType).includes(B)&&B!==a.AnnotationEditorType.DISABLE}class x{#e=new Set;#t=0;constructor(_){this.#t=_}push(_){let O=this.#e;O.has(_)&&O.delete(_),O.add(_),O.size>this.#t&&this.#n()}resize(_,O=null){this.#t=_;let q=this.#e;if(O){let U=q.size,T=1;for(let M of q)if(O.has(M.id)&&(q.delete(M),q.add(M)),++T>U)break}for(;q.size>this.#t;)this.#n()}has(_){return this.#e.has(_)}[Symbol.iterator](){return this.#e.keys()}#n(){let _=this.#e.keys().next().value;_?.destroy(),this.#e.delete(_)}}s.PDFPageViewBuffer=x;class k{#e=null;#t=a.AnnotationEditorType.DISABLE;#n=null;#r=a.AnnotationMode.ENABLE_FORMS;#s=!1;#c=0;#a=null;#i=null;constructor(_){if(this.constructor===k)throw new Error("Cannot initialize BaseViewer.");let O="2.16.105";if(a.version!==O)throw new Error(`The API version "${a.version}" does not match the Viewer version "${O}".`);if(this.container=_.container,this.viewer=_.viewer||_.container.firstElementChild,!(this.container?.tagName.toUpperCase()==="DIV"&&this.viewer?.tagName.toUpperCase()==="DIV"))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.eventBus=_.eventBus,this.linkService=_.linkService||new f.SimpleLinkService,this.downloadManager=_.downloadManager||null,this.findController=_.findController||null,this._scriptingManager=_.scriptingManager||null,this.removePageBorders=_.removePageBorders||!1,this.textLayerMode=_.textLayerMode??l.TextLayerMode.ENABLE,this.#r=_.annotationMode??a.AnnotationMode.ENABLE_FORMS,this.#t=_.annotationEditorMode??a.AnnotationEditorType.DISABLE,this.imageResourcesPath=_.imageResourcesPath||"",this.enablePrintAutoRotate=_.enablePrintAutoRotate||!1,this.renderer=_.renderer||l.RendererType.CANVAS,this.useOnlyCssZoom=_.useOnlyCssZoom||!1,this.maxCanvasPixels=_.maxCanvasPixels,this.l10n=_.l10n||u.NullL10n,this.#s=_.enablePermissions||!1,this.pageColors=_.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!_.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new m.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=_.renderingQueue,this.scroll=(0,l.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=l.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(_){return this._pages[_]}get pageViewsReady(){return this._pagesCapability.settled?this._pages.every(function(_){return _?.pdfPage}):!1}get renderForms(){return this.#r===a.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(_){if(!Number.isInteger(_))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(_,!0)||console.error(`currentPageNumber: "${_}" is not a valid page.`))}_setCurrentPageNumber(_,O=!1){if(this._currentPageNumber===_)return O&&this.#f(),!0;if(!(0<_&&_<=this.pagesCount))return!1;let q=this._currentPageNumber;return this._currentPageNumber=_,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:_,pageLabel:this._pageLabels?.[_-1]??null,previous:q}),O&&this.#f(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(_){if(!this.pdfDocument)return;let O=_|0;if(this._pageLabels){let q=this._pageLabels.indexOf(_);q>=0&&(O=q+1)}this._setCurrentPageNumber(O,!0)||console.error(`currentPageLabel: "${_}" is not a valid page.`)}get currentScale(){return this._currentScale!==l.UNKNOWN_SCALE?this._currentScale:l.DEFAULT_SCALE}set currentScale(_){if(isNaN(_))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(_,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(_){this.pdfDocument&&this._setScale(_,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(_){if(!(0,l.isValidRotation)(_))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(_%=360,_<0&&(_+=360),this._pagesRotation===_))return;this._pagesRotation=_;let O=this._currentPageNumber,q={rotation:_};for(let U of this._pages)U.update(q);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:_,pageNumber:O}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}#h(_){let O={annotationEditorMode:this.#t,annotationMode:this.#r,textLayerMode:this.textLayerMode};return _&&(_.includes(a.PermissionFlag.COPY)||this.viewer.classList.add(D),_.includes(a.PermissionFlag.MODIFY_CONTENTS)||(O.annotationEditorMode=a.AnnotationEditorType.DISABLE),!_.includes(a.PermissionFlag.MODIFY_ANNOTATIONS)&&!_.includes(a.PermissionFlag.FILL_INTERACTIVE_FORMS)&&this.#r===a.AnnotationMode.ENABLE_FORMS&&(O.annotationMode=a.AnnotationMode.ENABLE)),O}#u(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return Promise.resolve();let _=new Promise(O=>{this.#i=()=>{document.visibilityState==="hidden"&&(O(),document.removeEventListener("visibilitychange",this.#i),this.#i=null)},document.addEventListener("visibilitychange",this.#i)});return Promise.race([this._onePageRenderedCapability.promise,_])}setDocument(_){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null),this.#n&&(this.#n.destroy(),this.#n=null)),this.pdfDocument=_,!_)return;let O=_.isPureXfa,q=_.numPages,U=_.getPage(1),T=_.getOptionalContentConfig(),M=this.#s?_.getPermissions():Promise.resolve();if(q>v.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");let P=this._scrollMode=l.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:P})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:q})},()=>{}),this._onBeforeDraw=P=>{let H=this._pages[P.pageNumber-1];H&&this.#e.push(H)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=P=>{P.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:P.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,this.#i&&(document.removeEventListener("visibilitychange",this.#i),this.#i=null))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([U,M]).then(([P,H])=>{if(_!==this.pdfDocument)return;this._firstPageCapability.resolve(P),this._optionalContentConfigPromise=T;let{annotationEditorMode:$,annotationMode:I,textLayerMode:C}=this.#h(H);if($!==a.AnnotationEditorType.DISABLE){let W=$;O?console.warn("Warning: XFA-editing is not implemented."):b(W)?(this.#n=new a.AnnotationEditorUIManager(this.container,this.eventBus),W!==a.AnnotationEditorType.NONE&&this.#n.updateMode(W)):console.error(`Invalid AnnotationEditor mode: ${W}`)}let E=this._scrollMode===l.ScrollMode.PAGE?null:this.viewer,L=this.currentScale,j=P.getViewport({scale:L*a.PixelsPerInch.PDF_TO_CSS_UNITS}),p=C!==l.TextLayerMode.DISABLE&&!O?this:null,w=I!==a.AnnotationMode.DISABLE?this:null,N=O?this:null,F=this.#n?this:null;for(let W=1;W<=q;++W){let z=new h.PDFPageView({container:E,eventBus:this.eventBus,id:W,scale:L,defaultViewport:j.clone(),optionalContentConfigPromise:T,renderingQueue:this.renderingQueue,textLayerFactory:p,textLayerMode:C,annotationLayerFactory:w,annotationMode:I,xfaLayerFactory:N,annotationEditorLayerFactory:F,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(z)}let V=this._pages[0];V&&(V.setPdfPage(P),this.linkService.cachePageRef(1,P.ref)),this._scrollMode===l.ScrollMode.PAGE?this.#l():this._spreadMode!==l.SpreadMode.NONE&&this._updateSpreadMode(),this.#u().then(()=>ue(this,null,function*(){if(this.findController&&this.findController.setDocument(_),this._scriptingManager&&this._scriptingManager.setDocument(_),this.#n&&this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:this.#t}),_.loadingParams.disableAutoFetch||q>v.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let W=q-1;if(W<=0){this._pagesCapability.resolve();return}for(let z=2;z<=q;++z){let X=_.getPage(z).then(Q=>{let Y=this._pages[z-1];Y.pdfPage||Y.setPdfPage(Q),this.linkService.cachePageRef(z,Q.ref),--W===0&&this._pagesCapability.resolve()},Q=>{console.error(`Unable to get page ${z} to initialize viewer`,Q),--W===0&&this._pagesCapability.resolve()});z%v.PAUSE_EAGER_PAGE_INIT===0&&(yield X)}})),this.eventBus.dispatch("pagesinit",{source:this}),_.getMetadata().then(({info:W})=>{_===this.pdfDocument&&W.Language&&(this.viewer.lang=W.Language)}),this.defaultRenderingQueue&&this.update()}).catch(P=>{console.error("Unable to initialize viewer",P),this._pagesCapability.reject(P)})}setPageLabels(_){if(this.pdfDocument){_?Array.isArray(_)&&this.pdfDocument.numPages===_.length?this._pageLabels=_:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let O=0,q=this._pages.length;O<q;O++)this._pages[O].setPageLabel(this._pageLabels?.[O]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=l.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this.#e=new x(R),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,a.createPromiseCapability)(),this._onePageRenderedCapability=(0,a.createPromiseCapability)(),this._pagesCapability=(0,a.createPromiseCapability)(),this._scrollMode=l.ScrollMode.VERTICAL,this._previousScrollMode=l.ScrollMode.UNKNOWN,this._spreadMode=l.SpreadMode.NONE,this.#a={previousPageNumber:1,scrollDown:!0,pages:[]},this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.#i&&(document.removeEventListener("visibilitychange",this.#i),this.#i=null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(D)}#l(){if(this._scrollMode!==l.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");let _=this._currentPageNumber,O=this.#a,q=this.viewer;if(q.textContent="",O.pages.length=0,this._spreadMode===l.SpreadMode.NONE&&!this.isInPresentationMode){let U=this._pages[_-1];q.append(U.div),O.pages.push(U)}else{let U=new Set,T=this._spreadMode-1;T===-1?U.add(_-1):_%2!==T?(U.add(_-1),U.add(_)):(U.add(_-2),U.add(_-1));let M=document.createElement("div");if(M.className="spread",this.isInPresentationMode){let P=document.createElement("div");P.className="dummyPage",M.append(P)}for(let P of U){let H=this._pages[P];H&&(M.append(H.div),O.pages.push(H))}q.append(M)}O.scrollDown=_>=O.previousPageNumber,O.previousPageNumber=_}_scrollUpdate(){this.pagesCount!==0&&this.update()}#o(_,O=null){let{div:q,id:U}=_;if(this._scrollMode===l.ScrollMode.PAGE&&(this._setCurrentPageNumber(U),this.#l(),this.update()),!O&&!this.isInPresentationMode){let T=q.offsetLeft+q.clientLeft,M=T+q.clientWidth,{scrollLeft:P,clientWidth:H}=this.container;(this._scrollMode===l.ScrollMode.HORIZONTAL||T<P||M>P+H)&&(O={left:0,top:0})}(0,l.scrollIntoView)(q,O)}#p(_){return _===this._currentScale||Math.abs(_-this._currentScale)<1e-15}_setScaleUpdatePages(_,O,q=!1,U=!1){if(this._currentScaleValue=O.toString(),this.#p(_)){U&&this.eventBus.dispatch("scalechanging",{source:this,scale:_,presetValue:O});return}l.docStyle.setProperty("--scale-factor",_*a.PixelsPerInch.PDF_TO_CSS_UNITS);let T={scale:_};for(let M of this._pages)M.update(T);if(this._currentScale=_,!q){let M=this._currentPageNumber,P;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(M=this._location.pageNumber,P=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:M,destArray:P,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:_,presetValue:U?O:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==l.SpreadMode.NONE&&this._scrollMode!==l.ScrollMode.HORIZONTAL?2:1}_setScale(_,O=!1){let q=parseFloat(_);if(q>0)this._setScaleUpdatePages(q,_,O,!1);else{let U=this._pages[this._currentPageNumber-1];if(!U)return;let T=l.SCROLLBAR_PADDING,M=l.VERTICAL_PADDING;this.isInPresentationMode?T=M=4:this.removePageBorders?T=M=0:this._scrollMode===l.ScrollMode.HORIZONTAL&&([T,M]=[M,T]);let P=(this.container.clientWidth-T)/U.width*U.scale/this._pageWidthScaleFactor,H=(this.container.clientHeight-M)/U.height*U.scale;switch(_){case"page-actual":q=1;break;case"page-width":q=P;break;case"page-height":q=H;break;case"page-fit":q=Math.min(P,H);break;case"auto":let $=(0,l.isPortraitOrientation)(U)?P:Math.min(H,P);q=Math.min(l.MAX_AUTO_SCALE,$);break;default:console.error(`_setScale: "${_}" is an unknown zoom value.`);return}this._setScaleUpdatePages(q,_,O,!0)}}#f(){let _=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this.#o(_)}pageLabelToPageNumber(_){if(!this._pageLabels)return null;let O=this._pageLabels.indexOf(_);return O<0?null:O+1}scrollPageIntoView({pageNumber:_,destArray:O=null,allowNegativeOffset:q=!1,ignoreDestinationZoom:U=!1}){if(!this.pdfDocument)return;let T=Number.isInteger(_)&&this._pages[_-1];if(!T){console.error(`scrollPageIntoView: "${_}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!O){this._setCurrentPageNumber(_,!0);return}let M=0,P=0,H=0,$=0,I,C,E=T.rotation%180!==0,L=(E?T.height:T.width)/T.scale/a.PixelsPerInch.PDF_TO_CSS_UNITS,j=(E?T.width:T.height)/T.scale/a.PixelsPerInch.PDF_TO_CSS_UNITS,p=0;switch(O[1].name){case"XYZ":M=O[2],P=O[3],p=O[4],M=M!==null?M:0,P=P!==null?P:j;break;case"Fit":case"FitB":p="page-fit";break;case"FitH":case"FitBH":P=O[2],p="page-width",P===null&&this._location?(M=this._location.left,P=this._location.top):(typeof P!="number"||P<0)&&(P=j);break;case"FitV":case"FitBV":M=O[2],H=L,$=j,p="page-height";break;case"FitR":M=O[2],P=O[3],H=O[4]-M,$=O[5]-P;let V=this.removePageBorders?0:l.SCROLLBAR_PADDING,W=this.removePageBorders?0:l.VERTICAL_PADDING;I=(this.container.clientWidth-V)/H/a.PixelsPerInch.PDF_TO_CSS_UNITS,C=(this.container.clientHeight-W)/$/a.PixelsPerInch.PDF_TO_CSS_UNITS,p=Math.min(Math.abs(I),Math.abs(C));break;default:console.error(`scrollPageIntoView: "${O[1].name}" is not a valid destination type.`);return}if(U||(p&&p!==this._currentScale?this.currentScaleValue=p:this._currentScale===l.UNKNOWN_SCALE&&(this.currentScaleValue=l.DEFAULT_SCALE_VALUE)),p==="page-fit"&&!O[4]){this.#o(T);return}let w=[T.viewport.convertToViewportPoint(M,P),T.viewport.convertToViewportPoint(M+H,P+$)],N=Math.min(w[0][0],w[1][0]),F=Math.min(w[0][1],w[1][1]);q||(N=Math.max(N,0),F=Math.max(F,0)),this.#o(T,{left:N,top:F})}_updateLocation(_){let O=this._currentScale,q=this._currentScaleValue,U=parseFloat(q)===O?Math.round(O*1e4)/100:q,T=_.id,M=this._pages[T-1],P=this.container,H=M.getPagePoint(P.scrollLeft-_.x,P.scrollTop-_.y),$=Math.round(H[0]),I=Math.round(H[1]),C=`#page=${T}`;this.isInPresentationMode||(C+=`&zoom=${U},${$},${I}`),this._location={pageNumber:T,scale:U,top:I,left:$,rotation:this._pagesRotation,pdfOpenParams:C}}update(){let _=this._getVisiblePages(),O=_.views,q=O.length;if(q===0)return;let U=Math.max(R,2*q+1);this.#e.resize(U,_.ids),this.renderingQueue.renderHighestPriority(_);let T=this._spreadMode===l.SpreadMode.NONE&&(this._scrollMode===l.ScrollMode.PAGE||this._scrollMode===l.ScrollMode.VERTICAL),M=this._currentPageNumber,P=!1;for(let H of O){if(H.percent<100)break;if(H.id===M&&T){P=!0;break}}this._setCurrentPageNumber(P?M:O[0].id),this._updateLocation(_.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(_){return this.container.contains(_)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===l.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===l.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){let _=this._scrollMode===l.ScrollMode.PAGE?this.#a.pages:this._pages,O=this._scrollMode===l.ScrollMode.HORIZONTAL,q=O&&this._isContainerRtl;return(0,l.getVisibleElements)({scrollEl:this.container,views:_,sortByVisibility:!0,horizontal:O,rtl:q})}isPageVisible(_){return this.pdfDocument?Number.isInteger(_)&&_>0&&_<=this.pagesCount?this._getVisiblePages().ids.has(_):(console.error(`isPageVisible: "${_}" is not a valid page.`),!1):!1}isPageCached(_){if(!this.pdfDocument)return!1;if(!(Number.isInteger(_)&&_>0&&_<=this.pagesCount))return console.error(`isPageCached: "${_}" is not a valid page.`),!1;let O=this._pages[_-1];return this.#e.has(O)}cleanup(){for(let _ of this._pages)_.renderingState!==l.RenderingStates.FINISHED&&_.reset()}_cancelRendering(){for(let _ of this._pages)_.cancelRendering()}#y(_){return ue(this,null,function*(){if(_.pdfPage)return _.pdfPage;try{let O=yield this.pdfDocument.getPage(_.id);return _.pdfPage||_.setPdfPage(O),this.linkService._cachedPageNumber?.(O.ref)||this.linkService.cachePageRef(_.id,O.ref),O}catch(O){return console.error("Unable to get page for page view",O),null}})}#m(_){if(_.first?.id===1)return!0;if(_.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case l.ScrollMode.PAGE:return this.#a.scrollDown;case l.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}#v(_){for(let O of _)this._pages[O-1]?.toggleLoadingIconSpinner(!0);for(let O of this.#e)_.has(O.id)||O.toggleLoadingIconSpinner(!1)}forceRendering(_){let O=_||this._getVisiblePages(),q=this.#m(O),U=this._spreadMode!==l.SpreadMode.NONE&&this._scrollMode!==l.ScrollMode.HORIZONTAL,T=this.renderingQueue.getHighestPriority(O,this._pages,q,U);return this.#v(O.ids),T?(this.#y(T).then(()=>{this.renderingQueue.renderView(T)}),!0):!1}createTextLayerBuilder({textLayerDiv:_,pageIndex:O,viewport:q,enhanceTextSelection:U=!1,eventBus:T,highlighter:M,accessibilityManager:P=null}){return new S.TextLayerBuilder({textLayerDiv:_,eventBus:T,pageIndex:O,viewport:q,enhanceTextSelection:this.isInPresentationMode?!1:U,highlighter:M,accessibilityManager:P})}createTextHighlighter({pageIndex:_,eventBus:O}){return new y.TextHighlighter({eventBus:O,pageIndex:_,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder({pageDiv:_,pdfPage:O,annotationStorage:q=this.pdfDocument?.annotationStorage,imageResourcesPath:U="",renderForms:T=!0,l10n:M=u.NullL10n,enableScripting:P=this.enableScripting,hasJSActionsPromise:H=this.pdfDocument?.hasJSActions(),mouseState:$=this._scriptingManager?.mouseState,fieldObjectsPromise:I=this.pdfDocument?.getFieldObjects(),annotationCanvasMap:C=null,accessibilityManager:E=null}){return new d.AnnotationLayerBuilder({pageDiv:_,pdfPage:O,annotationStorage:q,imageResourcesPath:U,renderForms:T,linkService:this.linkService,downloadManager:this.downloadManager,l10n:M,enableScripting:P,hasJSActionsPromise:H,mouseState:$,fieldObjectsPromise:I,annotationCanvasMap:C,accessibilityManager:E})}createAnnotationEditorLayerBuilder({uiManager:_=this.#n,pageDiv:O,pdfPage:q,accessibilityManager:U=null,l10n:T,annotationStorage:M=this.pdfDocument?.annotationStorage}){return new c.AnnotationEditorLayerBuilder({uiManager:_,pageDiv:O,pdfPage:q,annotationStorage:M,accessibilityManager:U,l10n:T})}createXfaLayerBuilder({pageDiv:_,pdfPage:O,annotationStorage:q=this.pdfDocument?.annotationStorage}){return new A.XfaLayerBuilder({pageDiv:_,pdfPage:O,annotationStorage:q,linkService:this.linkService})}createStructTreeLayerBuilder({pdfPage:_}){return new g.StructTreeLayerBuilder({pdfPage:_})}get hasEqualPageSizes(){let _=this._pages[0];for(let O=1,q=this._pages.length;O<q;++O){let U=this._pages[O];if(U.width!==_.width||U.height!==_.height)return!1}return!0}getPagesOverview(){return this._pages.map(_=>{let O=_.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,l.isPortraitOrientation)(O)?{width:O.width,height:O.height,rotation:O.rotation}:{width:O.height,height:O.width,rotation:(O.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(_){if(!(_ instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${_}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=_;let O={optionalContentConfigPromise:_};for(let q of this._pages)q.update(O);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:_})}get scrollMode(){return this._scrollMode}set scrollMode(_){if(this._scrollMode!==_){if(!(0,l.isValidScrollMode)(_))throw new Error(`Invalid scroll mode: ${_}`);this.pagesCount>v.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=_,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:_}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(_=null){let O=this._scrollMode,q=this.viewer;q.classList.toggle("scrollHorizontal",O===l.ScrollMode.HORIZONTAL),q.classList.toggle("scrollWrapped",O===l.ScrollMode.WRAPPED),!(!this.pdfDocument||!_)&&(O===l.ScrollMode.PAGE?this.#l():this._previousScrollMode===l.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(_,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(_){if(this._spreadMode!==_){if(!(0,l.isValidSpreadMode)(_))throw new Error(`Invalid spread mode: ${_}`);this._spreadMode=_,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:_}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(_=null){if(!this.pdfDocument)return;let O=this.viewer,q=this._pages;if(this._scrollMode===l.ScrollMode.PAGE)this.#l();else if(O.textContent="",this._spreadMode===l.SpreadMode.NONE)for(let U of this._pages)O.append(U.div);else{let U=this._spreadMode-1,T=null;for(let M=0,P=q.length;M<P;++M)T===null?(T=document.createElement("div"),T.className="spread",O.append(T)):M%2===U&&(T=T.cloneNode(!1),O.append(T)),T.append(q[M].div)}_&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(_,!0),this.update())}_getPageAdvance(_,O=!1){switch(this._scrollMode){case l.ScrollMode.WRAPPED:{let{views:q}=this._getVisiblePages(),U=new Map;for(let{id:T,y:M,percent:P,widthPercent:H}of q){if(P===0||H<100)continue;let $=U.get(M);$||U.set(M,$||=[]),$.push(T)}for(let T of U.values()){let M=T.indexOf(_);if(M===-1)continue;let P=T.length;if(P===1)break;if(O)for(let H=M-1,$=0;H>=$;H--){let I=T[H],C=T[H+1]-1;if(I<C)return _-C}else for(let H=M+1,$=P;H<$;H++){let I=T[H],C=T[H-1]+1;if(I>C)return C-_}if(O){let H=T[0];if(H<_)return _-H+1}else{let H=T[P-1];if(H>_)return H-_+1}break}break}case l.ScrollMode.HORIZONTAL:break;case l.ScrollMode.PAGE:case l.ScrollMode.VERTICAL:{if(this._spreadMode===l.SpreadMode.NONE)break;let q=this._spreadMode-1;if(O&&_%2!==q)break;if(!O&&_%2===q)break;let{views:U}=this._getVisiblePages(),T=O?_-1:_+1;for(let{id:M,percent:P,widthPercent:H}of U)if(M===T){if(P>0&&H===100)return 2;break}break}}return 1}nextPage(){let _=this._currentPageNumber,O=this.pagesCount;if(_>=O)return!1;let q=this._getPageAdvance(_,!1)||1;return this.currentPageNumber=Math.min(_+q,O),!0}previousPage(){let _=this._currentPageNumber;if(_<=1)return!1;let O=this._getPageAdvance(_,!0)||1;return this.currentPageNumber=Math.max(_-O,1),!0}increaseScale(_=1){let O=this._currentScale;do O=(O*l.DEFAULT_SCALE_DELTA).toFixed(2),O=Math.ceil(O*10)/10,O=Math.min(l.MAX_SCALE,O);while(--_>0&&O<l.MAX_SCALE);this.currentScaleValue=O}decreaseScale(_=1){let O=this._currentScale;do O=(O/l.DEFAULT_SCALE_DELTA).toFixed(2),O=Math.floor(O*10)/10,O=Math.max(l.MIN_SCALE,O);while(--_>0&&O>l.MIN_SCALE);this.currentScaleValue=O}updateContainerHeightCss(){let _=this.container.clientHeight;_!==this.#c&&(this.#c=_,l.docStyle.setProperty("--viewer-container-height",`${_}px`))}get annotationEditorMode(){return this.#n?this.#t:a.AnnotationEditorType.DISABLE}set annotationEditorMode(_){if(!this.#n)throw new Error("The AnnotationEditor is not enabled.");if(this.#t!==_){if(!b(_))throw new Error(`Invalid AnnotationEditor mode: ${_}`);this.pdfDocument&&(this.#t=_,this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:_}),this.#n.updateMode(_))}}set annotationEditorParams({type:_,value:O}){if(!this.#n)throw new Error("The AnnotationEditor is not enabled.");this.#n.updateParams(_,O)}refresh(){if(!this.pdfDocument)return;let _={};for(let O of this._pages)O.update(_);this.update()}}s.BaseViewer=k},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFPageView=void 0;var a=o(3),l=o(7),c=o(14),d=o(4),u=o(15);let h=c.compatibilityParams.maxCanvasPixels||16777216;class m{#e=a.AnnotationMode.ENABLE_FORMS;#t={initialOptionalContent:!0,regularAnnotations:!0};constructor(g){let y=g.container,S=g.defaultViewport;this.id=g.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=g.scale||l.DEFAULT_SCALE,this.viewport=S,this.pdfPageRotate=S.rotation,this._optionalContentConfigPromise=g.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=g.textLayerMode??l.TextLayerMode.ENABLE,this.#e=g.annotationMode??a.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=g.imageResourcesPath||"",this.useOnlyCssZoom=g.useOnlyCssZoom||!1,this.maxCanvasPixels=g.maxCanvasPixels||h,this.pageColors=g.pageColors||null,this.eventBus=g.eventBus,this.renderingQueue=g.renderingQueue,this.textLayerFactory=g.textLayerFactory,this.annotationLayerFactory=g.annotationLayerFactory,this.annotationEditorLayerFactory=g.annotationEditorLayerFactory,this.xfaLayerFactory=g.xfaLayerFactory,this.textHighlighter=g.textHighlighterFactory?.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=g.structTreeLayerFactory,this.renderer=g.renderer||l.RendererType.CANVAS,this.l10n=g.l10n||d.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=l.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;let A=document.createElement("div");if(A.className="page",A.style.width=Math.floor(this.viewport.width)+"px",A.style.height=Math.floor(this.viewport.height)+"px",A.setAttribute("data-page-number",this.id),A.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(R=>{A.setAttribute("aria-label",R)}),this.div=A,y?.append(A),this._isStandalone){let{optionalContentConfigPromise:R}=g;R&&R.then(D=>{R===this._optionalContentConfigPromise&&(this.#t.initialOptionalContent=D.hasInitialVisibility)})}}setPdfPage(g){this.pdfPage=g,this.pdfPageRotate=g.rotate;let y=(this.rotation+this.pdfPageRotate)%360;this.viewport=g.getViewport({scale:this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:y}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){return ue(this,null,function*(){let g=null;try{yield this.annotationLayer.render(this.viewport,"display")}catch(y){console.error(`_renderAnnotationLayer: "${y}".`),g=y}finally{this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:g})}})}_renderAnnotationEditorLayer(){return ue(this,null,function*(){let g=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(y){console.error(`_renderAnnotationEditorLayer: "${y}".`),g=y}finally{this.eventBus.dispatch("annotationeditorlayerrendered",{source:this,pageNumber:this.id,error:g})}})}_renderXfaLayer(){return ue(this,null,function*(){let g=null;try{let y=yield this.xfaLayer.render(this.viewport,"display");this.textHighlighter&&this._buildXfaTextContentItems(y.textDivs)}catch(y){console.error(`_renderXfaLayer: "${y}".`),g=y}finally{this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:g})}})}_buildXfaTextContentItems(g){return ue(this,null,function*(){let y=yield this.pdfPage.getTextContent(),S=[];for(let A of y.items)S.push(A.str);this.textHighlighter.setTextMapping(g,S),this.textHighlighter.enable()})}_resetZoomLayer(g=!1){if(!this.zoomLayer)return;let y=this.zoomLayer.firstChild;this.paintedViewportMap.delete(y),y.width=0,y.height=0,g&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:g=!1,keepAnnotationLayer:y=!1,keepAnnotationEditorLayer:S=!1,keepXfaLayer:A=!1}={}){this.cancelRendering({keepAnnotationLayer:y,keepAnnotationEditorLayer:S,keepXfaLayer:A}),this.renderingState=l.RenderingStates.INITIAL;let R=this.div;R.style.width=Math.floor(this.viewport.width)+"px",R.style.height=Math.floor(this.viewport.height)+"px";let D=R.childNodes,v=g&&this.zoomLayer||null,b=y&&this.annotationLayer?.div||null,x=S&&this.annotationEditorLayer?.div||null,k=A&&this.xfaLayer?.div||null;for(let B=D.length-1;B>=0;B--){let _=D[B];switch(_){case v:case b:case x:case k:continue}_.remove()}R.removeAttribute("data-loaded"),b&&this.annotationLayer.hide(),x?this.annotationEditorLayer.hide():this.annotationEditorLayer?.destroy(),k&&this.xfaLayer.hide(),v||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(B=>{this.loadingIconDiv?.setAttribute("aria-label",B)}),R.append(this.loadingIconDiv)}update({scale:g=0,rotation:y=null,optionalContentConfigPromise:S=null}){this.scale=g||this.scale,typeof y=="number"&&(this.rotation=y),S instanceof Promise&&(this._optionalContentConfigPromise=S,S.then(D=>{S===this._optionalContentConfigPromise&&(this.#t.initialOptionalContent=D.hasInitialVisibility)}));let A=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:A}),this._isStandalone&&l.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg){this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}let R=!1;if(this.canvas&&this.maxCanvasPixels>0){let D=this.outputScale;(Math.floor(this.viewport.width)*D.sx|0)*(Math.floor(this.viewport.height)*D.sy|0)>this.maxCanvasPixels&&(R=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&R){this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:g=!1,keepAnnotationEditorLayer:y=!1,keepXfaLayer:S=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!g||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!y||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!S||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:g,redrawAnnotationLayer:y=!1,redrawAnnotationEditorLayer:S=!1,redrawXfaLayer:A=!1}){let R=this.viewport.width,D=this.viewport.height,v=this.div;g.style.width=g.parentNode.style.width=v.style.width=Math.floor(R)+"px",g.style.height=g.parentNode.style.height=v.style.height=Math.floor(D)+"px";let b=this.viewport.rotation-this.paintedViewportMap.get(g).rotation,x=Math.abs(b),k=1,B=1;if((x===90||x===270)&&(k=D/R,B=R/D),g.style.transform=`rotate(${b}deg) scale(${k}, ${B})`,this.textLayer){let _=this.textLayer.viewport,O=this.viewport.rotation-_.rotation,q=Math.abs(O),U=R/_.width;(q===90||q===270)&&(U=R/_.height);let T=this.textLayer.textLayerDiv,M,P;switch(q){case 0:M=P=0;break;case 90:M=0,P="-"+T.style.height;break;case 180:M="-"+T.style.width,P="-"+T.style.height;break;case 270:M="-"+T.style.width,P=0;break;default:console.error("Bad rotation value.");break}T.style.transform=`rotate(${q}deg) scale(${U}) translate(${M}, ${P})`,T.style.transformOrigin="0% 0%"}y&&this.annotationLayer&&this._renderAnnotationLayer(),S&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),A&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(g,y){return this.viewport.convertToPdfPoint(g,y)}toggleLoadingIconSpinner(g=!1){this.loadingIconDiv?.classList.toggle("notVisible",!g)}draw(){this.renderingState!==l.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());let{div:g,pdfPage:y}=this;if(!y)return this.renderingState=l.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=l.RenderingStates.RUNNING;let S=document.createElement("div");S.style.width=g.style.width,S.style.height=g.style.height,S.classList.add("canvasWrapper");let A=this.annotationLayer?.div||this.annotationEditorLayer?.div;A?A.before(S):g.append(S);let R=null;if(this.textLayerMode!==l.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||=new u.TextAccessibilityManager;let k=document.createElement("div");k.className="textLayer",k.style.width=S.style.width,k.style.height=S.style.height,A?A.before(k):g.append(k),R=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:k,pageIndex:this.id-1,viewport:this.viewport,enhanceTextSelection:this.textLayerMode===l.TextLayerMode.ENABLE_ENHANCE,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=R,this.#e!==a.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:g,pdfPage:y,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===a.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})),this.xfaLayer?.div&&g.append(this.xfaLayer.div);let D=null;this.renderingQueue&&(D=k=>{if(!this.renderingQueue.isHighestPriority(this)){this.renderingState=l.RenderingStates.PAUSED,this.resume=()=>{this.renderingState=l.RenderingStates.RUNNING,k()};return}k()});let v=(k=null)=>ue(this,null,function*(){if(b===this.paintTask&&(this.paintTask=null),k instanceof a.RenderingCancelledException){this._renderError=null;return}if(this._renderError=k,this.renderingState=l.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),this._resetZoomLayer(!0),this.#t.regularAnnotations=!b.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this._renderError}),k)throw k}),b=this.renderer===l.RendererType.SVG?this.paintOnSvg(S):this.paintOnCanvas(S);b.onRenderContinue=D,this.paintTask=b;let x=b.promise.then(()=>v(null).then(()=>{if(R){let k=y.streamTextContent({includeMarkedContent:!0});R.setTextContentStream(k),R.render()}this.annotationLayer&&this._renderAnnotationLayer().then(()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:g,pdfPage:y,l10n:this.l10n,accessibilityManager:this._accessibilityManager}),this._renderAnnotationEditorLayer())})}),function(k){return v(k)});return this.xfaLayerFactory&&(this.xfaLayer||=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:g,pdfPage:y}),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=k=>{k.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(B=>{if(!B||!this.canvas)return;let _=this.structTreeLayer.render(B);_.classList.add("structTree"),this.canvas.append(_)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:y})),g.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),x}paintOnCanvas(g){let y=(0,a.createPromiseCapability)(),S={promise:y.promise,onRenderContinue(U){U()},cancel(){q.cancel()},get separateAnnots(){return q.separateAnnots}},A=this.viewport,R=document.createElement("canvas");R.setAttribute("role","presentation"),R.hidden=!0;let D=!0,v=function(){D&&(R.hidden=!1,D=!1)};g.append(R),this.canvas=R;let b=R.getContext("2d",{alpha:!1}),x=this.outputScale=new l.OutputScale;if(this.useOnlyCssZoom){let U=A.clone({scale:a.PixelsPerInch.PDF_TO_CSS_UNITS});x.sx*=U.width/A.width,x.sy*=U.height/A.height}if(this.maxCanvasPixels>0){let U=A.width*A.height,T=Math.sqrt(this.maxCanvasPixels/U);x.sx>T||x.sy>T?(x.sx=T,x.sy=T,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}let k=(0,l.approximateFraction)(x.sx),B=(0,l.approximateFraction)(x.sy);R.width=(0,l.roundToDivide)(A.width*x.sx,k[0]),R.height=(0,l.roundToDivide)(A.height*x.sy,B[0]),R.style.width=(0,l.roundToDivide)(A.width,k[1])+"px",R.style.height=(0,l.roundToDivide)(A.height,B[1])+"px",this.paintedViewportMap.set(R,A);let _=x.scaled?[x.sx,0,0,x.sy,0,0]:null,O={canvasContext:b,transform:_,viewport:this.viewport,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},q=this.pdfPage.render(O);return q.onContinue=function(U){v(),S.onRenderContinue?S.onRenderContinue(U):U()},q.promise.then(function(){v(),y.resolve()},function(U){v(),y.reject(U)}),S}paintOnSvg(g){let y=!1,S=()=>{if(y)throw new a.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},A=this.pdfPage,R=this.viewport.clone({scale:a.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:A.getOperatorList({annotationMode:this.#e}).then(v=>(S(),new a.SVGGraphics(A.commonObjs,A.objs).getSVG(v,R).then(x=>{S(),this.svg=x,this.paintedViewportMap.set(x,R),x.style.width=g.style.width,x.style.height=g.style.height,this.renderingState=l.RenderingStates.FINISHED,g.append(x)}))),onRenderContinue(v){v()},cancel(){y=!0},get separateAnnots(){return!1}}}setPageLabel(g){this.pageLabel=typeof g=="string"?g:null,this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){let{initialOptionalContent:g,regularAnnotations:y}=this.#t;return g&&y?this.canvas:null}}s.PDFPageView=m},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.compatibilityParams=s.OptionKind=s.AppOptions=void 0;let o=Object.create(null);s.compatibilityParams=o;{let u=navigator.userAgent||"",h=navigator.platform||"",m=navigator.maxTouchPoints||1,f=/Android/.test(u),g=/\b(iPad|iPhone|iPod)(?=;)/.test(u)||h==="MacIntel"&&m>1;(function(){(g||f)&&(o.maxCanvasPixels=5242880)})()}let a={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};s.OptionKind=a;let l={annotationEditorMode:{value:-1,kind:a.VIEWER+a.PREFERENCE},annotationMode:{value:2,kind:a.VIEWER+a.PREFERENCE},cursorToolOnLoad:{value:0,kind:a.VIEWER+a.PREFERENCE},defaultZoomValue:{value:"",kind:a.VIEWER+a.PREFERENCE},disableHistory:{value:!1,kind:a.VIEWER},disablePageLabels:{value:!1,kind:a.VIEWER+a.PREFERENCE},enablePermissions:{value:!1,kind:a.VIEWER+a.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:a.VIEWER+a.PREFERENCE},enableScripting:{value:!0,kind:a.VIEWER+a.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:a.VIEWER},externalLinkTarget:{value:0,kind:a.VIEWER+a.PREFERENCE},historyUpdateUrl:{value:!1,kind:a.VIEWER+a.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:a.VIEWER+a.PREFERENCE},imageResourcesPath:{value:"./images/",kind:a.VIEWER},maxCanvasPixels:{value:16777216,kind:a.VIEWER},forcePageColors:{value:!1,kind:a.VIEWER+a.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:a.VIEWER+a.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:a.VIEWER+a.PREFERENCE},pdfBugEnabled:{value:!1,kind:a.VIEWER+a.PREFERENCE},printResolution:{value:150,kind:a.VIEWER},sidebarViewOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},scrollModeOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},spreadModeOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},textLayerMode:{value:1,kind:a.VIEWER+a.PREFERENCE},useOnlyCssZoom:{value:!1,kind:a.VIEWER+a.PREFERENCE},viewerCssTheme:{value:0,kind:a.VIEWER+a.PREFERENCE},viewOnLoad:{value:0,kind:a.VIEWER+a.PREFERENCE},cMapPacked:{value:!0,kind:a.API},cMapUrl:{value:"../web/cmaps/",kind:a.API},disableAutoFetch:{value:!1,kind:a.API+a.PREFERENCE},disableFontFace:{value:!1,kind:a.API+a.PREFERENCE},disableRange:{value:!1,kind:a.API+a.PREFERENCE},disableStream:{value:!1,kind:a.API+a.PREFERENCE},docBaseUrl:{value:"",kind:a.API},enableXfa:{value:!0,kind:a.API+a.PREFERENCE},fontExtraProperties:{value:!1,kind:a.API},isEvalSupported:{value:!0,kind:a.API},maxImageSize:{value:-1,kind:a.API},pdfBug:{value:!1,kind:a.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:a.API},verbosity:{value:1,kind:a.API},workerPort:{value:null,kind:a.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:a.WORKER}};l.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:a.VIEWER},l.disablePreferences={value:!1,kind:a.VIEWER},l.locale={value:navigator.language||"en-US",kind:a.VIEWER},l.renderer={value:"canvas",kind:a.VIEWER+a.PREFERENCE},l.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:a.VIEWER};let c=Object.create(null);class d{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(h){let m=c[h];if(m!==void 0)return m;let f=l[h];if(f!==void 0)return o[h]??f.value}static getAll(h=null){let m=Object.create(null);for(let f in l){let g=l[f];if(h){if(!(h&g.kind))continue;if(h===a.PREFERENCE){let S=g.value,A=typeof S;if(A==="boolean"||A==="string"||A==="number"&&Number.isInteger(S)){m[f]=S;continue}throw new Error(`Invalid type for preference: ${f}`)}}let y=c[f];m[f]=y!==void 0?y:o[f]??g.value}return m}static set(h,m){c[h]=m}static setAll(h){for(let m in h)c[m]=h[m]}static remove(h){delete c[h]}static _hasUserOptions(){return Object.keys(c).length>0}}s.AppOptions=d},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextAccessibilityManager=void 0;var a=o(7);class l{#e=!1;#t=null;#n=new Map;#r=new Map;setTextMapping(d){this.#t=d}static#s(d,u){let h=d.getBoundingClientRect(),m=u.getBoundingClientRect();if(h.width===0&&h.height===0)return 1;if(m.width===0&&m.height===0)return-1;let f=h.y,g=h.y+h.height,y=h.y+h.height/2,S=m.y,A=m.y+m.height,R=m.y+m.height/2;if(y<=S&&R>=g)return-1;if(R<=f&&y>=A)return 1;let D=h.x+h.width/2,v=m.x+m.width/2;return D-v}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(l.#s),this.#n.size>0){let d=this.#t;for(let[u,h]of this.#n){if(!document.getElementById(u)){this.#n.delete(u);continue}this.#c(u,d[h])}}for(let[d,u]of this.#r)this.addPointerInTextLayer(d,u);this.#r.clear()}disable(){this.#e&&(this.#r.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(d){if(!this.#e){this.#r.delete(d);return}let u=this.#t;if(!u||u.length===0)return;let{id:h}=d,m=this.#n.get(h);if(m===void 0)return;let f=u[m];this.#n.delete(h);let g=f.getAttribute("aria-owns");g?.includes(h)&&(g=g.split(" ").filter(y=>y!==h).join(" "),g?f.setAttribute("aria-owns",g):(f.removeAttribute("aria-owns"),f.setAttribute("role","presentation")))}#c(d,u){let h=u.getAttribute("aria-owns");h?.includes(d)||u.setAttribute("aria-owns",h?`${h} ${d}`:d),u.removeAttribute("role")}addPointerInTextLayer(d,u){let{id:h}=d;if(!h)return;if(!this.#e){this.#r.set(d,u);return}u&&this.removePointerInTextLayer(d);let m=this.#t;if(!m||m.length===0)return;let f=(0,a.binarySearchFirstItem)(m,y=>l.#s(d,y)<0),g=Math.max(0,f-1);this.#c(h,m[g]),this.#n.set(h,g)}moveElementInDOM(d,u,h,m){if(this.addPointerInTextLayer(h,m),!d.hasChildNodes()){d.append(u);return}let f=Array.from(d.childNodes).filter(S=>S!==u);if(f.length===0)return;let g=h||u,y=(0,a.binarySearchFirstItem)(f,S=>l.#s(g,S)<0);y===0?f[0].before(u):f[y-1].after(u)}}s.TextAccessibilityManager=l},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFRenderingQueue=void 0;var a=o(3),l=o(7);let c=3e4;class d{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(h){this.pdfViewer=h}setThumbnailViewer(h){this.pdfThumbnailViewer=h}isHighestPriority(h){return this.highestPriorityPage===h.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(h){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(h)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),c)))}getHighestPriority(h,m,f,g=!1){let y=h.views,S=y.length;if(S===0)return null;for(let b=0;b<S;b++){let x=y[b].view;if(!this.isViewFinished(x))return x}let A=h.first.id,R=h.last.id;if(R-A+1>S){let b=h.ids;for(let x=1,k=R-A;x<k;x++){let B=f?A+x:R-x;if(b.has(B))continue;let _=m[B-1];if(!this.isViewFinished(_))return _}}let D=f?R:A-2,v=m[D];return v&&!this.isViewFinished(v)||g&&(D+=f?1:-1,v=m[D],v&&!this.isViewFinished(v))?v:null}isViewFinished(h){return h.renderingState===l.RenderingStates.FINISHED}renderView(h){switch(h.renderingState){case l.RenderingStates.FINISHED:return!1;case l.RenderingStates.PAUSED:this.highestPriorityPage=h.renderingId,h.resume();break;case l.RenderingStates.RUNNING:this.highestPriorityPage=h.renderingId;break;case l.RenderingStates.INITIAL:this.highestPriorityPage=h.renderingId,h.draw().finally(()=>{this.renderHighestPriority()}).catch(m=>{m instanceof a.RenderingCancelledException||console.error(`renderView: "${m}"`)});break}return!0}}s.PDFRenderingQueue=d},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextHighlighter=void 0;class o{constructor({findController:l,eventBus:c,pageIndex:d}){this.findController=l,this.matches=[],this.eventBus=c,this.pageIdx=d,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(l,c){this.textDivs=l,this.textContentItemsStr=c}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=l=>{(l.pageIndex===this.pageIdx||l.pageIndex===-1)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(l,c){if(!l)return[];let{textContentItemsStr:d}=this,u=0,h=0,m=d.length-1,f=[];for(let g=0,y=l.length;g<y;g++){let S=l[g];for(;u!==m&&S>=h+d[u].length;)h+=d[u].length,u++;u===d.length&&console.error("Could not find a matching mapping");let A={begin:{divIdx:u,offset:S-h}};for(S+=c[g];u!==m&&S>h+d[u].length;)h+=d[u].length,u++;A.end={divIdx:u,offset:S-h},f.push(A)}return f}_renderMatches(l){if(l.length===0)return;let{findController:c,pageIdx:d}=this,{textContentItemsStr:u,textDivs:h}=this,m=d===c.selected.pageIdx,f=c.selected.matchIdx,g=c.state.highlightAll,y=null,S={divIdx:-1,offset:void 0};function A(b,x){let k=b.divIdx;return h[k].textContent="",R(k,0,b.offset,x)}function R(b,x,k,B){let _=h[b];if(_.nodeType===Node.TEXT_NODE){let U=document.createElement("span");_.before(U),U.append(_),h[b]=U,_=U}let O=u[b].substring(x,k),q=document.createTextNode(O);if(B){let U=document.createElement("span");return U.className=`${B} appended`,U.append(q),_.append(U),B.includes("selected")?U.offsetLeft:0}return _.append(q),0}let D=f,v=D+1;if(g)D=0,v=l.length;else if(!m)return;for(let b=D;b<v;b++){let x=l[b],k=x.begin,B=x.end,_=m&&b===f,O=_?" selected":"",q=0;if(!y||k.divIdx!==y.divIdx?(y!==null&&R(y.divIdx,y.offset,S.offset),A(k)):R(y.divIdx,y.offset,k.offset),k.divIdx===B.divIdx)q=R(k.divIdx,k.offset,B.offset,"highlight"+O);else{q=R(k.divIdx,k.offset,S.offset,"highlight begin"+O);for(let U=k.divIdx+1,T=B.divIdx;U<T;U++)h[U].className="highlight middle"+O;A(B,"highlight end"+O)}y=B,_&&c.scrollMatchIntoView({element:h[k.divIdx],selectedLeft:q,pageIndex:d,matchIndex:f})}y&&R(y.divIdx,y.offset,S.offset)}_updateMatches(){if(!this.enabled)return;let{findController:l,matches:c,pageIdx:d}=this,{textContentItemsStr:u,textDivs:h}=this,m=-1;for(let y=0,S=c.length;y<S;y++){let A=c[y],R=Math.max(m,A.begin.divIdx);for(let D=R,v=A.end.divIdx;D<=v;D++){let b=h[D];b.textContent=u[D],b.className=""}m=A.end.divIdx+1}if(!l?.highlightMatches)return;let f=l.pageMatches[d]||null,g=l.pageMatchesLength[d]||null;this.matches=this._convertMatches(f,g),this._renderMatches(this.matches)}}s.TextHighlighter=o},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DownloadManager=void 0;var a=o(3);function l(d,u){let h=document.createElement("a");if(!h.click)throw new Error('DownloadManager: "a.click()" is not supported.');h.href=d,h.target="_parent","download"in h&&(h.download=u),(document.body||document.documentElement).append(h),h.click(),h.remove()}class c{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(u,h){if(!(0,a.createValidAbsoluteUrl)(u,"http://example.com")){console.error(`downloadUrl - not a valid URL: ${u}`);return}l(u+"#pdfjs.action=download",h)}downloadData(u,h,m){let f=URL.createObjectURL(new Blob([u],{type:m}));l(f,h)}openOrDownloadData(u,h,m){let f=(0,a.isPdfFile)(m),g=f?"application/pdf":"";if(f){let y=this._openBlobUrls.get(u);y||(y=URL.createObjectURL(new Blob([h],{type:g})),this._openBlobUrls.set(u,y));let S;S="?file="+encodeURIComponent(y+"#"+m);try{return window.open(S),!0}catch(A){console.error(`openOrDownloadData: ${A}`),URL.revokeObjectURL(y),this._openBlobUrls.delete(u)}}return this.downloadData(h,m,g),!1}download(u,h,m){let f=URL.createObjectURL(u);l(f,m)}}s.DownloadManager=c},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WaitOnType=s.EventBus=s.AutomationEventBus=void 0,s.waitOnEventOrTimeout=a;let o={EVENT:"event",TIMEOUT:"timeout"};s.WaitOnType=o;function a({target:d,name:u,delay:h=0}){return new Promise(function(m,f){if(typeof d!="object"||!(u&&typeof u=="string")||!(Number.isInteger(h)&&h>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function g(R){d instanceof l?d._off(u,y):d.removeEventListener(u,y),A&&clearTimeout(A),m(R)}let y=g.bind(null,o.EVENT);d instanceof l?d._on(u,y):d.addEventListener(u,y);let S=g.bind(null,o.TIMEOUT),A=setTimeout(S,h)})}class l{constructor(){this._listeners=Object.create(null)}on(u,h,m=null){this._on(u,h,{external:!0,once:m?.once})}off(u,h,m=null){this._off(u,h,{external:!0,once:m?.once})}dispatch(u,h){let m=this._listeners[u];if(!m||m.length===0)return;let f;for(let{listener:g,external:y,once:S}of m.slice(0)){if(S&&this._off(u,g),y){(f||=[]).push(g);continue}g(h)}if(f){for(let g of f)g(h);f=null}}_on(u,h,m=null){(this._listeners[u]||=[]).push({listener:h,external:m?.external===!0,once:m?.once===!0})}_off(u,h,m=null){let f=this._listeners[u];if(f){for(let g=0,y=f.length;g<y;g++)if(f[g].listener===h){f.splice(g,1);return}}}}s.EventBus=l;class c extends l{dispatch(u,h){throw new Error("Not implemented: AutomationEventBus.dispatch")}}s.AutomationEventBus=c},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericL10n=void 0,o(21);var a=o(4);let l=document.webL10n;class c{constructor(u){this._lang=u,this._ready=new Promise((h,m)=>{l.setLanguage((0,a.fixupLangCode)(u),()=>{h(l)})})}getLanguage(){return ue(this,null,function*(){return(yield this._ready).getLanguage()})}getDirection(){return ue(this,null,function*(){return(yield this._ready).getDirection()})}get(f){return ue(this,arguments,function*(u,h=null,m=(0,a.getL10nFallback)(u,h)){return(yield this._ready).get(u,h,m)})}translate(u){return ue(this,null,function*(){return(yield this._ready).translate(u)})}}s.GenericL10n=c},()=>{document.webL10n=function(i,s,o){var a={},l="",c="textContent",d="",u={},h="loading",m=!0;function f(){return s.querySelectorAll('link[type="application/l10n"]')}function g(){var U=s.querySelector('script[type="application/l10n"]');return U?JSON.parse(U.innerHTML):null}function y(U){return U?U.querySelectorAll("*[data-l10n-id]"):[]}function S(U){if(!U)return{};var T=U.getAttribute("data-l10n-id"),M=U.getAttribute("data-l10n-args"),P={};if(M)try{P=JSON.parse(M)}catch{console.warn("could not parse arguments for #"+T)}return{id:T,args:P}}function A(U,T,M){T=T||function($){},M=M||function(){};var P=new XMLHttpRequest;P.open("GET",U,m),P.overrideMimeType&&P.overrideMimeType("text/plain; charset=utf-8"),P.onreadystatechange=function(){P.readyState==4&&(P.status==200||P.status===0?T(P.responseText):M())},P.onerror=M,P.ontimeout=M;try{P.send(null)}catch{M()}}function R(U,T,M,P){var H=U.replace(/[^\/]*$/,"")||"./";function $(C){return C.lastIndexOf("\\")<0?C:C.replace(/\\\\/g,"\\").replace(/\\n/g,`
`).replace(/\\r/g,"\r").replace(/\\t/g,"	").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}function I(C,E){var L={},j=/^\s*|\s*$/,p=/^\s*#|^\s*$/,w=/^\s*\[(.*)\]\s*$/,N=/^\s*@import\s+url\((.*)\)\s*$/i,F=/^([^=\s]*)\s*=\s*(.+)$/;function V(z,X,Q){var Y=z.replace(j,"").split(/[\r\n]+/),G="*",Z=T.split("-",1)[0],ee=!1,te="";function re(){for(;;){if(!Y.length){Q();return}var ie=Y.shift();if(!p.test(ie)){if(X){if(te=w.exec(ie),te){G=te[1].toLowerCase(),ee=G!=="*"&&G!==T&&G!==Z;continue}else if(ee)continue;if(te=N.exec(ie),te){W(H+te[1],re);return}}var ae=ie.match(F);ae&&ae.length==3&&(L[ae[1]]=$(ae[2]))}}}re()}function W(z,X){A(z,function(Q){V(Q,!1,X)},function(){console.warn(z+" not found."),X()})}V(C,!0,function(){E(L)})}A(U,function(C){l+=C,I(C,function(E){for(var L in E){var j,p,w=L.lastIndexOf(".");w>0?(j=L.substring(0,w),p=L.substring(w+1)):(j=L,p=c),a[j]||(a[j]={}),a[j][p]=E[L]}M&&M()})},P)}function D(U,T){U&&(U=U.toLowerCase()),T=T||function(){},v(),d=U;var M=f(),P=M.length;if(P===0){var H=g();if(H&&H.locales&&H.default_locale){if(console.log("using the embedded JSON directory, early way out"),a=H.locales[U],!a){var $=H.default_locale.toLowerCase();for(var I in H.locales)if(I=I.toLowerCase(),I===U){a=H.locales[U];break}else I===$&&(a=H.locales[$])}T()}else console.log("no resource to load, early way out");h="complete";return}var C=null,E=0;C=function(){E++,E>=P&&(T(),h="complete")};function L(w){var N=w.href;this.load=function(F,V){R(N,F,V,function(){console.warn(N+" not found."),console.warn('"'+F+'" resource not found'),d="",V()})}}for(var j=0;j<P;j++){var p=new L(M[j]);p.load(U,C)}}function v(){a={},l="",d=""}function b(U){var T={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3};function M(I,C){return C.indexOf(I)!==-1}function P(I,C,E){return C<=I&&I<=E}var H={0:function(I){return"other"},1:function(I){return P(I%100,3,10)?"few":I===0?"zero":P(I%100,11,99)?"many":I==2?"two":I==1?"one":"other"},2:function(I){return I!==0&&I%10===0?"many":I==2?"two":I==1?"one":"other"},3:function(I){return I==1?"one":"other"},4:function(I){return P(I,0,1)?"one":"other"},5:function(I){return P(I,0,2)&&I!=2?"one":"other"},6:function(I){return I===0?"zero":I%10==1&&I%100!=11?"one":"other"},7:function(I){return I==2?"two":I==1?"one":"other"},8:function(I){return P(I,3,6)?"few":P(I,7,10)?"many":I==2?"two":I==1?"one":"other"},9:function(I){return I===0||I!=1&&P(I%100,1,19)?"few":I==1?"one":"other"},10:function(I){return P(I%10,2,9)&&!P(I%100,11,19)?"few":I%10==1&&!P(I%100,11,19)?"one":"other"},11:function(I){return P(I%10,2,4)&&!P(I%100,12,14)?"few":I%10===0||P(I%10,5,9)||P(I%100,11,14)?"many":I%10==1&&I%100!=11?"one":"other"},12:function(I){return P(I,2,4)?"few":I==1?"one":"other"},13:function(I){return P(I%10,2,4)&&!P(I%100,12,14)?"few":I!=1&&P(I%10,0,1)||P(I%10,5,9)||P(I%100,12,14)?"many":I==1?"one":"other"},14:function(I){return P(I%100,3,4)?"few":I%100==2?"two":I%100==1?"one":"other"},15:function(I){return I===0||P(I%100,2,10)?"few":P(I%100,11,19)?"many":I==1?"one":"other"},16:function(I){return I%10==1&&I!=11?"one":"other"},17:function(I){return I==3?"few":I===0?"zero":I==6?"many":I==2?"two":I==1?"one":"other"},18:function(I){return I===0?"zero":P(I,0,2)&&I!==0&&I!=2?"one":"other"},19:function(I){return P(I,2,10)?"few":P(I,0,1)?"one":"other"},20:function(I){return(P(I%10,3,4)||I%10==9)&&!(P(I%100,10,19)||P(I%100,70,79)||P(I%100,90,99))?"few":I%1e6===0&&I!==0?"many":I%10==2&&!M(I%100,[12,72,92])?"two":I%10==1&&!M(I%100,[11,71,91])?"one":"other"},21:function(I){return I===0?"zero":I==1?"one":"other"},22:function(I){return P(I,0,1)||P(I,11,99)?"one":"other"},23:function(I){return P(I%10,1,2)||I%20===0?"one":"other"},24:function(I){return P(I,3,10)||P(I,13,19)?"few":M(I,[2,12])?"two":M(I,[1,11])?"one":"other"}},$=T[U.replace(/-.*$/,"")];return $ in H?H[$]:(console.warn("plural form unknown for ["+U+"]"),function(){return"other"})}u.plural=function(U,T,M,P){var H=parseFloat(T);if(isNaN(H)||P!=c)return U;u._pluralRules||(u._pluralRules=b(d));var $="["+u._pluralRules(H)+"]";return H===0&&M+"[zero]"in a?U=a[M+"[zero]"][P]:H==1&&M+"[one]"in a?U=a[M+"[one]"][P]:H==2&&M+"[two]"in a?U=a[M+"[two]"][P]:M+$ in a?U=a[M+$][P]:M+"[other]"in a&&(U=a[M+"[other]"][P]),U};function x(U,T,M){var P=a[U];if(!P){if(console.warn("#"+U+" is undefined."),!M)return null;P=M}var H={};for(var $ in P){var I=P[$];I=k(I,T,U,$),I=B(I,T,U),H[$]=I}return H}function k(U,T,M,P){var H=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/,$=H.exec(U);if(!$||!$.length)return U;var I=$[1],C=$[2],E;if(T&&C in T?E=T[C]:C in a&&(E=a[C]),I in u){var L=u[I];U=L(U,E,M,P)}return U}function B(U,T,M){var P=/\{\{\s*(.+?)\s*\}\}/g;return U.replace(P,function(H,$){return T&&$ in T?T[$]:$ in a?a[$]:(console.log("argument {{"+$+"}} for #"+M+" is undefined."),H)})}function _(U){var T=S(U);if(T.id){var M=x(T.id,T.args);if(!M){console.warn("#"+T.id+" is undefined.");return}if(M[c]){if(O(U)===0)U[c]=M[c];else{for(var P=U.childNodes,H=!1,$=0,I=P.length;$<I;$++)P[$].nodeType===3&&/\S/.test(P[$].nodeValue)&&(H?P[$].nodeValue="":(P[$].nodeValue=M[c],H=!0));if(!H){var C=s.createTextNode(M[c]);U.prepend(C)}}delete M[c]}for(var E in M)U[E]=M[E]}}function O(U){if(U.children)return U.children.length;if(typeof U.childElementCount<"u")return U.childElementCount;for(var T=0,M=0;M<U.childNodes.length;M++)T+=U.nodeType===1?1:0;return T}function q(U){U=U||s.documentElement;for(var T=y(U),M=T.length,P=0;P<M;P++)_(T[P]);_(U)}return{get:function(U,T,M){var P=U.lastIndexOf("."),H=c;P>0&&(H=U.substring(P+1),U=U.substring(0,P));var $;M&&($={},$[H]=M);var I=x(U,T,$);return I&&H in I?I[H]:"{{"+U+"}}"},getData:function(){return a},getText:function(){return l},getLanguage:function(){return d},setLanguage:function(U,T){D(U,function(){T&&T()})},getDirection:function(){var U=["ar","he","fa","ps","ur"],T=d.split("-",1)[0];return U.indexOf(T)>=0?"rtl":"ltr"},translate:q,getReadyState:function(){return h},ready:function(U){if(U)h=="complete"||h=="interactive"?i.setTimeout(function(){U()}):s.addEventListener&&s.addEventListener("localized",function T(){s.removeEventListener("localized",T),U()});else return}}}(window,document)},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFindController=s.FindState=void 0;var a=o(7),l=o(3),c=o(23);let d={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};s.FindState=d;let u=250,h=-50,m=-400,f={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},g=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),y=[...g.values()].map(U=>String.fromCharCode(U)).join(""),S=new RegExp("\\p{M}+","gu"),A=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),R=new RegExp("([^\\p{M}])\\p{M}*$","u"),D=new RegExp("^\\p{M}*([^\\p{M}])","u"),v=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,b=new Map,x="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",k=null,B=null;function _(U){let T=[],M;for(;(M=v.exec(U))!==null;){let{index:N}=M;for(let F of M[0]){let V=b.get(F);V||(V=F.normalize("NFD").length,b.set(F,V)),T.push([V,N++])}}let P;if(T.length===0&&k)P=k;else if(T.length>0&&B)P=B;else{let F=`([${Object.keys(f).join("")}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`;T.length===0?P=k=new RegExp(F+"|(\\u0000)","gum"):P=B=new RegExp(F+`|(${x})`,"gum")}let H=[];for(;(M=S.exec(U))!==null;)H.push([M[0].length,M.index]);let $=U.normalize("NFD"),I=[[0,0]],C=0,E=0,L=0,j=0,p=0,w=!1;return $=$.replace(P,(N,F,V,W,z,X,Q)=>{if(Q-=j,F){let Y=f[N],G=Y.length;for(let Z=1;Z<G;Z++)I.push([Q-L+Z,L-Z]);return L-=G-1,Y}if(V){let Y=V.endsWith(`
`),G=Y?V.length-2:V.length;w=!0;let Z=G;Q+p===H[C]?.[1]&&(Z-=H[C][0],++C);for(let ee=1;ee<=Z;ee++)I.push([Q-1-L+ee,L-ee]);return L-=Z,j+=Z,Y?(Q+=G-1,I.push([Q-L+1,1+L]),L+=1,j+=1,p+=1,V.slice(0,G)):V}if(W)return I.push([Q-L+1,1+L]),L+=1,j+=1,p+=1,W.charAt(0);if(z)return I.push([Q-L+1,L-1]),L-=1,j+=1,p+=1," ";if(Q+p===T[E]?.[1]){let Y=T[E][0]-1;++E;for(let G=1;G<=Y;G++)I.push([Q-(L-G),L-G]);L-=Y,j+=Y}return X}),I.push([$.length,L]),[$,I,w]}function O(U,T,M){if(!U)return[T,M];let P=T,H=T+M,$=(0,a.binarySearchFirstItem)(U,C=>C[0]>=P);U[$][0]>P&&--$;let I=(0,a.binarySearchFirstItem)(U,C=>C[0]>=H,$);return U[I][0]>H&&--I,[P+U[$][1],M+U[I][1]-U[$][1]]}class q{constructor({linkService:T,eventBus:M}){this._linkService=T,this._eventBus=M,this.#t(),M._on("find",this.#e.bind(this)),M._on("findbarclose",this.#v.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(T){this._pdfDocument&&this.#t(),T&&(this._pdfDocument=T,this._firstPageCapability.resolve())}#e(T){if(!T)return;let M=this._pdfDocument,{type:P}=T;(this._state===null||this.#r(T))&&(this._dirtyMatch=!0),this._state=T,P!=="highlightallchange"&&this.#d(d.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||M&&this._pdfDocument!==M)return;this.#h();let H=!this._highlightMatches,$=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),P?this._dirtyMatch?this.#o():P==="again"?(this.#o(),H&&this._state.highlightAll&&this.#l()):P==="highlightallchange"?($?this.#o():this._highlightMatches=!0,this.#l()):this.#o():this._findTimeout=setTimeout(()=>{this.#o(),this._findTimeout=null},u)})}scrollMatchIntoView({element:T=null,selectedLeft:M=0,pageIndex:P=-1,matchIndex:H=-1}){if(!this._scrollMatches||!T)return;if(H===-1||H!==this._selected.matchIdx)return;if(P===-1||P!==this._selected.pageIdx)return;this._scrollMatches=!1;let $={top:h,left:M+m};(0,a.scrollIntoView)(T,$,!0)}#t(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,l.createPromiseCapability)()}get#n(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=_(this._state.query)),this._normalizedQuery}#r(T){if(T.query!==this._state.query)return!0;switch(T.type){case"again":let M=this._selected.pageIdx+1,P=this._linkService;return M>=1&&M<=P.pagesCount&&M!==P.page&&!P.isPageVisible(M);case"highlightallchange":return!1}return!0}#s(T,M,P){let H=T.slice(0,M).match(R);if(H){let $=T.charCodeAt(M),I=H[1].charCodeAt(0);if((0,c.getCharacterType)($)===(0,c.getCharacterType)(I))return!1}if(H=T.slice(M+P).match(D),H){let $=T.charCodeAt(M+P-1),I=H[1].charCodeAt(0);if((0,c.getCharacterType)($)===(0,c.getCharacterType)(I))return!1}return!0}#c(T,M,P,H){let $=[],I=[],C=this._pageDiffs[P],E;for(;(E=T.exec(H))!==null;){if(M&&!this.#s(H,E.index,E[0].length))continue;let[L,j]=O(C,E.index,E[0].length);j&&($.push(L),I.push(j))}this._pageMatches[P]=$,this._pageMatchesLength[P]=I}#a(T,M){let{matchDiacritics:P}=this._state,H=!1;T=T.replace(A,(I,C,E,L,j,p)=>C?`[ ]*\\${C}[ ]*`:E?`[ ]*${E}[ ]*`:L?"[ ]+":P?j||p:j?g.has(j.charCodeAt(0))?j:"":M?(H=!0,`${p}\\p{M}*`):p);let $="[ ]*";return T.endsWith($)&&(T=T.slice(0,T.length-$.length)),P&&M&&(H=!0,T=`${T}(?=[${y}]|[^\\p{M}]|$)`),[H,T]}#i(T){let M=this.#n;if(M.length===0)return;let{caseSensitive:P,entireWord:H,phraseSearch:$}=this._state,I=this._pageContents[T],C=this._hasDiacritics[T],E=!1;if($)[E,M]=this.#a(M,C);else{let p=M.match(/\S+/g);p&&(M=p.sort().reverse().map(w=>{let[N,F]=this.#a(w,C);return E||=N,`(${F})`}).join("|"))}let L=`g${E?"u":""}${P?"":"i"}`;M=new RegExp(M,L),this.#c(M,H,T,I),this._state.highlightAll&&this.#u(T),this._resumePageIdx===T&&(this._resumePageIdx=null,this.#f());let j=this._pageMatches[T].length;j>0&&(this._matchesCountTotal+=j,this.#_())}#h(){if(this._extractTextPromises.length>0)return;let T=Promise.resolve();for(let M=0,P=this._linkService.pagesCount;M<P;M++){let H=(0,l.createPromiseCapability)();this._extractTextPromises[M]=H.promise,T=T.then(()=>this._pdfDocument.getPage(M+1).then($=>$.getTextContent()).then($=>{let I=[];for(let C of $.items)I.push(C.str),C.hasEOL&&I.push(`
`);[this._pageContents[M],this._pageDiffs[M],this._hasDiacritics[M]]=_(I.join("")),H.resolve()},$=>{console.error(`Unable to get text content for page ${M+1}`,$),this._pageContents[M]="",this._pageDiffs[M]=null,this._hasDiacritics[M]=!1,H.resolve()}))}}#u(T){this._scrollMatches&&this._selected.pageIdx===T&&(this._linkService.page=T+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:T})}#l(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#o(){let T=this._state.findPrevious,M=this._linkService.page-1,P=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=M,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this.#l();for(let $=0;$<P;$++)this._pendingFindMatches.has($)||(this._pendingFindMatches.add($),this._extractTextPromises[$].then(()=>{this._pendingFindMatches.delete($),this.#i($)}))}if(this.#n===""){this.#d(d.FOUND);return}if(this._resumePageIdx)return;let H=this._offset;if(this._pagesToSearch=P,H.matchIdx!==null){let $=this._pageMatches[H.pageIdx].length;if(!T&&H.matchIdx+1<$||T&&H.matchIdx>0){H.matchIdx=T?H.matchIdx-1:H.matchIdx+1,this.#m(!0);return}this.#y(T)}this.#f()}#p(T){let M=this._offset,P=T.length,H=this._state.findPrevious;return P?(M.matchIdx=H?P-1:0,this.#m(!0),!0):(this.#y(H),M.wrapped&&(M.matchIdx=null,this._pagesToSearch<0)?(this.#m(!1),!0):!1)}#f(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let T=null;do{let M=this._offset.pageIdx;if(T=this._pageMatches[M],!T){this._resumePageIdx=M;break}}while(!this.#p(T))}#y(T){let M=this._offset,P=this._linkService.pagesCount;M.pageIdx=T?M.pageIdx-1:M.pageIdx+1,M.matchIdx=null,this._pagesToSearch--,(M.pageIdx>=P||M.pageIdx<0)&&(M.pageIdx=T?P-1:0,M.wrapped=!0)}#m(T=!1){let M=d.NOT_FOUND,P=this._offset.wrapped;if(this._offset.wrapped=!1,T){let H=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,M=P?d.WRAPPED:d.FOUND,H!==-1&&H!==this._selected.pageIdx&&this.#u(H)}this.#d(M,this._state.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,this.#u(this._selected.pageIdx))}#v(T){let M=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||M&&this._pdfDocument!==M||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#d(d.FOUND),this._highlightMatches=!1,this.#l())})}#C(){let{pageIdx:T,matchIdx:M}=this._selected,P=0,H=this._matchesCountTotal;if(M!==-1){for(let $=0;$<T;$++)P+=this._pageMatches[$]?.length||0;P+=M+1}return(P<1||P>H)&&(P=H=0),{current:P,total:H}}#_(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#C()})}#d(T,M=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:T,previous:M,matchesCount:this.#C(),rawQuery:this._state?.query??null})}}s.PDFFindController=q},(i,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterType=void 0,s.getCharacterType=S;let o={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};s.CharacterType=o;function a(A){return A<11904}function l(A){return(A&65408)===0}function c(A){return A>=97&&A<=122||A>=65&&A<=90}function d(A){return A>=48&&A<=57}function u(A){return A===32||A===9||A===13||A===10}function h(A){return A>=13312&&A<=40959||A>=63744&&A<=64255}function m(A){return A>=12448&&A<=12543}function f(A){return A>=12352&&A<=12447}function g(A){return A>=65376&&A<=65439}function y(A){return(A&65408)===3584}function S(A){return a(A)?l(A)?u(A)?o.SPACE:c(A)||d(A)||A===95?o.ALPHA_LETTER:o.PUNCT:y(A)?o.THAI_LETTER:A===160?o.SPACE:o.ALPHA_LETTER:h(A)?o.HAN_LETTER:m(A)?o.KATAKANA_LETTER:f(A)?o.HIRAGANA_LETTER:g(A)?o.HALFWIDTH_KATAKANA_LETTER:o.ALPHA_LETTER}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFHistory=void 0,s.isDestArraysEqual=g,s.isDestHashesEqual=f;var a=o(7),l=o(19);let c=1e3,d=50,u=1e3;function h(){return document.location.hash}class m{constructor({linkService:S,eventBus:A}){this.linkService=S,this.eventBus=A,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",R=>{this._isPagesLoaded=!!R.pagesCount},{once:!0})})}initialize({fingerprint:S,resetHistory:A=!1,updateUrl:R=!1}){if(!S||typeof S!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();let D=this._fingerprint!==""&&this._fingerprint!==S;this._fingerprint=S,this._updateUrl=R===!0,this._initialized=!0,this._bindEvents();let v=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=h(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(v,!0)||A){let{hash:x,page:k,rotation:B}=this._parseCurrentHash(!0);if(!x||D||A){this._pushOrReplaceState(null,!0);return}this._pushOrReplaceState({hash:x,page:k,rotation:B},!0);return}let b=v.destination;this._updateInternalState(b,v.uid,!0),b.rotation!==void 0&&(this._initialRotation=b.rotation),b.dest?(this._initialBookmark=JSON.stringify(b.dest),this._destination.page=null):b.hash?this._initialBookmark=b.hash:b.page&&(this._initialBookmark=`page=${b.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:S=null,explicitDest:A,pageNumber:R}){if(!this._initialized)return;if(S&&typeof S!="string"){console.error(`PDFHistory.push: "${S}" is not a valid namedDest parameter.`);return}else if(Array.isArray(A)){if(!this._isValidPage(R)&&(R!==null||this._destination)){console.error(`PDFHistory.push: "${R}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${A}" is not a valid explicitDest parameter.`);return}let D=S||JSON.stringify(A);if(!D)return;let v=!1;if(this._destination&&(f(this._destination.hash,D)||g(this._destination.dest,A))){if(this._destination.page)return;v=!0}this._popStateInProgress&&!v||(this._pushOrReplaceState({dest:A,hash:D,page:R,rotation:this.linkService.rotation},v),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(S){if(this._initialized){if(!this._isValidPage(S)){console.error(`PDFHistory.pushPage: "${S}" is not a valid page number.`);return}this._destination?.page!==S&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${S}`,page:S,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;let S=window.history.state;this._isValidState(S)&&S.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;let S=window.history.state;this._isValidState(S)&&S.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(S,A=!1){let R=A||!this._destination,D={fingerprint:this._fingerprint,uid:R?this._uid:this._uid+1,destination:S};this._updateInternalState(S,D.uid);let v;if(this._updateUrl&&S?.hash){let b=document.location.href.split("#")[0];b.startsWith("file://")||(v=`${b}#${S.hash}`)}R?window.history.replaceState(D,"",v):window.history.pushState(D,"",v)}_tryPushCurrentPosition(S=!1){if(!this._position)return;let A=this._position;if(S&&(A=Object.assign(Object.create(null),this._position),A.temporary=!0),!this._destination){this._pushOrReplaceState(A);return}if(this._destination.temporary){this._pushOrReplaceState(A,!0);return}if(this._destination.hash===A.hash||!this._destination.page&&(d<=0||this._numPositionUpdates<=d))return;let R=!1;if(this._destination.page>=A.first&&this._destination.page<=A.page){if(this._destination.dest!==void 0||!this._destination.first)return;R=!0}this._pushOrReplaceState(A,R)}_isValidPage(S){return Number.isInteger(S)&&S>0&&S<=this.linkService.pagesCount}_isValidState(S,A=!1){if(!S)return!1;if(S.fingerprint!==this._fingerprint)if(A){if(typeof S.fingerprint!="string"||S.fingerprint.length!==this._fingerprint.length)return!1;let[R]=performance.getEntriesByType("navigation");if(R?.type!=="reload")return!1}else return!1;return!(!Number.isInteger(S.uid)||S.uid<0||S.destination===null||typeof S.destination!="object")}_updateInternalState(S,A,R=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),R&&S?.temporary&&delete S.temporary,this._destination=S,this._uid=A,this._maxUid=Math.max(this._maxUid,A),this._numPositionUpdates=0}_parseCurrentHash(S=!1){let A=unescape(h()).substring(1),R=(0,a.parseQueryString)(A),D=R.get("nameddest")||"",v=R.get("page")|0;return(!this._isValidPage(v)||S&&D.length>0)&&(v=null),{hash:A,page:v,rotation:this.linkService.rotation}}_updateViewarea({location:S}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:S.pdfOpenParams.substring(1),page:this.linkService.page,first:S.pageNumber,rotation:S.rotation},!this._popStateInProgress&&(d>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,u>0&&(this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},u)))}_popState({state:S}){let A=h(),R=this._currentHash!==A;if(this._currentHash=A,!S){this._uid++;let{hash:v,page:b,rotation:x}=this._parseCurrentHash();this._pushOrReplaceState({hash:v,page:b,rotation:x},!0);return}if(!this._isValidState(S))return;this._popStateInProgress=!0,R&&(this._blockHashChange++,(0,l.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:c}).then(()=>{this._blockHashChange--}));let D=S.destination;this._updateInternalState(D,S.uid,!0),(0,a.isValidRotation)(D.rotation)&&(this.linkService.rotation=D.rotation),D.dest?this.linkService.goToDestination(D.dest):D.hash?this.linkService.setHash(D.hash):D.page&&(this.linkService.page=D.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}s.PDFHistory=m;function f(y,S){return typeof y!="string"||typeof S!="string"?!1:y===S||(0,a.parseQueryString)(y).get("nameddest")===S}function g(y,S){function A(R,D){if(typeof R!=typeof D||Array.isArray(R)||Array.isArray(D))return!1;if(R!==null&&typeof R=="object"&&D!==null){if(Object.keys(R).length!==Object.keys(D).length)return!1;for(let v in R)if(!A(R[v],D[v]))return!1;return!0}return R===D||Number.isNaN(R)&&Number.isNaN(D)}if(!(Array.isArray(y)&&Array.isArray(S))||y.length!==S.length)return!1;for(let R=0,D=y.length;R<D;R++)if(!A(y[R],S[R]))return!1;return!0}},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFScriptingManager=void 0;var a=o(7),l=o(3);class c{constructor({eventBus:u,sandboxBundleSrc:h=null,scriptingFactory:m=null,docPropertiesLookup:f=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=u,this._sandboxBundleSrc=h,this._scriptingFactory=m,this._docPropertiesLookup=f,this._scriptingFactory||window.addEventListener("updatefromsandbox",g=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:g.detail})})}setViewer(u){this._pdfViewer=u}setDocument(u){return ue(this,null,function*(){if(this._pdfDocument&&(yield this._destroyScripting()),this._pdfDocument=u,!u)return;let[h,m,f]=yield Promise.all([u.getFieldObjects(),u.getCalculationOrderIds(),u.getJSActions()]);if(!h&&!f){yield this._destroyScripting();return}if(u===this._pdfDocument){try{this._scripting=this._createScripting()}catch(g){console.error(`PDFScriptingManager.setDocument: "${g?.message}".`),yield this._destroyScripting();return}this._internalEvents.set("updatefromsandbox",g=>{g?.source===window&&this._updateFromSandbox(g.detail)}),this._internalEvents.set("dispatcheventinsandbox",g=>{this._scripting?.dispatchEventInSandbox(g.detail)}),this._internalEvents.set("pagechanging",({pageNumber:g,previous:y})=>{g!==y&&(this._dispatchPageClose(y),this._dispatchPageOpen(g))}),this._internalEvents.set("pagerendered",({pageNumber:g})=>{this._pageOpenPending.has(g)&&g===this._pdfViewer.currentPageNumber&&this._dispatchPageOpen(g)}),this._internalEvents.set("pagesdestroy",g=>ue(this,null,function*(){yield this._dispatchPageClose(this._pdfViewer.currentPageNumber),yield this._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),this._closeCapability?.resolve()})),this._domEvents.set("mousedown",g=>{this._mouseState.isDown=!0}),this._domEvents.set("mouseup",g=>{this._mouseState.isDown=!1});for(let[g,y]of this._internalEvents)this._eventBus._on(g,y);for(let[g,y]of this._domEvents)window.addEventListener(g,y,!0);try{let g=yield this._getDocProperties();if(u!==this._pdfDocument)return;yield this._scripting.createSandbox({objects:h,calculationOrder:m,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:Fe(ce({},g),{actions:f})}),this._eventBus.dispatch("sandboxcreated",{source:this})}catch(g){console.error(`PDFScriptingManager.setDocument: "${g?.message}".`),yield this._destroyScripting();return}yield this._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{u===this._pdfDocument&&(this._ready=!0)})}})}dispatchWillSave(u){return ue(this,null,function*(){return this._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})}dispatchDidSave(u){return ue(this,null,function*(){return this._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})}dispatchWillPrint(u){return ue(this,null,function*(){return this._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})}dispatchDidPrint(u){return ue(this,null,function*(){return this._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,l.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,l.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,l.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,l.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(u){return ue(this,null,function*(){let h=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,{id:m,siblings:f,command:g,value:y}=u;if(!m){switch(g){case"clear":console.clear();break;case"error":console.error(y);break;case"layout":if(h)return;let A=(0,a.apiPageLayoutToViewerModes)(y);this._pdfViewer.spreadMode=A.spreadMode;break;case"page-num":this._pdfViewer.currentPageNumber=y+1;break;case"print":yield this._pdfViewer.pagesPromise,this._eventBus.dispatch("print",{source:this});break;case"println":console.log(y);break;case"zoom":if(h)return;this._pdfViewer.currentScaleValue=y;break;case"SaveAs":this._eventBus.dispatch("download",{source:this});break;case"FirstPage":this._pdfViewer.currentPageNumber=1;break;case"LastPage":this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount;break;case"NextPage":this._pdfViewer.nextPage();break;case"PrevPage":this._pdfViewer.previousPage();break;case"ZoomViewIn":if(h)return;this._pdfViewer.increaseScale();break;case"ZoomViewOut":if(h)return;this._pdfViewer.decreaseScale();break}return}if(h&&u.focus)return;delete u.id,delete u.siblings;let S=f?[m,...f]:[m];for(let A of S){let R=document.querySelector(`[data-element-id="${A}"]`);R?R.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:u})):this._pdfDocument?.annotationStorage.setValue(A,u)}})}_dispatchPageOpen(u,h=!1){return ue(this,null,function*(){let m=this._pdfDocument,f=this._visitedPages;if(h&&(this._closeCapability=(0,l.createPromiseCapability)()),!this._closeCapability)return;let g=this._pdfViewer.getPageView(u-1);if(g?.renderingState!==a.RenderingStates.FINISHED){this._pageOpenPending.add(u);return}this._pageOpenPending.delete(u);let y=ue(this,null,function*(){let S=yield f.has(u)?null:g.pdfPage?.getJSActions();m===this._pdfDocument&&(yield this._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:u,actions:S}))});f.set(u,y)})}_dispatchPageClose(u){return ue(this,null,function*(){let h=this._pdfDocument,m=this._visitedPages;if(!this._closeCapability||this._pageOpenPending.has(u))return;let f=m.get(u);f&&(m.set(u,null),yield f,h===this._pdfDocument&&(yield this._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:u})))})}_getDocProperties(){return ue(this,null,function*(){if(this._docPropertiesLookup)return this._docPropertiesLookup(this._pdfDocument);let{docPropertiesLookup:u}=o(26);return u(this._pdfDocument)})}_createScripting(){if(this._destroyCapability=(0,l.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});let{GenericScripting:u}=o(26);return new u(this._sandboxBundleSrc)}_destroyScripting(){return ue(this,null,function*(){if(!this._scripting){this._pdfDocument=null,this._destroyCapability?.resolve();return}this._closeCapability&&(yield Promise.race([this._closeCapability.promise,new Promise(u=>{setTimeout(u,1e3)})]).catch(u=>{}),this._closeCapability=null),this._pdfDocument=null;try{yield this._scripting.destroySandbox()}catch{}for(let[u,h]of this._internalEvents)this._eventBus._off(u,h);this._internalEvents.clear();for(let[u,h]of this._domEvents)window.removeEventListener(u,h,!0);this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._ready=!1,this._destroyCapability?.resolve()})}}s.PDFScriptingManager=c},(i,s,o)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericScripting=void 0,s.docPropertiesLookup=l;var a=o(3);function l(d){return ue(this,null,function*(){let u="",h=u.split("#")[0],{info:m,metadata:f,contentDispositionFilename:g,contentLength:y}=yield d.getMetadata();if(!y){let{length:S}=yield d.getDownloadInfo();y=S}return Fe(ce({},m),{baseURL:h,filesize:y,filename:g||(0,a.getPdfFilenameFromUrl)(u),metadata:f?.getRaw(),authors:f?.get("dc:creator"),numPages:d.numPages,URL:u})})}class c{constructor(u){this._ready=(0,a.loadScript)(u,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(u){return ue(this,null,function*(){(yield this._ready).create(u)})}dispatchEventInSandbox(u){return ue(this,null,function*(){let h=yield this._ready;setTimeout(()=>h.dispatchEvent(u),0)})}destroySandbox(){return ue(this,null,function*(){(yield this._ready).nukeSandbox()})}}s.GenericScripting=c}],e={};function r(i){var s=e[i];if(s!==void 0)return s.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,r),o.exports}var n={};return(()=>{var i=n;Object.defineProperty(i,"__esModule",{value:!0}),Object.defineProperty(i,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return c.AnnotationLayerBuilder}}),Object.defineProperty(i,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return s.DefaultAnnotationLayerFactory}}),Object.defineProperty(i,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return s.DefaultStructTreeLayerFactory}}),Object.defineProperty(i,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return s.DefaultTextLayerFactory}}),Object.defineProperty(i,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return s.DefaultXfaLayerFactory}}),Object.defineProperty(i,"DownloadManager",{enumerable:!0,get:function(){return d.DownloadManager}}),Object.defineProperty(i,"EventBus",{enumerable:!0,get:function(){return u.EventBus}}),Object.defineProperty(i,"GenericL10n",{enumerable:!0,get:function(){return h.GenericL10n}}),Object.defineProperty(i,"LinkTarget",{enumerable:!0,get:function(){return o.LinkTarget}}),Object.defineProperty(i,"NullL10n",{enumerable:!0,get:function(){return m.NullL10n}}),Object.defineProperty(i,"PDFFindController",{enumerable:!0,get:function(){return f.PDFFindController}}),Object.defineProperty(i,"PDFHistory",{enumerable:!0,get:function(){return g.PDFHistory}}),Object.defineProperty(i,"PDFLinkService",{enumerable:!0,get:function(){return o.PDFLinkService}}),Object.defineProperty(i,"PDFPageView",{enumerable:!0,get:function(){return y.PDFPageView}}),Object.defineProperty(i,"PDFScriptingManager",{enumerable:!0,get:function(){return S.PDFScriptingManager}}),Object.defineProperty(i,"PDFSinglePageViewer",{enumerable:!0,get:function(){return l.PDFSinglePageViewer}}),Object.defineProperty(i,"PDFViewer",{enumerable:!0,get:function(){return l.PDFViewer}}),Object.defineProperty(i,"ProgressBar",{enumerable:!0,get:function(){return a.ProgressBar}}),Object.defineProperty(i,"RenderingStates",{enumerable:!0,get:function(){return a.RenderingStates}}),Object.defineProperty(i,"ScrollMode",{enumerable:!0,get:function(){return a.ScrollMode}}),Object.defineProperty(i,"SimpleLinkService",{enumerable:!0,get:function(){return o.SimpleLinkService}}),Object.defineProperty(i,"SpreadMode",{enumerable:!0,get:function(){return a.SpreadMode}}),Object.defineProperty(i,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return A.StructTreeLayerBuilder}}),Object.defineProperty(i,"TextLayerBuilder",{enumerable:!0,get:function(){return R.TextLayerBuilder}}),Object.defineProperty(i,"XfaLayerBuilder",{enumerable:!0,get:function(){return D.XfaLayerBuilder}}),Object.defineProperty(i,"parseQueryString",{enumerable:!0,get:function(){return a.parseQueryString}});var s=r(1),o=r(6),a=r(7),l=r(11),c=r(5),d=r(18),u=r(19),h=r(20),m=r(4),f=r(22),g=r(24),y=r(13),S=r(25),A=r(8),R=r(9),D=r(10);let v="2.16.105",b="172ccdbe5"})(),n})())});var Fc=null;var Do=1,jc=Symbol("SIGNAL");function Oe(t){let e=Fc;return Fc=t,e}var Bc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Pp(t){if(!(Mo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Do)){if(!t.producerMustRecompute(t)&&!Io(t)){t.dirty=!1,t.lastCleanEpoch=Do;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Do}}function Vc(t){return t&&(t.nextProducerIndex=0),Oe(t)}function Uc(t,e){if(Oe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Mo(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)xo(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Io(t){ki(t);for(let e=0;e<t.producerNode.length;e++){let r=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==r.version||(Pp(r),n!==r.version))return!0}return!1}function Hc(t){if(ki(t),Mo(t))for(let e=0;e<t.producerNode.length;e++)xo(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function xo(t,e){if(Rp(t),ki(t),t.liveConsumerNode.length===1)for(let n=0;n<t.producerNode.length;n++)xo(t.producerNode[n],t.producerIndexOfThis[n]);let r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ki(i),i.producerIndexOfThis[n]=e}}function Mo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ki(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Rp(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Op(){throw new Error}var Np=Op;function $c(t){Np=t}function he(t){return typeof t=="function"}function $n(t){let r=t(n=>{Error.call(n),n.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Fi=$n(t=>function(r){t(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function En(t,e){if(t){let r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Ge=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let s of r)s.remove(this);else r.remove(this);let{initialTeardown:n}=this;if(he(n))try{n()}catch(s){e=s instanceof Fi?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Wc(s)}catch(o){e=e??[],o instanceof Fi?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Fi(e)}}add(e){var r;if(e&&e!==this)if(this.closed)Wc(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}}_hasParent(e){let{_parentage:r}=this;return r===e||Array.isArray(r)&&r.includes(e)}_addParent(e){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e}_removeParent(e){let{_parentage:r}=this;r===e?this._parentage=null:Array.isArray(r)&&En(r,e)}remove(e){let{_finalizers:r}=this;r&&En(r,e),e instanceof t&&e._removeParent(this)}};Ge.EMPTY=(()=>{let t=new Ge;return t.closed=!0,t})();var To=Ge.EMPTY;function ji(t){return t instanceof Ge||t&&"closed"in t&&he(t.remove)&&he(t.add)&&he(t.unsubscribe)}function Wc(t){he(t)?t():t.unsubscribe()}var Mt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Wn={setTimeout(t,e,...r){let{delegate:n}=Wn;return n?.setTimeout?n.setTimeout(t,e,...r):setTimeout(t,e,...r)},clearTimeout(t){let{delegate:e}=Wn;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Bi(t){Wn.setTimeout(()=>{let{onUnhandledError:e}=Mt;if(e)e(t);else throw t})}function jr(){}var zc=Po("C",void 0,void 0);function Gc(t){return Po("E",void 0,t)}function qc(t){return Po("N",t,void 0)}function Po(t,e,r){return{kind:t,value:e,error:r}}var An=null;function zn(t){if(Mt.useDeprecatedSynchronousErrorHandling){let e=!An;if(e&&(An={errorThrown:!1,error:null}),t(),e){let{errorThrown:r,error:n}=An;if(An=null,r)throw n}}else t()}function Yc(t){Mt.useDeprecatedSynchronousErrorHandling&&An&&(An.errorThrown=!0,An.error=t)}var Sn=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ji(e)&&e.add(this)):this.destination=Fp}static create(e,r,n){return new Gn(e,r,n)}next(e){this.isStopped?Oo(qc(e),this):this._next(e)}error(e){this.isStopped?Oo(Gc(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Oo(zc,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Lp=Function.prototype.bind;function Ro(t,e){return Lp.call(t,e)}var No=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:r}=this;if(r.next)try{r.next(e)}catch(n){Vi(n)}}error(e){let{partialObserver:r}=this;if(r.error)try{r.error(e)}catch(n){Vi(n)}else Vi(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(r){Vi(r)}}},Gn=class extends Sn{constructor(e,r,n){super();let i;if(he(e)||!e)i={next:e??void 0,error:r??void 0,complete:n??void 0};else{let s;this&&Mt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ro(e.next,s),error:e.error&&Ro(e.error,s),complete:e.complete&&Ro(e.complete,s)}):i=e}this.destination=new No(i)}};function Vi(t){Mt.useDeprecatedSynchronousErrorHandling?Yc(t):Bi(t)}function kp(t){throw t}function Oo(t,e){let{onStoppedNotification:r}=Mt;r&&Wn.setTimeout(()=>r(t,e))}var Fp={closed:!0,next:jr,error:kp,complete:jr};var qn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pt(t){return t}function Lo(...t){return ko(t)}function ko(t){return t.length===0?pt:t.length===1?t[0]:function(r){return t.reduce((n,i)=>i(n),r)}}var Me=(()=>{class t{constructor(r){r&&(this._subscribe=r)}lift(r){let n=new t;return n.source=this,n.operator=r,n}subscribe(r,n,i){let s=Bp(r)?r:new Gn(r,n,i);return zn(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return n=Xc(n),new n((i,s)=>{let o=new Gn({next:a=>{try{r(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)}[qn](){return this}pipe(...r){return ko(r)(this)}toPromise(r){return r=Xc(r),new r((n,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>n(s))})}}return t.create=e=>new t(e),t})();function Xc(t){var e;return(e=t??Mt.Promise)!==null&&e!==void 0?e:Promise}function jp(t){return t&&he(t.next)&&he(t.error)&&he(t.complete)}function Bp(t){return t&&t instanceof Sn||jp(t)&&ji(t)}function Fo(t){return he(t?.lift)}function Ae(t){return e=>{if(Fo(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Se(t,e,r,n,i){return new jo(t,e,r,n,i)}var jo=class extends Sn{constructor(e,r,n,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=r?function(a){try{r(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Yn(){return Ae((t,e)=>{let r=null;t._refCount++;let n=Se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){r=null;return}let i=t._connection,s=r;r=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}var Xn=class extends Me{constructor(e,r){super(),this.source=e,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,Fo(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let r=this.getSubject();e.add(this.source.subscribe(Se(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return Yn()(this)}};var Qc=$n(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Je=(()=>{class t extends Me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let n=new Ui(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new Qc}next(r){zn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(r)}})}error(r){zn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){zn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:n,isStopped:i,observers:s}=this;return n||i?To:(this.currentObservers=null,s.push(r),new Ge(()=>{this.currentObservers=null,En(s,r)}))}_checkFinalizedStatuses(r){let{hasError:n,thrownError:i,isStopped:s}=this;n?r.error(i):s&&r.complete()}asObservable(){let r=new Me;return r.source=this,r}}return t.create=(e,r)=>new Ui(e,r),t})(),Ui=class extends Je{constructor(e,r){super(),this.destination=e,this.source=r}next(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0||n.call(r,e)}error(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0||n.call(r,e)}complete(){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||r===void 0||r.call(e)}_subscribe(e){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(e))!==null&&n!==void 0?n:To}};var et=class extends Je{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let r=super._subscribe(e);return!r.closed&&e.next(this._value),r}getValue(){let{hasError:e,thrownError:r,_value:n}=this;if(e)throw r;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var Bo={now(){return(Bo.delegate||Date).now()},delegate:void 0};var Hi=class extends Ge{constructor(e,r){super()}schedule(e,r=0){return this}};var Br={setInterval(t,e,...r){let{delegate:n}=Br;return n?.setInterval?n.setInterval(t,e,...r):setInterval(t,e,...r)},clearInterval(t){let{delegate:e}=Br;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var $i=class extends Hi{constructor(e,r){super(e,r),this.scheduler=e,this.work=r,this.pending=!1}schedule(e,r=0){var n;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(s,this.id,r),this}requestAsyncId(e,r,n=0){return Br.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,r,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return r;r!=null&&Br.clearInterval(r)}execute(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,r);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,r){let n=!1,i;try{this.work(e)}catch(s){n=!0,i=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,En(n,this),e!=null&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,super.unsubscribe()}}};var Qn=class t{constructor(e,r=t.now){this.schedulerActionCtor=e,this.now=r}schedule(e,r=0,n){return new this.schedulerActionCtor(this,e).schedule(n,r)}};Qn.now=Bo.now;var Wi=class extends Qn{constructor(e,r=Qn.now){super(e,r),this.actions=[],this._active=!1}flush(e){let{actions:r}=this;if(this._active){r.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,n){for(;e=r.shift();)e.unsubscribe();throw n}}};var Kc=new Wi($i);var gt=new Me(t=>t.complete());function Zc(t){return t&&he(t.schedule)}function Jc(t){return t[t.length-1]}function eu(t){return he(Jc(t))?t.pop():void 0}function on(t){return Zc(Jc(t))?t.pop():void 0}function nu(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(u){o(u)}}function l(d){try{c(n.throw(d))}catch(u){o(u)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function tu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dn(t){return this instanceof Dn?(this.v=t,this):new Dn(t)}function ru(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(m){return new Promise(function(f,g){s.push([h,m,f,g])>1||a(h,m)})})}function a(h,m){try{l(n[h](m))}catch(f){u(s[0][3],f)}}function l(h){h.value instanceof Dn?Promise.resolve(h.value.v).then(c,d):u(s[0][2],h)}function c(h){a("next",h)}function d(h){a("throw",h)}function u(h,m){h(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function iu(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof tu=="function"?tu(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var Kn=t=>t&&typeof t.length=="number"&&typeof t!="function";function zi(t){return he(t?.then)}function Gi(t){return he(t[qn])}function qi(t){return Symbol.asyncIterator&&he(t?.[Symbol.asyncIterator])}function Yi(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Vp(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Xi=Vp();function Qi(t){return he(t?.[Xi])}function Ki(t){return ru(this,arguments,function*(){let r=t.getReader();try{for(;;){let{value:n,done:i}=yield Dn(r.read());if(i)return yield Dn(void 0);yield yield Dn(n)}}finally{r.releaseLock()}})}function Zi(t){return he(t?.getReader)}function Ye(t){if(t instanceof Me)return t;if(t!=null){if(Gi(t))return Up(t);if(Kn(t))return Hp(t);if(zi(t))return $p(t);if(qi(t))return su(t);if(Qi(t))return Wp(t);if(Zi(t))return zp(t)}throw Yi(t)}function Up(t){return new Me(e=>{let r=t[qn]();if(he(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Hp(t){return new Me(e=>{for(let r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function $p(t){return new Me(e=>{t.then(r=>{e.closed||(e.next(r),e.complete())},r=>e.error(r)).then(null,Bi)})}function Wp(t){return new Me(e=>{for(let r of t)if(e.next(r),e.closed)return;e.complete()})}function su(t){return new Me(e=>{Gp(t,e).catch(r=>e.error(r))})}function zp(t){return su(Ki(t))}function Gp(t,e){var r,n,i,s;return nu(this,void 0,void 0,function*(){try{for(r=iu(t);n=yield r.next(),!n.done;){let o=n.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{n&&!n.done&&(s=r.return)&&(yield s.call(r))}finally{if(i)throw i.error}}e.complete()})}function ct(t,e,r,n=0,i=!1){let s=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(s),!i)return s}function Ji(t,e=0){return Ae((r,n)=>{r.subscribe(Se(n,i=>ct(n,t,()=>n.next(i),e),()=>ct(n,t,()=>n.complete(),e),i=>ct(n,t,()=>n.error(i),e)))})}function es(t,e=0){return Ae((r,n)=>{n.add(t.schedule(()=>r.subscribe(n),e))})}function ou(t,e){return Ye(t).pipe(es(e),Ji(e))}function au(t,e){return Ye(t).pipe(es(e),Ji(e))}function lu(t,e){return new Me(r=>{let n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function cu(t,e){return new Me(r=>{let n;return ct(r,e,()=>{n=t[Xi](),ct(r,e,()=>{let i,s;try{({value:i,done:s}=n.next())}catch(o){r.error(o);return}s?r.complete():r.next(i)},0,!0)}),()=>he(n?.return)&&n.return()})}function ts(t,e){if(!t)throw new Error("Iterable cannot be null");return new Me(r=>{ct(r,e,()=>{let n=t[Symbol.asyncIterator]();ct(r,e,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function uu(t,e){return ts(Ki(t),e)}function du(t,e){if(t!=null){if(Gi(t))return ou(t,e);if(Kn(t))return lu(t,e);if(zi(t))return au(t,e);if(qi(t))return ts(t,e);if(Qi(t))return cu(t,e);if(Zi(t))return uu(t,e)}throw Yi(t)}function Be(t,e){return e?du(t,e):Ye(t)}function ve(...t){let e=on(t);return Be(t,e)}function Zn(t,e){let r=he(t)?t:()=>t,n=i=>i.error(r());return new Me(e?i=>e.schedule(n,0,i):n)}function Vo(t){return!!t&&(t instanceof Me||he(t.lift)&&he(t.subscribe))}var qt=$n(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function De(t,e){return Ae((r,n)=>{let i=0;r.subscribe(Se(n,s=>{n.next(t.call(e,s,i++))}))})}var{isArray:qp}=Array;function Yp(t,e){return qp(e)?t(...e):t(e)}function ns(t){return De(e=>Yp(t,e))}var{isArray:Xp}=Array,{getPrototypeOf:Qp,prototype:Kp,keys:Zp}=Object;function hu(t){if(t.length===1){let e=t[0];if(Xp(e))return{args:e,keys:null};if(Jp(e)){let r=Zp(e);return{args:r.map(n=>e[n]),keys:r}}}return{args:t,keys:null}}function Jp(t){return t&&typeof t=="object"&&Qp(t)===Kp}function fu(t,e){return t.reduce((r,n,i)=>(r[n]=e[i],r),{})}function Vr(...t){let e=on(t),r=eu(t),{args:n,keys:i}=hu(t);if(n.length===0)return Be([],e);let s=new Me(eg(n,e,i?o=>fu(i,o):pt));return r?s.pipe(ns(r)):s}function eg(t,e,r=pt){return n=>{pu(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)pu(e,()=>{let c=Be(t[l],e),d=!1;c.subscribe(Se(n,u=>{s[l]=u,d||(d=!0,a--),a||n.next(r(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}function pu(t,e,r){t?ct(r,t,e):e()}function gu(t,e,r,n,i,s,o,a){let l=[],c=0,d=0,u=!1,h=()=>{u&&!l.length&&!c&&e.complete()},m=g=>c<n?f(g):l.push(g),f=g=>{s&&e.next(g),c++;let y=!1;Ye(r(g,d++)).subscribe(Se(e,S=>{i?.(S),s?m(S):e.next(S)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<n;){let S=l.shift();o?ct(e,o,()=>f(S)):f(S)}h()}catch(S){e.error(S)}}))};return t.subscribe(Se(e,m,()=>{u=!0,h()})),()=>{a?.()}}function We(t,e,r=1/0){return he(e)?We((n,i)=>De((s,o)=>e(n,s,i,o))(Ye(t(n,i))),r):(typeof e=="number"&&(r=e),Ae((n,i)=>gu(n,i,t,r)))}function Jn(t=1/0){return We(pt,t)}function mu(){return Jn(1)}function er(...t){return mu()(Be(t,on(t)))}function rs(t){return new Me(e=>{Ye(t()).subscribe(e)})}var tg=["addListener","removeListener"],ng=["addEventListener","removeEventListener"],rg=["on","off"];function Ve(t,e,r,n){if(he(r)&&(n=r,r=void 0),n)return Ve(t,e,r).pipe(ns(n));let[i,s]=og(t)?ng.map(o=>a=>t[o](e,a,r)):ig(t)?tg.map(vu(t,e)):sg(t)?rg.map(vu(t,e)):[];if(!i&&Kn(t))return We(o=>Ve(o,e,r))(Ye(t));if(!i)throw new TypeError("Invalid event target");return new Me(o=>{let a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function vu(t,e){return r=>n=>t[r](e,n)}function ig(t){return he(t.addListener)&&he(t.removeListener)}function sg(t){return he(t.on)&&he(t.off)}function og(t){return he(t.addEventListener)&&he(t.removeEventListener)}function ut(t,e){return Ae((r,n)=>{let i=0;r.subscribe(Se(n,s=>t.call(e,s,i++)&&n.next(s)))})}function an(t){return Ae((e,r)=>{let n=null,i=!1,s;n=e.subscribe(Se(r,void 0,void 0,o=>{s=Ye(t(o,an(t)(e))),n?(n.unsubscribe(),n=null,s.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,s.subscribe(r))})}function yu(t,e,r,n,i){return(s,o)=>{let a=r,l=e,c=0;s.subscribe(Se(o,d=>{let u=c++;l=a?t(l,d,u):(a=!0,d),n&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function In(t,e){return he(e)?We(t,e,1):We(t,1)}function Uo(t,e=Kc){return Ae((r,n)=>{let i=null,s=null,o=null,a=()=>{if(i){i.unsubscribe(),i=null;let c=s;s=null,n.next(c)}};function l(){let c=o+t,d=e.now();if(d<c){i=this.schedule(void 0,c-d),n.add(i);return}a()}r.subscribe(Se(n,c=>{s=c,o=e.now(),i||(i=e.schedule(l,t),n.add(i))},()=>{a(),n.complete()},void 0,()=>{s=i=null}))})}function ln(t){return Ae((e,r)=>{let n=!1;e.subscribe(Se(r,i=>{n=!0,r.next(i)},()=>{n||r.next(t),r.complete()}))})}function Yt(t){return t<=0?()=>gt:Ae((e,r)=>{let n=0;e.subscribe(Se(r,i=>{++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function Ho(t){return De(()=>t)}function is(t=ag){return Ae((e,r)=>{let n=!1;e.subscribe(Se(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(t())))})}function ag(){return new qt}function Ur(t){return Ae((e,r)=>{try{e.subscribe(r)}finally{r.add(t)}})}function Nt(t,e){let r=arguments.length>=2;return n=>n.pipe(t?ut((i,s)=>t(i,s,n)):pt,Yt(1),r?ln(e):is(()=>new qt))}function tr(t){return t<=0?()=>gt:Ae((e,r)=>{let n=[];e.subscribe(Se(r,i=>{n.push(i),t<n.length&&n.shift()},()=>{for(let i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function $o(t,e){let r=arguments.length>=2;return n=>n.pipe(t?ut((i,s)=>t(i,s,n)):pt,tr(1),r?ln(e):is(()=>new qt))}function Wo(t,e){return Ae(yu(t,e,arguments.length>=2,!0))}function zo(...t){let e=on(t);return Ae((r,n)=>{(e?er(t,r,e):er(t,r)).subscribe(n)})}function At(t,e){return Ae((r,n)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&n.complete();r.subscribe(Se(n,l=>{i?.unsubscribe();let c=0,d=s++;Ye(t(l,d)).subscribe(i=Se(n,u=>n.next(e?e(l,u,d,c++):u),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function je(t){return Ae((e,r)=>{Ye(t).subscribe(Se(r,()=>r.complete(),jr)),!r.closed&&e.subscribe(r)})}function tt(t,e,r){let n=he(t)||e||r?{next:t,error:e,complete:r}:t;return n?Ae((i,s)=>{var o;(o=n.subscribe)===null||o===void 0||o.call(n);let a=!0;i.subscribe(Se(s,l=>{var c;(c=n.next)===null||c===void 0||c.call(n,l),s.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),s.complete()},l=>{var c;a=!1,(c=n.error)===null||c===void 0||c.call(n,l),s.error(l)},()=>{var l,c;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):pt}var fe=class extends Error{constructor(e,r){super(Ua(e,r)),this.code=e}};function Ua(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ei(t){return{toString:t}.toString()}var ss="__parameters__";function lg(t){return function(...r){if(t){let n=t(...r);for(let i in n)this[i]=n[i]}}}function Zu(t,e,r){return ei(()=>{let n=lg(e);function i(...s){if(this instanceof i)return n.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(l,c,d){let u=l.hasOwnProperty(ss)?l[ss]:Object.defineProperty(l,ss,{value:[]})[ss];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(o),l}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var mt=globalThis;function ke(t){for(let e in t)if(t[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function vt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(vt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r===-1?e:e.substring(0,r)}function bu(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var cg=ke({__forward_ref__:ke});function Ju(t){return t.__forward_ref__=Ju,t.toString=function(){return vt(this())},t}function Dt(t){return ed(t)?t():t}function ed(t){return typeof t=="function"&&t.hasOwnProperty(cg)&&t.__forward_ref__===Ju}function pe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _t(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ps(t){return _u(t,nd)||_u(t,rd)}function td(t){return Ps(t)!==null}function _u(t,e){return t.hasOwnProperty(e)?t[e]:null}function ug(t){let e=t&&(t[nd]||t[rd]);return e||null}function wu(t){return t&&(t.hasOwnProperty(Cu)||t.hasOwnProperty(dg))?t[Cu]:null}var nd=ke({\u0275prov:ke}),Cu=ke({\u0275inj:ke}),rd=ke({ngInjectableDef:ke}),dg=ke({ngInjectorDef:ke}),be=class{constructor(e,r){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=pe({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function id(t){return t&&!!t.\u0275providers}var hg=ke({\u0275cmp:ke}),fg=ke({\u0275dir:ke}),pg=ke({\u0275pipe:ke}),gg=ke({\u0275mod:ke}),fs=ke({\u0275fac:ke}),Hr=ke({__NG_ELEMENT_ID__:ke}),Eu=ke({__NG_ENV_ID__:ke});function mg(t){return typeof t=="string"?t:t==null?"":String(t)}function vg(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():mg(t)}function yg(t,e){let r=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new fe(-200,t)}function Ha(t,e){throw new fe(-201,!1)}var we=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(we||{}),ta;function sd(){return ta}function St(t){let e=ta;return ta=t,e}function od(t,e,r){let n=Ps(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(r&we.Optional)return null;if(e!==void 0)return e;Ha(t,"Injector")}var bg={},Wr=bg,na="__NG_DI_FLAG__",ps="ngTempTokenPath",_g="ngTokenPath",wg=/\n/gm,Cg="\u0275",Au="__source",or;function Eg(){return or}function cn(t){let e=or;return or=t,e}function Ag(t,e=we.Default){if(or===void 0)throw new fe(-203,!1);return or===null?od(t,void 0,e):or.get(t,e&we.Optional?null:void 0,e)}function ge(t,e=we.Default){return(sd()||Ag)(Dt(t),e)}function oe(t,e=we.Default){return ge(t,Rs(e))}function Rs(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ra(t){let e=[];for(let r=0;r<t.length;r++){let n=Dt(t[r]);if(Array.isArray(n)){if(n.length===0)throw new fe(900,!1);let i,s=we.Default;for(let o=0;o<n.length;o++){let a=n[o],l=Sg(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(ge(i,s))}else e.push(ge(n))}return e}function ad(t,e){return t[na]=e,t.prototype[na]=e,t}function Sg(t){return t[na]}function Dg(t,e,r,n){let i=t[ps];throw e[Au]&&i.unshift(e[Au]),t.message=Ig(`
`+t.message,i,r,n),t[_g]=i,t[ps]=null,t}function Ig(t,e,r,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Cg?t.slice(2):t;let i=vt(e);if(Array.isArray(e))i=e.map(vt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):vt(a)))}i=`{${s.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${t.replace(wg,`
  `)}`}var $a=ad(Zu("Optional"),8);var ld=ad(Zu("SkipSelf"),4);function cr(t,e){let r=t.hasOwnProperty(fs);return r?t[fs]:null}function xg(t,e,r){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++){let i=t[n],s=e[n];if(r&&(i=r(i),s=r(s)),s!==i)return!1}return!0}function Mg(t){return t.flat(Number.POSITIVE_INFINITY)}function Wa(t,e){t.forEach(r=>Array.isArray(r)?Wa(r,e):e(r))}function cd(t,e,r){e>=t.length?t.push(r):t.splice(e,0,r)}function gs(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var zr={},Lt=[],ur=new be(""),ud=new be("",-1),dd=new be(""),ms=class{get(e,r=Wr){if(r===Wr){let n=new Error(`NullInjectorError: No provider for ${vt(e)}!`);throw n.name="NullInjectorError",n}return r}},hd=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(hd||{}),Ft=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ft||{}),Xe=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Xe||{});function Tg(t,e,r){let n=t.length;for(;;){let i=t.indexOf(e,r);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===n||t.charCodeAt(i+s)<=32)return i}r=i+1}}function ia(t,e,r){let n=0;for(;n<r.length;){let i=r[n];if(typeof i=="number"){if(i!==0)break;n++;let s=r[n++],o=r[n++],a=r[n++];t.setAttribute(e,o,a,s)}else{let s=i,o=r[++n];Rg(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),n++}}return n}function Pg(t){return t===3||t===4||t===6}function Rg(t){return t.charCodeAt(0)===64}function za(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let r=-1;for(let n=0;n<e.length;n++){let i=e[n];typeof i=="number"?r=i:r===0||(r===-1||r===2?Su(t,r,i,null,e[++n]):Su(t,r,i,null,null))}}return t}function Su(t,e,r,n,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===r){if(n===null){i!==null&&(t[s+1]=i);return}else if(n===t[s+1]){t[s+2]=i;return}}s++,n!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,r),n!==null&&t.splice(s++,0,n),i!==null&&t.splice(s++,0,i)}var fd="ng-template";function Og(t,e,r,n){let i=0;if(n){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Tg(e[i+1].toLowerCase(),r,0)!==-1)return!0}else if(Ga(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===r)return!0}return!1}function Ga(t){return t.type===4&&t.value!==fd}function Ng(t,e,r){let n=t.type===4&&!r?fd:t.value;return e===n}function Lg(t,e,r){let n=4,i=t.attrs,s=i!==null?jg(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Tt(n)&&!Tt(l))return!1;if(o&&Tt(l))continue;o=!1,n=l|n&1;continue}if(!o)if(n&4){if(n=2|n&1,l!==""&&!Ng(t,l,r)||l===""&&e.length===1){if(Tt(n))return!1;o=!0}}else if(n&8){if(i===null||!Og(t,i,l,r)){if(Tt(n))return!1;o=!0}}else{let c=e[++a],d=kg(l,i,Ga(t),r);if(d===-1){if(Tt(n))return!1;o=!0;continue}if(c!==""){let u;if(d>s?u="":u=i[d+1].toLowerCase(),n&2&&c!==u){if(Tt(n))return!1;o=!0}}}}return Tt(n)||o}function Tt(t){return(t&1)===0}function kg(t,e,r,n){if(e===null)return-1;let i=0;if(n||!r){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return Bg(e,t)}function Fg(t,e,r=!1){for(let n=0;n<e.length;n++)if(Lg(t,e[n],r))return!0;return!1}function jg(t){for(let e=0;e<t.length;e++){let r=t[e];if(Pg(r))return e}return t.length}function Bg(t,e){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){let n=t[r];if(typeof n=="number")return-1;if(n===e)return r;r++}return-1}function Du(t,e){return t?":not("+e.trim()+")":e}function Vg(t){let e=t[0],r=1,n=2,i="",s=!1;for(;r<t.length;){let o=t[r];if(typeof o=="string")if(n&2){let a=t[++r];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else n&8?i+="."+o:n&4&&(i+=" "+o);else i!==""&&!Tt(o)&&(e+=Du(s,i),i=""),n=o,s=s||!Tt(n);r++}return i!==""&&(e+=Du(s,i)),e}function Ug(t){return t.map(Vg).join(",")}function Hg(t){let e=[],r=[],n=1,i=2;for(;n<t.length;){let s=t[n];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++n]):i===8&&r.push(s);else{if(!Tt(i))break;i=s}n++}return{attrs:e,classes:r}}function vr(t){return ei(()=>{let e=yd(t),r=Fe(ce({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===hd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ft.Emulated,styles:t.styles||Lt,_:null,schemas:t.schemas||null,tView:null,id:""});bd(r);let n=t.dependencies;return r.directiveDefs=xu(n,!1),r.pipeDefs=xu(n,!0),r.id=zg(r),r})}function $g(t){return hn(t)||pd(t)}function Wg(t){return t!==null}function wt(t){return ei(()=>({type:t.type,bootstrap:t.bootstrap||Lt,declarations:t.declarations||Lt,imports:t.imports||Lt,exports:t.exports||Lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Iu(t,e){if(t==null)return zr;let r={};for(let n in t)if(t.hasOwnProperty(n)){let i=t[n],s,o,a=Xe.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(r[s]=a!==Xe.None?[n,a]:n,e[s]=o):r[s]=n}return r}function qa(t){return ei(()=>{let e=yd(t);return bd(e),e})}function hn(t){return t[hg]||null}function pd(t){return t[fg]||null}function gd(t){return t[pg]||null}function md(t){let e=hn(t)||pd(t)||gd(t);return e!==null?e.standalone:!1}function vd(t,e){let r=t[gg]||null;if(!r&&e===!0)throw new Error(`Type ${vt(t)} does not have '\u0275mod' property.`);return r}function yd(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||zr,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Lt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Iu(t.inputs,e),outputs:Iu(t.outputs),debugInfo:null}}function bd(t){t.features?.forEach(e=>e(t))}function xu(t,e){if(!t)return null;let r=e?gd:$g;return()=>(typeof t=="function"?t():t).map(n=>r(n)).filter(Wg)}function zg(t){let e=0,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of r)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Gg(...t){return{\u0275providers:_d(!0,t),\u0275fromNgModule:!0}}function _d(t,...e){let r=[],n=new Set,i,s=o=>{r.push(o)};return Wa(e,o=>{let a=o;sa(a,s,[],n)&&(i||=[],i.push(a))}),i!==void 0&&wd(i,s),r}function wd(t,e){for(let r=0;r<t.length;r++){let{ngModule:n,providers:i}=t[r];Ya(i,s=>{e(s,n)})}}function sa(t,e,r,n){if(t=Dt(t),!t)return!1;let i=null,s=wu(t),o=!s&&hn(t);if(!s&&!o){let l=t.ngModule;if(s=wu(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=n.has(i);if(o){if(a)return!1;if(n.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)sa(c,e,r,n)}}else if(s){if(s.imports!=null&&!a){n.add(i);let c;try{Wa(s.imports,d=>{sa(d,e,r,n)&&(c||=[],c.push(d))})}finally{}c!==void 0&&wd(c,e)}if(!a){let c=cr(i)||(()=>new i);e({provide:i,useFactory:c,deps:Lt},i),e({provide:dd,useValue:i,multi:!0},i),e({provide:ur,useValue:()=>ge(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=t;Ya(l,d=>{e(d,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Ya(t,e){for(let r of t)id(r)&&(r=r.\u0275providers),Array.isArray(r)?Ya(r,e):e(r)}var qg=ke({provide:String,useValue:ke});function Cd(t){return t!==null&&typeof t=="object"&&qg in t}function Yg(t){return!!(t&&t.useExisting)}function Xg(t){return!!(t&&t.useFactory)}function oa(t){return typeof t=="function"}var Os=new be(""),as={},Qg={},Go;function Xa(){return Go===void 0&&(Go=new ms),Go}var bt=class{},Gr=class extends bt{get destroyed(){return this._destroyed}constructor(e,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,la(e,o=>this.processProvider(o)),this.records.set(ud,nr(void 0,this)),i.has("environment")&&this.records.set(bt,nr(void 0,this));let s=this.records.get(Os);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(dd,Lt,we.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Oe(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let r=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of r)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Oe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let r=cn(this),n=St(void 0),i;try{return e()}finally{cn(r),St(n)}}get(e,r=Wr,n=we.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Eu))return e[Eu](this);n=Rs(n);let i,s=cn(this),o=St(void 0);try{if(!(n&we.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=nm(e)&&Ps(e);c&&this.injectableDefInScope(c)?l=nr(aa(e),as):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=n&we.Self?Xa():this.parent;return r=n&we.Optional&&r===Wr?null:r,a.get(e,r)}catch(a){if(a.name==="NullInjectorError"){if((a[ps]=a[ps]||[]).unshift(vt(e)),s)throw a;return Dg(a,e,"R3InjectorError",this.source)}else throw a}finally{St(o),cn(s)}}resolveInjectorInitializers(){let e=Oe(null),r=cn(this),n=St(void 0),i;try{let s=this.get(ur,Lt,we.Self);for(let o of s)o()}finally{cn(r),St(n),Oe(e)}}toString(){let e=[],r=this.records;for(let n of r.keys())e.push(vt(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(e){e=Dt(e);let r=oa(e)?e:Dt(e&&e.provide),n=Zg(e);if(!oa(e)&&e.multi===!0){let i=this.records.get(r);i||(i=nr(void 0,as,!0),i.factory=()=>ra(i.multi),this.records.set(r,i)),r=e,i.multi.push(e)}this.records.set(r,n)}hydrate(e,r){let n=Oe(null);try{return r.value===as&&(r.value=Qg,r.value=r.factory()),typeof r.value=="object"&&r.value&&tm(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Oe(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;let r=Dt(e.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(e){let r=this._onDestroyHooks.indexOf(e);r!==-1&&this._onDestroyHooks.splice(r,1)}};function aa(t){let e=Ps(t),r=e!==null?e.factory:cr(t);if(r!==null)return r;if(t instanceof be)throw new fe(204,!1);if(t instanceof Function)return Kg(t);throw new fe(204,!1)}function Kg(t){if(t.length>0)throw new fe(204,!1);let r=ug(t);return r!==null?()=>r.factory(t):()=>new t}function Zg(t){if(Cd(t))return nr(void 0,t.useValue);{let e=Jg(t);return nr(e,as)}}function Jg(t,e,r){let n;if(oa(t)){let i=Dt(t);return cr(i)||aa(i)}else if(Cd(t))n=()=>Dt(t.useValue);else if(Xg(t))n=()=>t.useFactory(...ra(t.deps||[]));else if(Yg(t))n=()=>ge(Dt(t.useExisting));else{let i=Dt(t&&(t.useClass||t.provide));if(em(t))n=()=>new i(...ra(t.deps));else return cr(i)||aa(i)}return n}function nr(t,e,r=!1){return{factory:t,value:e,multi:r?[]:void 0}}function em(t){return!!t.deps}function tm(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function nm(t){return typeof t=="function"||typeof t=="object"&&t instanceof be}function la(t,e){for(let r of t)Array.isArray(r)?la(r,e):r&&id(r)?la(r.\u0275providers,e):e(r)}function Qt(t,e){t instanceof Gr&&t.assertNotDestroyed();let r,n=cn(t),i=St(void 0);try{return e()}finally{cn(n),St(i)}}function Ed(){return sd()!==void 0||Eg()!=null}function rm(t){if(!Ed())throw new fe(-203,!1)}function im(t){let e=mt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function sm(t){return typeof t=="function"}var Kt=0,Ce=1,me=2,nt=3,Pt=4,Rt=5,vs=6,ys=7,fn=8,dr=9,jt=10,Bt=11,qr=12,Mu=13,ti=14,Vt=15,ni=16,rr=17,Xt=18,Ns=19,Ad=20,dn=21,qo=22,Mn=23,hr=25,Sd=1;var Tn=7,bs=8,fr=9,yt=10,Qa=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Qa||{});function ar(t){return Array.isArray(t)&&typeof t[Sd]=="object"}function Zt(t){return Array.isArray(t)&&t[Sd]===!0}function Dd(t){return(t.flags&4)!==0}function Ls(t){return t.componentOffset>-1}function om(t){return(t.flags&1)===1}function ri(t){return!!t.template}function am(t){return(t[me]&512)!==0}var ca=class{constructor(e,r,n){this.previousValue=e,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}};function Id(t,e,r,n){e!==null?e.applyValueToInputSignal(e,n):t[r]=n}function yr(){return xd}function xd(t){return t.type.prototype.ngOnChanges&&(t.setInput=cm),lm}yr.ngInherit=!0;function lm(){let t=Td(this),e=t?.current;if(e){let r=t.previous;if(r===zr)t.previous=e;else for(let n in e)r[n]=e[n];t.current=null,this.ngOnChanges(e)}}function cm(t,e,r,n,i){let s=this.declaredInputs[n],o=Td(t)||um(t,{previous:zr,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new ca(c&&c.currentValue,r,l===zr),Id(t,e,i,r)}var Md="__ngSimpleChanges__";function Td(t){return t[Md]||null}function um(t,e){return t[Md]=e}var Tu=null;var un=function(t,e,r){Tu?.(t,e,r)},dm="svg",hm="math",fm=!1;function pm(){return fm}function pn(t){for(;Array.isArray(t);)t=t[Kt];return t}function Ht(t,e){return pn(e[t.index])}function Pd(t,e){return t.data[e]}function br(t,e){let r=e[t];return ar(r)?r:r[Kt]}function gm(t){return(t[me]&4)===4}function Ka(t){return(t[me]&128)===128}function mm(t){return Zt(t[nt])}function Pu(t,e){return e==null?null:t[e]}function Rd(t){t[rr]=0}function vm(t){t[me]&1024||(t[me]|=1024,Ka(t)&&Yr(t))}function Za(t){return!!(t[me]&9216||t[Mn]?.dirty)}function ua(t){t[jt].changeDetectionScheduler?.notify(1),Za(t)?Yr(t):t[me]&64&&(pm()?(t[me]|=1024,Yr(t)):t[jt].changeDetectionScheduler?.notify())}function Yr(t){t[jt].changeDetectionScheduler?.notify();let e=Xr(t);for(;e!==null&&!(e[me]&8192||(e[me]|=8192,!Ka(e)));)e=Xr(e)}function Od(t,e){if((t[me]&256)===256)throw new fe(911,!1);t[dn]===null&&(t[dn]=[]),t[dn].push(e)}function ym(t,e){if(t[dn]===null)return;let r=t[dn].indexOf(e);r!==-1&&t[dn].splice(r,1)}function Xr(t){let e=t[nt];return Zt(e)?e[nt]:e}var xe={lFrame:Vd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function bm(){return xe.lFrame.elementDepthCount}function _m(){xe.lFrame.elementDepthCount++}function wm(){xe.lFrame.elementDepthCount--}function Nd(){return xe.bindingsEnabled}function Cm(){return xe.skipHydrationRootTNode!==null}function Em(t){return xe.skipHydrationRootTNode===t}function Am(){xe.skipHydrationRootTNode=null}function at(){return xe.lFrame.lView}function ii(){return xe.lFrame.tView}function Jt(){let t=Ld();for(;t!==null&&t.type===64;)t=t.parent;return t}function Ld(){return xe.lFrame.currentTNode}function Sm(){let t=xe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ja(t,e){let r=xe.lFrame;r.currentTNode=t,r.isParent=e}function kd(){return xe.lFrame.isParent}function Dm(){xe.lFrame.isParent=!1}function Im(t){return xe.lFrame.bindingIndex=t}function xm(){return xe.lFrame.bindingIndex++}function Mm(){return xe.lFrame.inI18n}function Tm(t,e){let r=xe.lFrame;r.bindingIndex=r.bindingRootIndex=t,da(e)}function Pm(){return xe.lFrame.currentDirectiveIndex}function da(t){xe.lFrame.currentDirectiveIndex=t}function Fd(){return xe.lFrame.currentQueryIndex}function el(t){xe.lFrame.currentQueryIndex=t}function Rm(t){let e=t[Ce];return e.type===2?e.declTNode:e.type===1?t[Rt]:null}function jd(t,e,r){if(r&we.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(r&we.Host);)if(i=Rm(s),i===null||(s=s[ti],i.type&10))break;if(i===null)return!1;e=i,t=s}let n=xe.lFrame=Bd();return n.currentTNode=e,n.lView=t,!0}function tl(t){let e=Bd(),r=t[Ce];xe.lFrame=e,e.currentTNode=r.firstChild,e.lView=t,e.tView=r,e.contextLView=t,e.bindingIndex=r.bindingStartIndex,e.inI18n=!1}function Bd(){let t=xe.lFrame,e=t===null?null:t.child;return e===null?Vd(t):e}function Vd(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Ud(){let t=xe.lFrame;return xe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Hd=Ud;function nl(){let t=Ud();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Om(){return xe.lFrame.selectedIndex}function Pn(t){xe.lFrame.selectedIndex=t}function Nm(){let t=xe.lFrame;return Pd(t.tView,t.selectedIndex)}function Lm(){return xe.lFrame.currentNamespace}var $d=!0;function km(){return $d}function Fm(t){$d=t}function jm(t,e,r){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(n){let o=xd(e);(r.preOrderHooks??=[]).push(t,o),(r.preOrderCheckHooks??=[]).push(t,o)}i&&(r.preOrderHooks??=[]).push(0-t,i),s&&((r.preOrderHooks??=[]).push(t,s),(r.preOrderCheckHooks??=[]).push(t,s))}function Wd(t,e){for(let r=e.directiveStart,n=e.directiveEnd;r<n;r++){let s=t.data[r].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-r,o),a&&((t.contentHooks??=[]).push(r,a),(t.contentCheckHooks??=[]).push(r,a)),l&&(t.viewHooks??=[]).push(-r,l),c&&((t.viewHooks??=[]).push(r,c),(t.viewCheckHooks??=[]).push(r,c)),d!=null&&(t.destroyHooks??=[]).push(r,d)}}function ls(t,e,r){zd(t,e,3,r)}function cs(t,e,r,n){(t[me]&3)===r&&zd(t,e,r,n)}function Yo(t,e){let r=t[me];(r&3)===e&&(r&=16383,r+=1,t[me]=r)}function zd(t,e,r,n){let i=n!==void 0?t[rr]&65535:0,s=n??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],n!=null&&a>=n)break}else e[l]<0&&(t[rr]+=65536),(a<s||s==-1)&&(Bm(t,r,e,l),t[rr]=(t[rr]&4294901760)+l+2),l++}function Ru(t,e){un(4,t,e);let r=Oe(null);try{e.call(t)}finally{Oe(r),un(5,t,e)}}function Bm(t,e,r,n){let i=r[n]<0,s=r[n+1],o=i?-r[n]:r[n],a=t[o];i?t[me]>>14<t[rr]>>16&&(t[me]&3)===e&&(t[me]+=16384,Ru(a,s)):Ru(a,s)}var lr=-1,Qr=class{constructor(e,r,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}};function Vm(t){return t instanceof Qr}function Um(t){return(t.flags&8)!==0}function Hm(t){return(t.flags&16)!==0}function Gd(t){return t!==lr}function _s(t){return t&32767}function $m(t){return t>>16}function ws(t,e){let r=$m(t),n=e;for(;r>0;)n=n[ti],r--;return n}var ha=!0;function Ou(t){let e=ha;return ha=t,e}var Wm=256,qd=Wm-1,Yd=5,zm=0,kt={};function Gm(t,e,r){let n;typeof r=="string"?n=r.charCodeAt(0)||0:r.hasOwnProperty(Hr)&&(n=r[Hr]),n==null&&(n=r[Hr]=zm++);let i=n&qd,s=1<<i;e.data[t+(i>>Yd)]|=s}function Xd(t,e){let r=Qd(t,e);if(r!==-1)return r;let n=e[Ce];n.firstCreatePass&&(t.injectorIndex=e.length,Xo(n.data,t),Xo(e,null),Xo(n.blueprint,null));let i=rl(t,e),s=t.injectorIndex;if(Gd(i)){let o=_s(i),a=ws(i,e),l=a[Ce].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Xo(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Qd(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function rl(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let r=0,n=null,i=e;for(;i!==null;){if(n=th(i),n===null)return lr;if(r++,i=i[ti],n.injectorIndex!==-1)return n.injectorIndex|r<<16}return lr}function qm(t,e,r){Gm(t,e,r)}function Kd(t,e,r){if(r&we.Optional||t!==void 0)return t;Ha(e,"NodeInjector")}function Zd(t,e,r,n){if(r&we.Optional&&n===void 0&&(n=null),!(r&(we.Self|we.Host))){let i=t[dr],s=St(void 0);try{return i?i.get(e,n,r&we.Optional):od(e,n,r&we.Optional)}finally{St(s)}}return Kd(n,e,r)}function Jd(t,e,r,n=we.Default,i){if(t!==null){if(e[me]&2048&&!(n&we.Self)){let o=Km(t,e,r,n,kt);if(o!==kt)return o}let s=eh(t,e,r,n,kt);if(s!==kt)return s}return Zd(e,r,n,i)}function eh(t,e,r,n,i){let s=Xm(r);if(typeof s=="function"){if(!jd(e,t,n))return n&we.Host?Kd(i,r,n):Zd(e,r,n,i);try{let o;if(o=s(n),o==null&&!(n&we.Optional))Ha(r);else return o}finally{Hd()}}else if(typeof s=="number"){let o=null,a=Qd(t,e),l=lr,c=n&we.Host?e[Vt][Rt]:null;for((a===-1||n&we.SkipSelf)&&(l=a===-1?rl(t,e):e[a+8],l===lr||!Lu(n,!1)?a=-1:(o=e[Ce],a=_s(l),e=ws(l,e)));a!==-1;){let d=e[Ce];if(Nu(s,a,d.data)){let u=Ym(a,e,r,o,n,c);if(u!==kt)return u}l=e[a+8],l!==lr&&Lu(n,e[Ce].data[a+8]===c)&&Nu(s,a,e)?(o=d,a=_s(l),e=ws(l,e)):a=-1}}return i}function Ym(t,e,r,n,i,s){let o=e[Ce],a=o.data[t+8],l=n==null?Ls(a)&&ha:n!=o&&(a.type&3)!==0,c=i&we.Host&&s===a,d=us(a,o,r,l,c);return d!==null?pr(e,o,d,a):kt}function us(t,e,r,n,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,d=s>>20,u=n?a:a+d,h=i?a+d:c;for(let m=u;m<h;m++){let f=o[m];if(m<l&&r===f||m>=l&&f.type===r)return m}if(i){let m=o[l];if(m&&ri(m)&&m.type===r)return l}return null}function pr(t,e,r,n){let i=t[r],s=e.data;if(Vm(i)){let o=i;o.resolving&&yg(vg(s[r]));let a=Ou(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?St(o.injectImpl):null,d=jd(t,n,we.Default);try{i=t[r]=o.factory(void 0,s,t,n),e.firstCreatePass&&r>=n.directiveStart&&jm(r,s[r],e)}finally{c!==null&&St(c),Ou(a),o.resolving=!1,Hd()}}return i}function Xm(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Hr)?t[Hr]:void 0;return typeof e=="number"?e>=0?e&qd:Qm:e}function Nu(t,e,r){let n=1<<t;return!!(r[e+(t>>Yd)]&n)}function Lu(t,e){return!(t&we.Self)&&!(t&we.Host&&e)}var xn=class{constructor(e,r){this._tNode=e,this._lView=r}get(e,r,n){return Jd(this._tNode,this._lView,e,Rs(n),r)}};function Qm(){return new xn(Jt(),at())}function il(t){return ei(()=>{let e=t.prototype.constructor,r=e[fs]||fa(e),n=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==n;){let s=i[fs]||fa(i);if(s&&s!==r)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function fa(t){return ed(t)?()=>{let e=fa(Dt(t));return e&&e()}:cr(t)}function Km(t,e,r,n,i){let s=t,o=e;for(;s!==null&&o!==null&&o[me]&2048&&!(o[me]&512);){let a=eh(s,o,r,n|we.Self,kt);if(a!==kt)return a;let l=s.parent;if(!l){let c=o[Ad];if(c){let d=c.get(r,kt,n);if(d!==kt)return d}l=th(o),o=o[ti]}s=l}return i}function th(t){let e=t[Ce],r=e.type;return r===2?e.declTNode:r===1?t[Rt]:null}function ku(t,e=null,r=null,n){let i=nh(t,e,r,n);return i.resolveInjectorInitializers(),i}function nh(t,e=null,r=null,n,i=new Set){let s=[r||Lt,Gg(t)];return n=n||(typeof t=="object"?void 0:vt(t)),new Gr(s,e||Xa(),n||null,i)}var $t=(()=>{let e=class e{static create(n,i){if(Array.isArray(n))return ku({name:""},i,n,"");{let s=n.name??"";return ku({name:s},n.parent,n.providers,s)}}};e.THROW_IF_NOT_FOUND=Wr,e.NULL=new ms,e.\u0275prov=pe({token:e,providedIn:"any",factory:()=>ge(ud)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var Zm="ngOriginalError";function Qo(t){return t[Zm]}var Ut=class{constructor(){this._console=console}handleError(e){let r=this._findOriginalError(e);this._console.error("ERROR",e),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(e){let r=e&&Qo(e);for(;r&&Qo(r);)r=Qo(r);return r||null}},rh=new be("",{providedIn:"root",factory:()=>oe(Ut).handleError.bind(void 0)}),sl=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Jm,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),pa=class extends sl{constructor(e){super(),this._lView=e}onDestroy(e){return Od(this._lView,e),()=>ym(this._lView,e)}};function Jm(){return new pa(at())}function ev(){return _r(Jt(),at())}function _r(t,e){return new en(Ht(t,e))}var en=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=ev;let t=e;return t})();function tv(t){return t instanceof en?t.nativeElement:t}var ga=class extends Je{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Ed()&&(this.destroyRef=oe(sl,{optional:!0})??void 0)}emit(e){let r=Oe(null);try{super.next(e)}finally{Oe(r)}}subscribe(e,r,n){let i=e,s=r||(()=>null),o=n;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Ko(s),i&&(i=Ko(i)),o&&(o=Ko(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ge&&e.add(a),a}};function Ko(t){return e=>{setTimeout(t,void 0,e)}}var Ue=ga;function nv(){return this._results[Symbol.iterator]()}var ma=class t{get changes(){return this._changes??=new Ue}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let r=t.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=nv)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,r){return this._results.reduce(e,r)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,r){this.dirty=!1;let n=Mg(e);(this._changesDetected=!xg(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function ih(t){return(t.flags&128)===128}var sh=new Map,rv=0;function iv(){return rv++}function sv(t){sh.set(t[Ns],t)}function ov(t){sh.delete(t[Ns])}var Fu="__ngContext__";function gr(t,e){ar(e)?(t[Fu]=e[Ns],sv(e)):t[Fu]=e}function oh(t){return lh(t[qr])}function ah(t){return lh(t[Pt])}function lh(t){for(;t!==null&&!Zt(t);)t=t[Pt];return t}var va;function ch(t){va=t}function av(){if(va!==void 0)return va;if(typeof document<"u")return document;throw new fe(210,!1)}var ks=new be("",{providedIn:"root",factory:()=>lv}),lv="ng",ol=new be(""),mn=new be("",{providedIn:"platform",factory:()=>"unknown"});var al=new be("",{providedIn:"root",factory:()=>av().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cv="h",uv="b";var dv=()=>null;function ll(t,e,r=!1){return dv(t,e,r)}var uh=!1,hv=new be("",{providedIn:"root",factory:()=>uh});function dh(t){return t instanceof Function?t():t}function fv(t){return(t??oe($t)).get(mn)==="browser"}var On=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(On||{}),pv;function cl(t,e){return pv(t,e)}function ir(t,e,r,n,i){if(n!=null){let s,o=!1;Zt(n)?s=n:ar(n)&&(o=!0,n=n[Kt]);let a=pn(n);t===0&&r!==null?i==null?mh(e,r,a):Cs(e,r,a,i||null,!0):t===1&&r!==null?Cs(e,r,a,i||null,!0):t===2?Tv(e,a,o):t===3&&e.destroyNode(a),s!=null&&Rv(e,t,s,r,i)}}function hh(t,e,r){return t.createElement(e,r)}function gv(t,e){fh(t,e),e[Kt]=null,e[Rt]=null}function mv(t,e,r,n,i,s){n[Kt]=i,n[Rt]=e,Fs(t,n,r,1,i,s)}function fh(t,e){e[jt].changeDetectionScheduler?.notify(1),Fs(t,e,e[Bt],2,null,null)}function vv(t){let e=t[qr];if(!e)return Zo(t[Ce],t);for(;e;){let r=null;if(ar(e))r=e[qr];else{let n=e[yt];n&&(r=n)}if(!r){for(;e&&!e[Pt]&&e!==t;)ar(e)&&Zo(e[Ce],e),e=e[nt];e===null&&(e=t),ar(e)&&Zo(e[Ce],e),r=e&&e[Pt]}e=r}}function yv(t,e,r,n){let i=yt+n,s=r.length;n>0&&(r[i-1][Pt]=e),n<s-yt?(e[Pt]=r[i],cd(r,yt+n,e)):(r.push(e),e[Pt]=null),e[nt]=r;let o=e[ni];o!==null&&r!==o&&bv(o,e);let a=e[Xt];a!==null&&a.insertView(t),ua(e),e[me]|=128}function bv(t,e){let r=t[fr],i=e[nt][nt][Vt];e[Vt]!==i&&(t[me]|=Qa.HasTransplantedViews),r===null?t[fr]=[e]:r.push(e)}function ph(t,e){let r=t[fr],n=r.indexOf(e);r.splice(n,1)}function ya(t,e){if(t.length<=yt)return;let r=yt+e,n=t[r];if(n){let i=n[ni];i!==null&&i!==t&&ph(i,n),e>0&&(t[r-1][Pt]=n[Pt]);let s=gs(t,yt+e);gv(n[Ce],n);let o=s[Xt];o!==null&&o.detachView(s[Ce]),n[nt]=null,n[Pt]=null,n[me]&=-129}return n}function gh(t,e){if(!(e[me]&256)){let r=e[Bt];r.destroyNode&&Fs(t,e,r,3,null,null),vv(e)}}function Zo(t,e){if(e[me]&256)return;let r=Oe(null);try{e[me]&=-129,e[me]|=256,e[Mn]&&Hc(e[Mn]),wv(t,e),_v(t,e),e[Ce].type===1&&e[Bt].destroy();let n=e[ni];if(n!==null&&Zt(e[nt])){n!==e[nt]&&ph(n,e);let i=e[Xt];i!==null&&i.detachView(t)}ov(e)}finally{Oe(r)}}function _v(t,e){let r=t.cleanup,n=e[ys];if(r!==null)for(let s=0;s<r.length-1;s+=2)if(typeof r[s]=="string"){let o=r[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else{let o=n[r[s+1]];r[s].call(o)}n!==null&&(e[ys]=null);let i=e[dn];if(i!==null){e[dn]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function wv(t,e){let r;if(t!=null&&(r=t.destroyHooks)!=null)for(let n=0;n<r.length;n+=2){let i=e[r[n]];if(!(i instanceof Qr)){let s=r[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];un(4,a,l);try{l.call(a)}finally{un(5,a,l)}}else{un(4,i,s);try{s.call(i)}finally{un(5,i,s)}}}}}function Cv(t,e,r){return Ev(t,e.parent,r)}function Ev(t,e,r){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return r[Kt];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:s}=t.data[n.directiveStart+i];if(s===Ft.None||s===Ft.Emulated)return null}return Ht(n,r)}}function Cs(t,e,r,n,i){t.insertBefore(e,r,n,i)}function mh(t,e,r){t.appendChild(e,r)}function ju(t,e,r,n,i){n!==null?Cs(t,e,r,n,i):mh(t,e,r)}function Av(t,e,r,n){t.removeChild(e,r,n)}function ul(t,e){return t.parentNode(e)}function Sv(t,e){return t.nextSibling(e)}function Dv(t,e,r){return xv(t,e,r)}function Iv(t,e,r){return t.type&40?Ht(t,r):null}var xv=Iv,Bu;function Mv(t,e,r,n){let i=Cv(t,n,e),s=e[Bt],o=n.parent||e[Rt],a=Dv(o,n,e);if(i!=null)if(Array.isArray(r))for(let l=0;l<r.length;l++)ju(s,i,r[l],a,!1);else ju(s,i,r,a,!1);Bu!==void 0&&Bu(s,n,e,r,i)}function ds(t,e){if(e!==null){let r=e.type;if(r&3)return Ht(e,t);if(r&4)return ba(-1,t[e.index]);if(r&8){let n=e.child;if(n!==null)return ds(t,n);{let i=t[e.index];return Zt(i)?ba(-1,i):pn(i)}}else{if(r&32)return cl(e,t)()||pn(t[e.index]);{let n=vh(t,e);if(n!==null){if(Array.isArray(n))return n[0];let i=Xr(t[Vt]);return ds(i,n)}else return ds(t,e.next)}}}return null}function vh(t,e){if(e!==null){let n=t[Vt][Rt],i=e.projection;return n.projection[i]}return null}function ba(t,e){let r=yt+t+1;if(r<e.length){let n=e[r],i=n[Ce].firstChild;if(i!==null)return ds(n,i)}return e[Tn]}function Tv(t,e,r){let n=ul(t,e);n&&Av(t,n,e,r)}function dl(t,e,r,n,i,s,o){for(;r!=null;){let a=n[r.index],l=r.type;if(o&&e===0&&(a&&gr(pn(a),n),r.flags|=2),(r.flags&32)!==32)if(l&8)dl(t,e,r.child,n,i,s,!1),ir(e,t,i,a,s);else if(l&32){let c=cl(r,n),d;for(;d=c();)ir(e,t,i,d,s);ir(e,t,i,a,s)}else l&16?Pv(t,e,n,r,i,s):ir(e,t,i,a,s);r=o?r.projectionNext:r.next}}function Fs(t,e,r,n,i,s){dl(r,n,t.firstChild,e,i,s,!1)}function Pv(t,e,r,n,i,s){let o=r[Vt],l=o[Rt].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let d=l[c];ir(e,t,i,d,s)}else{let c=l,d=o[nt];ih(n)&&(c.flags|=128),dl(t,e,c,d,i,s,!0)}}function Rv(t,e,r,n,i){let s=r[Tn],o=pn(r);s!==o&&ir(e,t,n,s,i);for(let a=yt;a<r.length;a++){let l=r[a];Fs(l[Ce],l,t,e,n,s)}}function Ov(t,e,r){t.setAttribute(e,"style",r)}function yh(t,e,r){r===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",r)}function bh(t,e,r){let{mergedAttrs:n,classes:i,styles:s}=r;n!==null&&ia(t,e,n),i!==null&&yh(t,e,i),s!==null&&Ov(t,e,s)}var _h={};function Nv(t,e,r,n){if(!n)if((e[me]&3)===3){let s=t.preOrderCheckHooks;s!==null&&ls(e,s,r)}else{let s=t.preOrderHooks;s!==null&&cs(e,s,0,r)}Pn(r)}function wr(t,e=we.Default){let r=at();if(r===null)return ge(t,e);let n=Jt();return Jd(n,r,Dt(t),e)}function wh(){let t="invalid";throw new Error(t)}function Ch(t,e,r,n,i,s){let o=Oe(null);try{let a=null;i&Xe.SignalBased&&(a=e[n][jc]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Xe.HasDecoratorInputTransform&&(s=t.inputTransforms[n].call(e,s)),t.setInput!==null?t.setInput(e,a,s,r,n):Id(e,a,n,s)}finally{Oe(o)}}function Lv(t,e){let r=t.hostBindingOpCodes;if(r!==null)try{for(let n=0;n<r.length;n++){let i=r[n];if(i<0)Pn(~i);else{let s=i,o=r[++n],a=r[++n];Tm(o,s);let l=e[s];a(2,l)}}}finally{Pn(-1)}}function js(t,e,r,n,i,s,o,a,l,c,d){let u=e.blueprint.slice();return u[Kt]=i,u[me]=n|4|128|8|64,(c!==null||t&&t[me]&2048)&&(u[me]|=2048),Rd(u),u[nt]=u[ti]=t,u[fn]=r,u[jt]=o||t&&t[jt],u[Bt]=a||t&&t[Bt],u[dr]=l||t&&t[dr]||null,u[Rt]=s,u[Ns]=iv(),u[vs]=d,u[Ad]=c,u[Vt]=e.type==2?t[Vt]:u,u}function Eh(t,e,r,n,i){let s=t.data[e];if(s===null)s=kv(t,e,r,n,i),Mm()&&(s.flags|=32);else if(s.type&64){s.type=r,s.value=n,s.attrs=i;let o=Sm();s.injectorIndex=o===null?-1:o.injectorIndex}return Ja(s,!0),s}function kv(t,e,r,n,i){let s=Ld(),o=kd(),a=o?s:s&&s.parent,l=t.data[e]=Wv(t,a,r,e,n,i);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function Ah(t,e,r,n){if(r===0)return-1;let i=e.length;for(let s=0;s<r;s++)e.push(n),t.blueprint.push(n),t.data.push(null);return i}function Sh(t,e,r,n,i){let s=Om(),o=n&2;try{Pn(-1),o&&e.length>hr&&Nv(t,e,hr,!1),un(o?2:0,i),r(n,i)}finally{Pn(s),un(o?3:1,i)}}function Dh(t,e,r){if(Dd(e)){let n=Oe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=r[o];a.contentQueries(1,l,o)}}}finally{Oe(n)}}}function Fv(t,e,r){Nd()&&(Zv(t,e,r,Ht(r,e)),(r.flags&64)===64&&Th(t,e,r))}function jv(t,e,r=Ht){let n=e.localNames;if(n!==null){let i=e.index+1;for(let s=0;s<n.length;s+=2){let o=n[s+1],a=o===-1?r(e,t):t[o];t[i++]=a}}}function Ih(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=xh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function xh(t,e,r,n,i,s,o,a,l,c,d){let u=hr+n,h=u+i,m=Bv(u,h),f=typeof c=="function"?c():c;return m[Ce]={type:t,blueprint:m,template:r,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1,ssrId:d}}function Bv(t,e){let r=[];for(let n=0;n<e;n++)r.push(n<t?null:_h);return r}function Vv(t,e,r,n){let s=n.get(hv,uh)||r===Ft.ShadowDom,o=t.selectRootElement(e,s);return Uv(o),o}function Uv(t){Hv(t)}var Hv=()=>null;function $v(t,e,r,n){let i=cy(e);i.push(r),t.firstCreatePass&&uy(t).push(n,i.length-1)}function Wv(t,e,r,n,i,s){let o=e?e.injectorIndex:-1,a=0;return Cm()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Vu(t,e,r,n,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;n??={};let a,l=Xe.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(i!==null){if(!i.hasOwnProperty(s))continue;c=i[s]}t===0?Uu(n,r,c,a,l):Uu(n,r,c,a)}return n}function Uu(t,e,r,n,i){let s;t.hasOwnProperty(r)?(s=t[r]).push(e,n):s=t[r]=[e,n],i!==void 0&&s.push(i)}function zv(t,e,r){let n=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,c=null;for(let d=n;d<i;d++){let u=s[d],h=r?r.get(u):null,m=h?h.inputs:null,f=h?h.outputs:null;l=Vu(0,u.inputs,d,l,m),c=Vu(1,u.outputs,d,c,f);let g=l!==null&&o!==null&&!Ga(e)?ay(l,d,o):null;a.push(g)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function Gv(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function qv(t,e,r,n,i,s,o,a){let l=Ht(e,r),c=e.inputs,d;!a&&c!=null&&(d=c[n])?(fl(t,r,d,n,i),Ls(e)&&Yv(r,e.index)):e.type&3?(n=Gv(n),i=o!=null?o(i,e.value||"",n):i,s.setProperty(l,n,i)):e.type&12}function Yv(t,e){let r=br(e,t);r[me]&16||(r[me]|=64)}function Xv(t,e,r,n){if(Nd()){let i=n===null?null:{"":-1},s=ey(t,r),o,a;s===null?o=a=null:[o,a]=s,o!==null&&Mh(t,e,r,o,i,a),i&&ty(r,n,i)}r.mergedAttrs=za(r.mergedAttrs,r.attrs)}function Mh(t,e,r,n,i,s){for(let c=0;c<n.length;c++)qm(Xd(r,e),t,n[c].type);ry(r,t.data.length,n.length);for(let c=0;c<n.length;c++){let d=n[c];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=Ah(t,e,n.length,null);for(let c=0;c<n.length;c++){let d=n[c];r.mergedAttrs=za(r.mergedAttrs,d.hostAttrs),iy(t,r,e,l,d),ny(l,d,i),d.contentQueries!==null&&(r.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(r.flags|=64);let u=d.type.prototype;!o&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),o=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}zv(t,r,s)}function Qv(t,e,r,n,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Kv(o)!=a&&o.push(a),o.push(r,n,s)}}function Kv(t){let e=t.length;for(;e>0;){let r=t[--e];if(typeof r=="number"&&r<0)return r}return 0}function Zv(t,e,r,n){let i=r.directiveStart,s=r.directiveEnd;Ls(r)&&sy(e,r,t.data[i+r.componentOffset]),t.firstCreatePass||Xd(r,e),gr(n,e);let o=r.initialInputs;for(let a=i;a<s;a++){let l=t.data[a],c=pr(e,t,a,r);if(gr(c,e),o!==null&&oy(e,a-i,c,l,r,o),ri(l)){let d=br(r.index,e);d[fn]=pr(e,t,a,r)}}}function Th(t,e,r){let n=r.directiveStart,i=r.directiveEnd,s=r.index,o=Pm();try{Pn(s);for(let a=n;a<i;a++){let l=t.data[a],c=e[a];da(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Jv(l,c)}}finally{Pn(-1),da(o)}}function Jv(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function ey(t,e){let r=t.directiveRegistry,n=null,i=null;if(r)for(let s=0;s<r.length;s++){let o=r[s];if(Fg(e,o.selectors,!1))if(n||(n=[]),ri(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),n.unshift(...a,o);let l=a.length;_a(t,e,l)}else n.unshift(o),_a(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,n,i),n.push(o)}return n===null?null:[n,i]}function _a(t,e,r){e.componentOffset=r,(t.components??=[]).push(e.index)}function ty(t,e,r){if(e){let n=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=r[e[i+1]];if(s==null)throw new fe(-301,!1);n.push(e[i],s)}}}function ny(t,e,r){if(r){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)r[e.exportAs[n]]=t;ri(e)&&(r[""]=t)}}function ry(t,e,r){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+r,t.providerIndexes=e}function iy(t,e,r,n,i){t.data[n]=i;let s=i.factory||(i.factory=cr(i.type,!0)),o=new Qr(s,ri(i),wr);t.blueprint[n]=o,r[n]=o,Qv(t,e,n,Ah(t,r,i.hostVars,_h),i)}function sy(t,e,r){let n=Ht(e,t),i=Ih(r),s=t[jt].rendererFactory,o=16;r.signals?o=4096:r.onPush&&(o=64);let a=hl(t,js(t,i,null,o,n,e,null,s.createRenderer(n,r),null,null,null));t[e.index]=a}function oy(t,e,r,n,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],d=o[a++],u=o[a++];Ch(n,r,l,c,d,u)}}function ay(t,e,r){let n=null,i=0;for(;i<r.length;){let s=r[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){n===null&&(n=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){n.push(s,o[a+1],o[a+2],r[i+1]);break}}i+=2}return n}function ly(t,e,r,n){return[t,!0,0,e,null,n,null,r,null,null]}function Ph(t,e){let r=t.contentQueries;if(r!==null){let n=Oe(null);try{for(let i=0;i<r.length;i+=2){let s=r[i],o=r[i+1];if(o!==-1){let a=t.data[o];el(s),a.contentQueries(2,e[o],o)}}}finally{Oe(n)}}}function hl(t,e){return t[qr]?t[Mu][Pt]=e:t[qr]=e,t[Mu]=e,e}function wa(t,e,r){el(0);let n=Oe(null);try{e(t,r)}finally{Oe(n)}}function cy(t){return t[ys]||(t[ys]=[])}function uy(t){return t.cleanup||(t.cleanup=[])}function dy(t,e){let r=t[dr],n=r?r.get(Ut,null):null;n&&n.handleError(e)}function fl(t,e,r,n,i){for(let s=0;s<r.length;){let o=r[s++],a=r[s++],l=r[s++],c=e[o],d=t.data[o];Ch(d,c,n,a,l,i)}}function hy(t,e){let r=br(e,t),n=r[Ce];fy(n,r);let i=r[Kt];i!==null&&r[vs]===null&&(r[vs]=ll(i,r[dr])),pl(n,r,r[fn])}function fy(t,e){for(let r=e.length;r<t.blueprint.length;r++)e.push(t.blueprint[r])}function pl(t,e,r){tl(e);try{let n=t.viewQuery;n!==null&&wa(1,n,r);let i=t.template;i!==null&&Sh(t,e,i,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),e[Xt]?.finishViewCreation(t),t.staticContentQueries&&Ph(t,e),t.staticViewQueries&&wa(2,t.viewQuery,r);let s=t.components;s!==null&&py(e,s)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[me]&=-5,nl()}}function py(t,e){for(let r=0;r<e.length;r++)hy(t,e[r])}function gy(t,e,r,n){let i=Oe(null);try{let s=e.tView,a=t[me]&4096?4096:16,l=js(t,s,r,a,null,e,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),c=t[e.index];l[ni]=c;let d=t[Xt];return d!==null&&(l[Xt]=d.createEmbeddedView(s)),pl(s,l,r),l}finally{Oe(i)}}function Hu(t,e){return!e||e.firstChild===null||ih(t)}function my(t,e,r,n=!0){let i=e[Ce];if(yv(i,e,t,r),n){let o=ba(r,t),a=e[Bt],l=ul(a,t[Tn]);l!==null&&mv(i,t[Rt],a,e,l,o)}let s=e[vs];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Es(t,e,r,n,i=!1){for(;r!==null;){let s=e[r.index];s!==null&&n.push(pn(s)),Zt(s)&&vy(s,n);let o=r.type;if(o&8)Es(t,e,r.child,n);else if(o&32){let a=cl(r,e),l;for(;l=a();)n.push(l)}else if(o&16){let a=vh(e,r);if(Array.isArray(a))n.push(...a);else{let l=Xr(e[Vt]);Es(l[Ce],l,a,n,!0)}}r=i?r.projectionNext:r.next}return n}function vy(t,e){for(let r=yt;r<t.length;r++){let n=t[r],i=n[Ce].firstChild;i!==null&&Es(n[Ce],n,i,e)}t[Tn]!==t[Kt]&&e.push(t[Tn])}var Rh=[];function yy(t){return t[Mn]??by(t)}function by(t){let e=Rh.pop()??Object.create(wy);return e.lView=t,e}function _y(t){t.lView[Mn]!==t&&(t.lView=null,Rh.push(t))}var wy=Fe(ce({},Bc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Yr(t.lView)},consumerOnSignalRead(){this.lView[Mn]=this}}),Oh=100;function Nh(t,e=!0,r=0){let n=t[jt],i=n.rendererFactory,s=!1;s||i.begin?.();try{Cy(t,r)}catch(o){throw e&&dy(t,o),o}finally{s||(i.end?.(),n.inlineEffectRunner?.flush())}}function Cy(t,e){Ca(t,e);let r=0;for(;Za(t);){if(r===Oh)throw new fe(103,!1);r++,Ca(t,1)}}function Ey(t,e,r,n){let i=e[me];if((i&256)===256)return;let s=!1;!s&&e[jt].inlineEffectRunner?.flush(),tl(e);let o=null,a=null;!s&&Ay(t)&&(a=yy(e),o=Vc(a));try{Rd(e),Im(t.bindingStartIndex),r!==null&&Sh(t,e,r,2,n);let l=(i&3)===3;if(!s)if(l){let u=t.preOrderCheckHooks;u!==null&&ls(e,u,null)}else{let u=t.preOrderHooks;u!==null&&cs(e,u,0,null),Yo(e,0)}if(Sy(e),Lh(e,0),t.contentQueries!==null&&Ph(t,e),!s)if(l){let u=t.contentCheckHooks;u!==null&&ls(e,u)}else{let u=t.contentHooks;u!==null&&cs(e,u,1),Yo(e,1)}Lv(t,e);let c=t.components;c!==null&&Fh(e,c,0);let d=t.viewQuery;if(d!==null&&wa(2,d,n),!s)if(l){let u=t.viewCheckHooks;u!==null&&ls(e,u)}else{let u=t.viewHooks;u!==null&&cs(e,u,2),Yo(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[qo]){for(let u of e[qo])u();e[qo]=null}s||(e[me]&=-73)}catch(l){throw Yr(e),l}finally{a!==null&&(Uc(a,o),_y(a)),nl()}}function Ay(t){return t.type!==2}function Lh(t,e){for(let r=oh(t);r!==null;r=ah(r))for(let n=yt;n<r.length;n++){let i=r[n];kh(i,e)}}function Sy(t){for(let e=oh(t);e!==null;e=ah(e)){if(!(e[me]&Qa.HasTransplantedViews))continue;let r=e[fr];for(let n=0;n<r.length;n++){let i=r[n],s=i[nt];vm(i)}}}function Dy(t,e,r){let n=br(e,t);kh(n,r)}function kh(t,e){Ka(t)&&Ca(t,e)}function Ca(t,e){let n=t[Ce],i=t[me],s=t[Mn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Io(s)),s&&(s.dirty=!1),t[me]&=-9217,o)Ey(n,t,n.template,t[fn]);else if(i&8192){Lh(t,1);let a=n.components;a!==null&&Fh(t,a,1)}}function Fh(t,e,r){for(let n=0;n<e.length;n++)Dy(t,e[n],r)}function jh(t){for(t[jt].changeDetectionScheduler?.notify();t;){t[me]|=64;let e=Xr(t);if(am(t)&&!e)return t;t=e}return null}var Rn=class{get rootNodes(){let e=this._lView,r=e[Ce];return Es(r,e,r.firstChild,[])}constructor(e,r,n=!0){this._lView=e,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[fn]}set context(e){this._lView[fn]=e}get destroyed(){return(this._lView[me]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[nt];if(Zt(e)){let r=e[bs],n=r?r.indexOf(this):-1;n>-1&&(ya(e,n),gs(r,n))}this._attachedToViewContainer=!1}gh(this._lView[Ce],this._lView)}onDestroy(e){Od(this._lView,e)}markForCheck(){jh(this._cdRefInjectingView||this._lView)}detach(){this._lView[me]&=-129}reattach(){ua(this._lView),this._lView[me]|=128}detectChanges(){this._lView[me]|=1024,Nh(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,fh(this._lView[Ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=e,ua(this._lView)}},Kr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=My;let t=e;return t})(),Iy=Kr,xy=class extends Iy{constructor(e,r,n){super(),this._declarationLView=e,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,r){return this.createEmbeddedViewImpl(e,r)}createEmbeddedViewImpl(e,r,n){let i=gy(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:r,dehydratedView:n});return new Rn(i)}};function My(){return gl(Jt(),at())}function gl(t,e){return t.type&4?new xy(e,t,_r(t,e)):null}var $I=new RegExp(`^(\\d+)*(${uv}|${cv})*(.*)`);var Ty=()=>null;function $u(t,e){return Ty(t,e)}var As=class{},Ea=class{},Ss=class{};function Py(t){let e=Error(`No component factory found for ${vt(t)}.`);return e[Ry]=t,e}var Ry="ngComponent";var Aa=class{resolveComponentFactory(e){throw Py(e)}},Bs=(()=>{let e=class e{};e.NULL=new Aa;let t=e;return t})(),Zr=class{};var Oy=(()=>{let e=class e{};e.\u0275prov=pe({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Jo={};var Wu=new Set;function ml(t){Wu.has(t)||(Wu.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function zu(...t){}function Ny(){let t=typeof mt.requestAnimationFrame=="function",e=mt[t?"requestAnimationFrame":"setTimeout"],r=mt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&r){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:r}}var Ne=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ue(!1),this.onMicrotaskEmpty=new Ue(!1),this.onStable=new Ue(!1),this.onError=new Ue(!1),typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=Ny().nativeRequestAnimationFrame,Fy(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new fe(909,!1)}run(e,r,n){return this._inner.run(e,r,n)}runTask(e,r,n,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Ly,zu,zu);try{return s.runTask(o,r,n)}finally{s.cancelTask(o)}}runGuarded(e,r,n){return this._inner.runGuarded(e,r,n)}runOutsideAngular(e){return this._outer.run(e)}},Ly={};function vl(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ky(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(mt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Sa(t),t.isCheckStableRunning=!0,vl(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Sa(t))}function Fy(t){let e=()=>{ky(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,s,o,a)=>{if(jy(a))return r.invokeTask(i,s,o,a);try{return Gu(t),r.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),qu(t)}},onInvoke:(r,n,i,s,o,a,l)=>{try{return Gu(t),r.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),qu(t)}},onHasTask:(r,n,i,s)=>{r.hasTask(i,s),n===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Sa(t),vl(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,n,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Sa(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Gu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qu(t){t._nesting--,vl(t)}var Da=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ue,this.onMicrotaskEmpty=new Ue,this.onStable=new Ue,this.onError=new Ue}run(e,r,n){return e.apply(r,n)}runGuarded(e,r,n){return e.apply(r,n)}runOutsideAngular(e){return e()}runTask(e,r,n,i){return e.apply(r,n)}};function jy(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function By(t="zone.js",e){return t==="noop"?new Da:t==="zone.js"?new Ne(e):t}var sr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(sr||{}),Vy={destroy(){}};function yl(t,e){!e&&rm(yl);let r=e?.injector??oe($t);if(!fv(r))return Vy;ml("NgAfterNextRender");let n=r.get(bl),i=n.handler??=new xa,s=e?.phase??sr.MixedReadWrite,o=()=>{i.unregister(l),a()},a=r.get(sl).onDestroy(o),l=Qt(r,()=>new Ia(s,()=>{o(),t()}));return i.register(l),{destroy:o}}var Ia=class{constructor(e,r){this.phase=e,this.callbackFn=r,this.zone=oe(Ne),this.errorHandler=oe(Ut,{optional:!0}),oe(As,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},xa=class{constructor(){this.executingCallbacks=!1,this.buckets={[sr.EarlyRead]:new Set,[sr.Write]:new Set,[sr.MixedReadWrite]:new Set,[sr.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let r of e)r.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},bl=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of n)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=pe({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Ma(t,e,r){let n=r?t.styles:null,i=r?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=bu(i,a);else if(s==2){let l=a,c=e[++o];n=bu(n,l+": "+c+";")}}r?t.styles=n:t.stylesWithoutHost=n,r?t.classes=i:t.classesWithoutHost=i}var Ds=class extends Bs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let r=hn(e);return new mr(r,this.ngModule)}};function Yu(t){let e=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let n=t[r];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:r})}return e}function Uy(t){let e=t.toLowerCase();return e==="svg"?dm:e==="math"?hm:null}var Ta=class{constructor(e,r){this.injector=e,this.parentInjector=r}get(e,r,n){n=Rs(n);let i=this.injector.get(e,Jo,n);return i!==Jo||r===Jo?i:this.parentInjector.get(e,r,n)}},mr=class extends Ss{get inputs(){let e=this.componentDef,r=e.inputTransforms,n=Yu(e.inputs);if(r!==null)for(let i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return Yu(this.componentDef.outputs)}constructor(e,r){super(),this.componentDef=e,this.ngModule=r,this.componentType=e.type,this.selector=Ug(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!r}create(e,r,n,i){let s=Oe(null);try{i=i||this.ngModule;let o=i instanceof bt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Ta(e,o):e,l=a.get(Zr,null);if(l===null)throw new fe(407,!1);let c=a.get(Oy,null),d=a.get(bl,null),u=a.get(As,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:d,changeDetectionScheduler:u},m=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=n?Vv(m,n,this.componentDef.encapsulation,a):hh(m,f,Uy(f)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let S=null;g!==null&&(S=ll(g,a,!0));let A=xh(0,null,null,1,0,null,null,null,null,null,null),R=js(null,A,null,y,null,null,h,m,a,null,S);tl(R);let D,v;try{let b=this.componentDef,x,k=null;b.findHostDirectiveDefs?(x=[],k=new Map,b.findHostDirectiveDefs(b,x,k),x.push(b)):x=[b];let B=Hy(R,g),_=$y(B,g,b,x,R,h,m);v=Pd(A,hr),g&&Gy(m,b,g,n),r!==void 0&&qy(v,this.ngContentSelectors,r),D=zy(_,b,x,k,R,[Yy]),pl(A,R,null)}finally{nl()}return new Pa(this.componentType,D,_r(v,R),R,v)}finally{Oe(s)}}},Pa=class extends Ea{constructor(e,r,n,i,s){super(),this.location=n,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Rn(i,void 0,!1),this.componentType=e}setInput(e,r){let n=this._tNode.inputs,i;if(n!==null&&(i=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),r))return;let s=this._rootLView;fl(s[Ce],s,i,e,r),this.previousInputValues.set(e,r);let o=br(this._tNode.index,s);jh(o)}}get injector(){return new xn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Hy(t,e){let r=t[Ce],n=hr;return t[n]=e,Eh(r,n,2,"#host",null)}function $y(t,e,r,n,i,s,o){let a=i[Ce];Wy(n,t,e,o);let l=null;e!==null&&(l=ll(e,i[dr]));let c=s.rendererFactory.createRenderer(e,r),d=16;r.signals?d=4096:r.onPush&&(d=64);let u=js(i,Ih(r),null,d,i[t.index],t,s,c,null,null,l);return a.firstCreatePass&&_a(a,t,n.length-1),hl(i,u),i[t.index]=u}function Wy(t,e,r,n){for(let i of t)e.mergedAttrs=za(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ma(e,e.mergedAttrs,!0),r!==null&&bh(n,r,e))}function zy(t,e,r,n,i,s){let o=Jt(),a=i[Ce],l=Ht(o,i);Mh(a,i,o,r,null,n);for(let d=0;d<r.length;d++){let u=o.directiveStart+d,h=pr(i,a,u,o);gr(h,i)}Th(a,i,o),l&&gr(l,i);let c=pr(i,a,o.directiveStart+o.componentOffset,o);if(t[fn]=i[fn]=c,s!==null)for(let d of s)d(c,e);return Dh(a,o,i),c}function Gy(t,e,r,n){if(n)ia(t,r,["ng-version","17.3.1"]);else{let{attrs:i,classes:s}=Hg(e.selectors[0]);i&&ia(t,r,i),s&&s.length>0&&yh(t,r,s.join(" "))}}function qy(t,e,r){let n=t.projection=[];for(let i=0;i<e.length;i++){let s=r[i];n.push(s!=null?Array.from(s):null)}}function Yy(){let t=Jt();Wd(at()[Ce],t)}var Cr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Xy;let t=e;return t})();function Xy(){let t=Jt();return Vh(t,at())}var Qy=Cr,Bh=class extends Qy{constructor(e,r,n){super(),this._lContainer=e,this._hostTNode=r,this._hostLView=n}get element(){return _r(this._hostTNode,this._hostLView)}get injector(){return new xn(this._hostTNode,this._hostLView)}get parentInjector(){let e=rl(this._hostTNode,this._hostLView);if(Gd(e)){let r=ws(e,this._hostLView),n=_s(e),i=r[Ce].data[n+8];return new xn(i,r)}else return new xn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let r=Xu(this._lContainer);return r!==null&&r[e]||null}get length(){return this._lContainer.length-yt}createEmbeddedView(e,r,n){let i,s;typeof n=="number"?i=n:n!=null&&(i=n.index,s=n.injector);let o=$u(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(r||{},s,o);return this.insertImpl(a,i,Hu(this._hostTNode,o)),a}createComponent(e,r,n,i,s){let o=e&&!sm(e),a;if(o)a=r;else{let f=r||{};a=f.index,n=f.injector,i=f.projectableNodes,s=f.environmentInjector||f.ngModuleRef}let l=o?e:new mr(hn(e)),c=n||this.parentInjector;if(!s&&l.ngModule==null){let g=(o?c:this.parentInjector).get(bt,null);g&&(s=g)}let d=hn(l.componentType??{}),u=$u(this._lContainer,d?.id??null),h=u?.firstChild??null,m=l.create(c,i,h,s);return this.insertImpl(m.hostView,a,Hu(this._hostTNode,u)),m}insert(e,r){return this.insertImpl(e,r,!0)}insertImpl(e,r,n){let i=e._lView;if(mm(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[nt],c=new Bh(l,l[Rt],l[nt]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(r),o=this._lContainer;return my(o,i,s,n),e.attachToViewContainerRef(),cd(ea(o),s,e),e}move(e,r){return this.insert(e,r)}indexOf(e){let r=Xu(this._lContainer);return r!==null?r.indexOf(e):-1}remove(e){let r=this._adjustIndex(e,-1),n=ya(this._lContainer,r);n&&(gs(ea(this._lContainer),r),gh(n[Ce],n))}detach(e){let r=this._adjustIndex(e,-1),n=ya(this._lContainer,r);return n&&gs(ea(this._lContainer),r)!=null?new Rn(n):null}_adjustIndex(e,r=0){return e??this.length+r}};function Xu(t){return t[bs]}function ea(t){return t[bs]||(t[bs]=[])}function Vh(t,e){let r,n=e[t.index];return Zt(n)?r=n:(r=ly(n,e,null,t),e[t.index]=r,hl(e,r)),Zy(r,e,t,n),new Bh(r,t,e)}function Ky(t,e){let r=t[Bt],n=r.createComment(""),i=Ht(e,t),s=ul(r,i);return Cs(r,s,n,Sv(r,i),!1),n}var Zy=Jy;function Jy(t,e,r,n){if(t[Tn])return;let i;r.type&8?i=pn(n):i=Ky(e,r),t[Tn]=i}var Ra=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Oa=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let r=e.queries;if(r!==null){let n=e.contentQueries!==null?e.contentQueries[0]:r.length,i=[];for(let s=0;s<n;s++){let o=r.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let r=0;r<this.queries.length;r++)_l(e,r).matches!==null&&this.queries[r].setDirty()}},Na=class{constructor(e,r,n=null){this.flags=r,this.read=n,typeof e=="string"?this.predicate=ab(e):this.predicate=e}},La=class t{constructor(e=[]){this.queries=e}elementStart(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,r)}elementEnd(e){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(e)}embeddedTView(e){let r=null;for(let n=0;n<this.length;n++){let i=r!==null?r.length:0,s=this.getByIndex(n).embeddedTView(e,i);s&&(s.indexInDeclarationView=n,r!==null?r.push(s):r=[s])}return r!==null?new t(r):null}template(e,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,r)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ka=class t{constructor(e,r=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(e,r){this.isApplyingToNode(r)&&this.matchTNode(e,r)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,r){this.elementStart(e,r)}embeddedTView(e,r){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,r),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let r=this._declarationNodeIndex,n=e.parent;for(;n!==null&&n.type&8&&n.index!==r;)n=n.parent;return r===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(e,r){let n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){let s=n[i];this.matchTNodeWithReadOption(e,r,eb(r,s)),this.matchTNodeWithReadOption(e,r,us(r,e,s,!1,!1))}else n===Kr?r.type&4&&this.matchTNodeWithReadOption(e,r,-1):this.matchTNodeWithReadOption(e,r,us(r,e,n,!1,!1))}matchTNodeWithReadOption(e,r,n){if(n!==null){let i=this.metadata.read;if(i!==null)if(i===en||i===Cr||i===Kr&&r.type&4)this.addMatch(r.index,-2);else{let s=us(r,e,i,!1,!1);s!==null&&this.addMatch(r.index,s)}else this.addMatch(r.index,n)}}addMatch(e,r){this.matches===null?this.matches=[e,r]:this.matches.push(e,r)}};function eb(t,e){let r=t.localNames;if(r!==null){for(let n=0;n<r.length;n+=2)if(r[n]===e)return r[n+1]}return null}function tb(t,e){return t.type&11?_r(t,e):t.type&4?gl(t,e):null}function nb(t,e,r,n){return r===-1?tb(e,t):r===-2?rb(t,e,n):pr(t,t[Ce],r,e)}function rb(t,e,r){if(r===en)return _r(e,t);if(r===Kr)return gl(e,t);if(r===Cr)return Vh(e,t)}function Uh(t,e,r,n){let i=e[Xt].queries[n];if(i.matches===null){let s=t.data,o=r.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let d=s[c];a.push(nb(e,d,o[l+1],r.metadata.read))}}i.matches=a}return i.matches}function Fa(t,e,r,n){let i=t.queries.getByIndex(r),s=i.matches;if(s!==null){let o=Uh(t,e,i,r);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)n.push(o[a/2]);else{let c=s[a+1],d=e[-l];for(let u=yt;u<d.length;u++){let h=d[u];h[ni]===h[nt]&&Fa(h[Ce],h,c,n)}if(d[fr]!==null){let u=d[fr];for(let h=0;h<u.length;h++){let m=u[h];Fa(m[Ce],m,c,n)}}}}}return n}function ib(t,e){return t[Xt].queries[e].queryList}function sb(t,e,r){let n=new ma((r&4)===4);return $v(t,e,n,n.destroy),(e[Xt]??=new Oa).queries.push(new Ra(n))-1}function ob(t,e,r){let n=ii();return n.firstCreatePass&&(lb(n,new Na(t,e,r),-1),(e&2)===2&&(n.staticViewQueries=!0)),sb(n,at(),e)}function ab(t){return t.split(",").map(e=>e.trim())}function lb(t,e,r){t.queries===null&&(t.queries=new La),t.queries.track(new ka(e,r))}function _l(t,e){return t.queries.getByIndex(e)}function cb(t,e){let r=t[Ce],n=_l(r,e);return n.crossesNgTemplate?Fa(r,t,e,[]):Uh(r,t,n,e)}function ub(t){let e=[],r=new Map;function n(i){let s=r.get(i);if(!s){let o=t(i);r.set(i,s=o.then(pb))}return s}return Is.forEach((i,s)=>{let o=[];i.templateUrl&&o.push(n(i.templateUrl).then(c=>{i.template=c}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,d=i.styleUrls;i.styleUrls.forEach((u,h)=>{a.push(""),o.push(n(u).then(m=>{a[c+h]=m,d.splice(d.indexOf(u),1),d.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&o.push(n(i.styleUrl).then(c=>{a.push(c),i.styleUrl=void 0}));let l=Promise.all(o).then(()=>gb(s));e.push(l)}),hb(),Promise.all(e).then(()=>{})}var Is=new Map,db=new Set;function hb(){let t=Is;return Is=new Map,t}function fb(){return Is.size===0}function pb(t){return typeof t=="string"?t:t.text()}function gb(t){db.delete(t)}var gn=class{},Jr=class{};var xs=class extends gn{constructor(e,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ds(this);let i=vd(e);this._bootstrapComponents=dh(i.bootstrap),this._r3Injector=nh(e,r,[{provide:gn,useValue:this},{provide:Bs,useValue:this.componentFactoryResolver},...n],vt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ms=class extends Jr{constructor(e){super(),this.moduleType=e}create(e){return new xs(this.moduleType,e,[])}};function mb(t,e,r){return new xs(t,e,r)}var ja=class extends gn{constructor(e){super(),this.componentFactoryResolver=new Ds(this),this.instance=null;let r=new Gr([...e.providers,{provide:gn,useValue:this},{provide:Bs,useValue:this.componentFactoryResolver}],e.parent||Xa(),e.debugName,new Set(["environment"]));this.injector=r,e.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Vs(t,e,r=null){return new ja({providers:t,parent:e,debugName:r,runEnvironmentInitializers:!0}).injector}var Us=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new et(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vb(t,e,r){let n=t[e];return Object.is(n,r)?!1:(t[e]=r,!0)}function yb(t){return(t.flags&32)===32}function wl(t,e,r){let n=at(),i=xm();if(vb(n,i,e)){let s=ii(),o=Nm();qv(s,o,n,t,e,n[Bt],r,!1)}return wl}function Qu(t,e,r,n,i){let s=e.inputs,o=i?"class":"style";fl(t,r,s[o],o,n)}function bb(t,e,r,n,i,s){let o=e.consts,a=Pu(o,i),l=Eh(e,t,2,n,a);return Xv(e,r,l,Pu(o,s)),l.attrs!==null&&Ma(l,l.attrs,!1),l.mergedAttrs!==null&&Ma(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function Hs(t,e,r,n){let i=at(),s=ii(),o=hr+t,a=i[Bt],l=s.firstCreatePass?bb(o,s,i,e,r,n):s.data[o],c=_b(s,i,l,a,e,t);i[o]=c;let d=om(l);return Ja(l,!0),bh(a,c,l),!yb(l)&&km()&&Mv(s,i,c,l),bm()===0&&gr(c,i),_m(),d&&(Fv(s,i,l),Dh(s,l,i)),n!==null&&jv(i,l),Hs}function $s(){let t=Jt();kd()?Dm():(t=t.parent,Ja(t,!1));let e=t;Em(e)&&Am(),wm();let r=ii();return r.firstCreatePass&&(Wd(r,t),Dd(t)&&r.queries.elementEnd(t)),e.classesWithoutHost!=null&&Um(e)&&Qu(r,e,at(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Hm(e)&&Qu(r,e,at(),e.stylesWithoutHost,!1),$s}function Nn(t,e,r,n){return Hs(t,e,r,n),$s(),Nn}var _b=(t,e,r,n,i,s)=>(Fm(!0),hh(n,i,Lm()));var Ts="en-US";var wb=Ts;function Cb(t){typeof t=="string"&&(wb=t.toLowerCase().replace(/_/g,"-"))}function Hh(t,e,r){ob(t,e,r)}function Cl(t){let e=at(),r=ii(),n=Fd();el(n+1);let i=_l(r,n);if(t.dirty&&gm(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=cb(e,n);t.reset(s,tv),t.notifyOnChanges()}return!0}return!1}function El(){return ib(at(),Fd())}var Eb=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=_d(!1,n.type),s=i.length>0?Vs([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=pe({token:e,providedIn:"environment",factory:()=>new e(ge(bt))});let t=e;return t})();function $h(t){ml("NgStandalone"),t.getStandaloneInjector=e=>e.get(Eb).getOrCreateStandaloneInjector(t)}var os=null;function Ab(t){os!==null&&(t.defaultEncapsulation!==os.defaultEncapsulation||t.preserveWhitespaces!==os.preserveWhitespaces)||(os=t)}var Ws=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Al=new be(""),si=new be(""),zs=(()=>{let e=class e{constructor(n,i,s){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Sl||(Sb(s),s.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(n)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),n()},i)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:s})}whenStable(n,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,s){return[]}};e.\u0275fac=function(i){return new(i||e)(ge(Ne),ge(Gs),ge(si))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})(),Gs=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return Sl?.findTestabilityInTree(this,n,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function Sb(t){Sl=t}var Sl;function oi(t){return!!t&&typeof t.then=="function"}function Wh(t){return!!t&&typeof t.subscribe=="function"}var qs=new be(""),zh=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=oe(qs,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let s of this.appInits){let o=s();if(oi(o))n.push(o);else if(Wh(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});n.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(s=>{this.reject(s)}),n.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Dl=new be("");function Db(){$c(()=>{throw new fe(600,!1)})}function Ib(t){return t.isBoundToModule}function xb(t,e,r){try{let n=r();return oi(n)?n.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}function Gh(t,e){return Array.isArray(e)?e.reduce(Gh,t):ce(ce({},t),e)}var Er=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=oe(rh),this.afterRenderEffectManager=oe(bl),this.externalTestViews=new Set,this.beforeRender=new Je,this.afterTick=new Je,this.componentTypes=[],this.components=[],this.isStable=oe(Us).hasPendingTasks.pipe(De(n=>!n)),this._injector=oe(bt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){let s=n instanceof Ss;if(!this._injector.get(zh).done){let m=!s&&md(n),f=!1;throw new fe(405,f)}let a;s?a=n:a=this._injector.get(Bs).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=Ib(a)?void 0:this._injector.get(gn),c=i||a.selector,d=a.create($t.NULL,[],c,l),u=d.location.nativeElement,h=d.injector.get(Al,null);return h?.registerApplication(u),d.onDestroy(()=>{this.detachView(d.hostView),hs(this.components,d),h?.unregisterApplication(u)}),this._loadComponent(d),d}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new fe(101,!1);let i=Oe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,Oe(i)}}detectChangesInAttachedViews(n){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===Oh)throw new fe(103,!1);if(n){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:l}of this._views)Mb(a,o,l)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Ba(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Ba(o))))break}}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;hs(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(Dl,[]);[...this._bootstrapListeners,...i].forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>hs(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new fe(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hs(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function Mb(t,e,r){!e&&!Ba(t)||Tb(t,r,e)}function Ba(t){return Za(t)}function Tb(t,e,r){let n;r?(n=0,t[me]|=1024):t[me]&64?n=0:n=1,Nh(t,e,n)}var Va=class{constructor(e,r){this.ngModuleFactory=e,this.componentFactories=r}},Ys=(()=>{let e=class e{compileModuleSync(n){return new Ms(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),s=vd(n),o=dh(s.declarations).reduce((a,l)=>{let c=hn(l);return c&&a.push(new mr(c)),a},[]);return new Va(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pb=new be("");function Rb(t,e,r){let n=new Ms(r);return Promise.resolve(n)}function Ku(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var Ob=(()=>{let e=class e{constructor(){this.zone=oe(Ne),this.applicationRef=oe(Er)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Nb(t){return[{provide:Ne,useFactory:t},{provide:ur,multi:!0,useFactory:()=>{let e=oe(Ob,{optional:!0});return()=>e.initialize()}},{provide:ur,multi:!0,useFactory:()=>{let e=oe(Fb);return()=>{e.initialize()}}},{provide:rh,useFactory:Lb}]}function Lb(){let t=oe(Ne),e=oe(Ut);return r=>t.runOutsideAngular(()=>e.handleError(r))}function kb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Fb=(()=>{let e=class e{constructor(){this.subscription=new Ge,this.initialized=!1,this.zone=oe(Ne),this.pendingTasks=oe(Us)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ne.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jb(){return typeof $localize<"u"&&$localize.locale||Ts}var Il=new be("",{providedIn:"root",factory:()=>oe(Il,we.Optional|we.SkipSelf)||jb()});var qh=new be(""),Yh=(()=>{let e=class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){let s=By(i?.ngZone,kb({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{let o=mb(n.moduleType,this.injector,Nb(()=>s)),a=o.injector.get(Ut,null);return s.runOutsideAngular(()=>{let l=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{hs(this._modules,o),l.unsubscribe()})}),xb(a,s,()=>{let l=o.injector.get(zh);return l.runInitializers(),l.donePromise.then(()=>{let c=o.injector.get(Il,Ts);return Cb(c||Ts),this._moduleDoBootstrap(o),o})})})}bootstrapModule(n,i=[]){let s=Gh({},i);return Rb(this.injector,s,n).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(n){let i=n.injector.get(Er);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(s=>i.bootstrap(s));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(i);else throw new fe(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let n=this._injector.get(qh,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(ge($t))},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),$r=null,Xh=new be("");function Bb(t){if($r&&!$r.get(Xh,!1))throw new fe(400,!1);Db(),$r=t;let e=t.get(Yh);return Hb(t),e}function xl(t,e,r=[]){let n=`Platform: ${e}`,i=new be(n);return(s=[])=>{let o=Qh();if(!o||o.injector.get(Xh,!1)){let a=[...r,...s,{provide:i,useValue:!0}];t?t(a):Bb(Vb(a,n))}return Ub(i)}}function Vb(t=[],e){return $t.create({name:e,providers:[{provide:Os,useValue:"platform"},{provide:qh,useValue:new Set([()=>$r=null])},...t]})}function Ub(t){let e=Qh();if(!e)throw new fe(401,!1);return e}function Qh(){return $r?.get(Yh)??null}function Hb(t){t.get(ol,null)?.forEach(r=>r())}var ai=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$b;let t=e;return t})();function $b(t){return Wb(Jt(),at(),(t&16)===16)}function Wb(t,e,r){if(Ls(t)&&!r){let n=br(t.index,e);return new Rn(n,n)}else if(t.type&47){let n=e[Vt];return new Rn(n,e)}return null}var Kh=xl(null,"core",[]),Zh=(()=>{let e=class e{constructor(n){}};e.\u0275fac=function(i){return new(i||e)(ge(Er))},e.\u0275mod=wt({type:e}),e.\u0275inj=_t({});let t=e;return t})();function Jh(t){let e=hn(t);if(!e)return null;let r=new mr(e);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var sf=null;function kn(){return sf}function of(t){sf??=t}var Xs=class{};var dt=new be(""),Pl=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:()=>oe(Xb),providedIn:"platform"});let t=e;return t})(),af=new be(""),Xb=(()=>{let e=class e extends Pl{constructor(){super(),this._doc=oe(dt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kn().getBaseHref(this._doc)}onPopState(n){let i=kn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=kn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,s){this._history.pushState(n,i,s)}replaceState(n,i,s){this._history.replaceState(n,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Rl(t,e){if(t.length==0)return e;if(e.length==0)return t;let r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,r==2?t+e.substring(1):r==1?t+e:t+"/"+e}function ef(t){let e=t.match(/#|\?|$/),r=e&&e.index||t.length,n=r-(t[r-1]==="/"?1:0);return t.slice(0,n)+t.slice(r)}function tn(t){return t&&t[0]!=="?"?"?"+t:t}var Fn=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:()=>oe(Ol),providedIn:"root"});let t=e;return t})(),lf=new be(""),Ol=(()=>{let e=class e extends Fn{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??oe(dt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Rl(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+tn(this._platformLocation.search),s=this._platformLocation.hash;return s&&n?`${i}${s}`:i}pushState(n,i,s,o){let a=this.prepareExternalUrl(s+tn(o));this._platformLocation.pushState(n,i,a)}replaceState(n,i,s,o){let a=this.prepareExternalUrl(s+tn(o));this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(i){return new(i||e)(ge(Pl),ge(lf,8))},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cf=(()=>{let e=class e extends Fn{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=Rl(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,s,o){let a=this.prepareExternalUrl(s+tn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,i,a)}replaceState(n,i,s,o){let a=this.prepareExternalUrl(s+tn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(i){return new(i||e)(ge(Pl),ge(lf,8))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})(),Ar=(()=>{let e=class e{constructor(n){this._subject=new Ue,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=Zb(ef(tf(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+tn(i))}normalize(n){return e.stripTrailingSlash(Kb(this._basePath,tf(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",s=null){this._locationStrategy.pushState(s,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+tn(i)),s)}replaceState(n,i="",s=null){this._locationStrategy.replaceState(s,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+tn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(s=>s(n,i))}subscribe(n,i,s){return this._subject.subscribe({next:n,error:i,complete:s})}};e.normalizeQueryParams=tn,e.joinWithSlash=Rl,e.stripTrailingSlash=ef,e.\u0275fac=function(i){return new(i||e)(ge(Fn))},e.\u0275prov=pe({token:e,factory:()=>Qb(),providedIn:"root"});let t=e;return t})();function Qb(){return new Ar(ge(Fn))}function Kb(t,e){if(!t||!e.startsWith(t))return e;let r=e.substring(t.length);return r===""||["/",";","?","#"].includes(r[0])?r:e}function tf(t){return t.replace(/\/index.html$/,"")}function Zb(t){if(new RegExp("^(https?:)?//").test(t)){let[,r]=t.split(/\/\/[^\/]+/);return r}return t}function uf(t,e){e=encodeURIComponent(e);for(let r of t.split(";")){let n=r.indexOf("="),[i,s]=n==-1?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var df=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=wt({type:e}),e.\u0275inj=_t({});let t=e;return t})(),Nl="browser",Jb="server";function e_(t){return t===Nl}function Ll(t){return t===Jb}var hf=(()=>{let e=class e{};e.\u0275prov=pe({token:e,providedIn:"root",factory:()=>e_(oe(mn))?new Ml(oe(dt),window):new Tl});let t=e;return t})(),Ml=class{constructor(e,r){this.document=e,this.window=r,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let r=t_(this.document,e);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let r=e.getBoundingClientRect(),n=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],i-s[1])}};function t_(t,e){let r=t.getElementById(e)||t.getElementsByName(e)[0];if(r)return r;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=n.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=n.nextNode()}}return null}var Tl=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Qs=class{};var jl=class extends Xs{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Bl=class t extends jl{static makeCurrent(){of(new t)}onAndCancel(e,r,n){return e.addEventListener(r,n),()=>{e.removeEventListener(r,n)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return r=r||this.getDefaultDocument(),r.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return r==="window"?window:r==="document"?e:r==="body"?e.body:null}getBaseHref(e){let r=r_();return r==null?null:i_(r)}resetBaseElement(){li=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return uf(document.cookie,e)}},li=null;function r_(){return li=li||document.querySelector("base"),li?li.getAttribute("href"):null}function i_(t){return new URL(t,document.baseURI).pathname}var Vl=class{addToWindow(e){mt.getAngularTestability=(n,i=!0)=>{let s=e.findTestabilityInTree(n,i);if(s==null)throw new fe(5103,!1);return s},mt.getAllAngularTestabilities=()=>e.getAllTestabilities(),mt.getAllAngularRootElements=()=>e.getAllRootElements();let r=n=>{let i=mt.getAllAngularTestabilities(),s=i.length,o=function(){s--,s==0&&n()};i.forEach(a=>{a.whenStable(o)})};mt.frameworkStabilizers||(mt.frameworkStabilizers=[]),mt.frameworkStabilizers.push(r)}findTestabilityInTree(e,r,n){if(r==null)return null;let i=e.getTestability(r);return i??(n?kn().isShadowRoot(r)?this.findTestabilityInTree(e,r.host,!0):this.findTestabilityInTree(e,r.parentElement,!0):null)}},s_=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})(),Ul=new be(""),mf=(()=>{let e=class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,s){return this._findPluginFor(i).addEventListener(n,i,s)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new fe(5101,!1);return this._eventNameToPlugin.set(n,i),i}};e.\u0275fac=function(i){return new(i||e)(ge(Ul),ge(Ne))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})(),Ks=class{constructor(e){this._doc=e}},kl="ng-app-id",vf=(()=>{let e=class e{constructor(n,i,s,o={}){this.doc=n,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ll(o),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(s=>s.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${kl}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(n,i){let s=this.styleRef;if(s.has(n)){let o=s.get(n);return o.usage+=i,o.usage}return s.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===n)return s.delete(i),o.removeAttribute(kl),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(kl,this.appId),n.appendChild(a),a}}addStyleToHost(n,i){let s=this.getStyleElement(n,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ge(dt),ge(ks),ge(al,8),ge(mn))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})(),Fl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$l=/%COMP%/g,yf="%COMP%",o_=`_nghost-${yf}`,a_=`_ngcontent-${yf}`,l_=!0,c_=new be("",{providedIn:"root",factory:()=>l_});function u_(t){return a_.replace($l,t)}function d_(t){return o_.replace($l,t)}function bf(t,e){return e.map(r=>r.replace($l,t))}var ff=(()=>{let e=class e{constructor(n,i,s,o,a,l,c,d=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ll(l),this.defaultRenderer=new ci(n,a,c,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ft.ShadowDom&&(i=Fe(ce({},i),{encapsulation:Ft.Emulated}));let s=this.getOrCreateRenderer(n,i);return s instanceof Zs?s.applyToHost(n):s instanceof ui&&s.applyStyles(),s}getOrCreateRenderer(n,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Ft.Emulated:o=new Zs(c,d,i,this.appId,u,a,l,h);break;case Ft.ShadowDom:return new Hl(c,d,n,i,a,l,this.nonce,h);default:o=new ui(c,d,i,u,a,l,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ge(mf),ge(vf),ge(ks),ge(c_),ge(dt),ge(mn),ge(Ne),ge(al))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})(),ci=class{constructor(e,r,n,i){this.eventManager=e,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(Fl[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(pf(e)?e.content:e).appendChild(r)}insertBefore(e,r,n){e&&(pf(e)?e.content:e).insertBefore(r,n)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new fe(-5104,!1);return r||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,n,i){if(i){r=i+":"+r;let s=Fl[i];s?e.setAttributeNS(s,r,n):e.setAttribute(r,n)}else e.setAttribute(r,n)}removeAttribute(e,r,n){if(n){let i=Fl[n];i?e.removeAttributeNS(i,r):e.removeAttribute(`${n}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,n,i){i&(On.DashCase|On.Important)?e.style.setProperty(r,n,i&On.Important?"important":""):e.style[r]=n}removeStyle(e,r,n){n&On.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,n){e!=null&&(e[r]=n)}setValue(e,r){e.nodeValue=r}listen(e,r,n){if(typeof e=="string"&&(e=kn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(n))}decoratePreventDefault(e){return r=>{if(r==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))===!1&&r.preventDefault()}}};function pf(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Hl=class extends ci{constructor(e,r,n,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=bf(i.id,i.styles);for(let d of c){let u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,n){return super.insertBefore(this.nodeOrShadowRoot(e),r,n)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ui=class extends ci{constructor(e,r,n,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=l?bf(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Zs=class extends ui{constructor(e,r,n,i,s,o,a,l){let c=i+"-"+n.id;super(e,r,n,s,o,a,l,c),this.contentAttr=u_(c),this.hostAttr=d_(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){let n=super.createElement(e,r);return super.setAttribute(n,this.contentAttr,""),n}},h_=(()=>{let e=class e extends Ks{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,s){return n.addEventListener(i,s,!1),()=>this.removeEventListener(n,i,s)}removeEventListener(n,i,s){return n.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(ge(dt))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})(),gf=["alt","control","meta","shift"],f_={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},p_={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},g_=(()=>{let e=class e extends Ks{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kn().onAndCancel(n,o.domEventName,a))}static parseEventName(n){let i=n.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),gf.forEach(d=>{let u=i.indexOf(d);u>-1&&(i.splice(u,1),a+=d+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(n,i){let s=f_[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(s=n.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),gf.forEach(a=>{if(a!==s){let l=p_[a];l(n)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(n,i,s){return o=>{e.matchEventFullKeyCode(o,n)&&s.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(i){return new(i||e)(ge(dt))},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})();function m_(){Bl.makeCurrent()}function v_(){return new Ut}function y_(){return ch(document),document}var b_=[{provide:mn,useValue:Nl},{provide:ol,useValue:m_,multi:!0},{provide:dt,useFactory:y_,deps:[]}],_f=xl(Kh,"browser",b_),__=new be(""),w_=[{provide:si,useClass:Vl,deps:[]},{provide:Al,useClass:zs,deps:[Ne,Gs,si]},{provide:zs,useClass:zs,deps:[Ne,Gs,si]}],C_=[{provide:Os,useValue:"root"},{provide:Ut,useFactory:v_,deps:[]},{provide:Ul,useClass:h_,multi:!0,deps:[dt,Ne,mn]},{provide:Ul,useClass:g_,multi:!0,deps:[dt]},ff,vf,mf,{provide:Zr,useExisting:ff},{provide:Qs,useClass:s_,deps:[]},[]],wf=(()=>{let e=class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:ks,useValue:n.appId}]}}};e.\u0275fac=function(i){return new(i||e)(ge(__,12))},e.\u0275mod=wt({type:e}),e.\u0275inj=_t({providers:[...C_,...w_],imports:[df,Zh]});let t=e;return t})();var Cf=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(i){return new(i||e)(ge(dt))},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _e="primary",Si=Symbol("RouteTitle"),Yl=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function Mr(t){return new Yl(t)}function E_(t,e,r){let n=r.path.split("/");if(n.length>t.length||r.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let i={};for(let s=0;s<n.length;s++){let o=n[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function A_(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!Wt(t[r],e[r]))return!1;return!0}function Wt(t,e){let r=t?Xl(t):void 0,n=e?Xl(e):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let s=0;s<r.length;s++)if(i=r[s],!Rf(t[i],e[i]))return!1;return!0}function Xl(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Rf(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let r=[...t].sort(),n=[...e].sort();return r.every((i,s)=>n[s]===i)}else return t===e}function Of(t){return t.length>0?t[t.length-1]:null}function _n(t){return Vo(t)?t:oi(t)?Be(Promise.resolve(t)):ve(t)}var S_={exact:Lf,subset:kf},Nf={exact:D_,subset:I_,ignored:()=>!0};function Af(t,e,r){return S_[r.paths](t.root,e.root,r.matrixParams)&&Nf[r.queryParams](t.queryParams,e.queryParams)&&!(r.fragment==="exact"&&t.fragment!==e.fragment)}function D_(t,e){return Wt(t,e)}function Lf(t,e,r){if(!Bn(t.segments,e.segments)||!to(t.segments,e.segments,r)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!Lf(t.children[n],e.children[n],r))return!1;return!0}function I_(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>Rf(t[r],e[r]))}function kf(t,e,r){return Ff(t,e,e.segments,r)}function Ff(t,e,r,n){if(t.segments.length>r.length){let i=t.segments.slice(0,r.length);return!(!Bn(i,r)||e.hasChildren()||!to(i,r,n))}else if(t.segments.length===r.length){if(!Bn(t.segments,r)||!to(t.segments,r,n))return!1;for(let i in e.children)if(!t.children[i]||!kf(t.children[i],e.children[i],n))return!1;return!0}else{let i=r.slice(0,t.segments.length),s=r.slice(t.segments.length);return!Bn(t.segments,i)||!to(t.segments,i,n)||!t.children[_e]?!1:Ff(t.children[_e],e,s,n)}}function to(t,e,r){return e.every((n,i)=>Nf[r](t[i].parameters,n.parameters))}var vn=class{constructor(e=new Te([],{}),r={},n=null){this.root=e,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Mr(this.queryParams),this._queryParamMap}toString(){return T_.serialize(this)}},Te=class{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return no(this)}},jn=class{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap??=Mr(this.parameters),this._parameterMap}toString(){return Bf(this)}};function x_(t,e){return Bn(t,e)&&t.every((r,n)=>Wt(r.parameters,e[n].parameters))}function Bn(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.path===e[n].path)}function M_(t,e){let r=[];return Object.entries(t.children).forEach(([n,i])=>{n===_e&&(r=r.concat(e(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==_e&&(r=r.concat(e(i,n)))}),r}var Di=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:()=>new vi,providedIn:"root"});let t=e;return t})(),vi=class{parse(e){let r=new Kl(e);return new vn(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){let r=`/${di(e.root,!0)}`,n=O_(e.queryParams),i=typeof e.fragment=="string"?`#${P_(e.fragment)}`:"";return`${r}${n}${i}`}},T_=new vi;function no(t){return t.segments.map(e=>Bf(e)).join("/")}function di(t,e){if(!t.hasChildren())return no(t);if(e){let r=t.children[_e]?di(t.children[_e],!1):"",n=[];return Object.entries(t.children).forEach(([i,s])=>{i!==_e&&n.push(`${i}:${di(s,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{let r=M_(t,(n,i)=>i===_e?[di(t.children[_e],!1)]:[`${i}:${di(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[_e]!=null?`${no(t)}/${r[0]}`:`${no(t)}/(${r.join("//")})`}}function jf(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Js(t){return jf(t).replace(/%3B/gi,";")}function P_(t){return encodeURI(t)}function Ql(t){return jf(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ro(t){return decodeURIComponent(t)}function Sf(t){return ro(t.replace(/\+/g,"%20"))}function Bf(t){return`${Ql(t.path)}${R_(t.parameters)}`}function R_(t){return Object.entries(t).map(([e,r])=>`;${Ql(e)}=${Ql(r)}`).join("")}function O_(t){let e=Object.entries(t).map(([r,n])=>Array.isArray(n)?n.map(i=>`${Js(r)}=${Js(i)}`).join("&"):`${Js(r)}=${Js(n)}`).filter(r=>r);return e.length?`?${e.join("&")}`:""}var N_=/^[^\/()?;#]+/;function Wl(t){let e=t.match(N_);return e?e[0]:""}var L_=/^[^\/()?;=#]+/;function k_(t){let e=t.match(L_);return e?e[0]:""}var F_=/^[^=?&#]+/;function j_(t){let e=t.match(F_);return e?e[0]:""}var B_=/^[^&#]+/;function V_(t){let e=t.match(B_);return e?e[0]:""}var Kl=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(n[_e]=new Te(e,r)),n}parseSegment(){let e=Wl(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new fe(4009,!1);return this.capture(e),new jn(ro(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let r=k_(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let i=Wl(this.remaining);i&&(n=i,this.capture(n))}e[ro(r)]=ro(n)}parseQueryParam(e){let r=j_(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let o=V_(this.remaining);o&&(n=o,this.capture(n))}let i=Sf(r),s=Sf(n);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Wl(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new fe(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=_e);let o=this.parseChildren();r[s]=Object.keys(o).length===1?o[_e]:new Te([],o),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new fe(4011,!1)}};function Vf(t){return t.segments.length>0?new Te([],{[_e]:t}):t}function Uf(t){let e={};for(let[n,i]of Object.entries(t.children)){let s=Uf(i);if(n===_e&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[n]=s)}let r=new Te(t.segments,e);return U_(r)}function U_(t){if(t.numberOfChildren===1&&t.children[_e]){let e=t.children[_e];return new Te(t.segments.concat(e.segments),e.children)}return t}function Tr(t){return t instanceof vn}function H_(t,e,r=null,n=null){let i=Hf(t);return $f(i,e,r,n)}function Hf(t){let e;function r(s){let o={};for(let l of s.children){let c=r(l);o[l.outlet]=c}let a=new Te(s.url,o);return s===t&&(e=a),a}let n=r(t.root),i=Vf(n);return e??i}function $f(t,e,r,n){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return zl(i,i,i,r,n);let s=$_(e);if(s.toRoot())return zl(i,i,new Te([],{}),r,n);let o=W_(s,i,t),a=o.processChildren?pi(o.segmentGroup,o.index,s.commands):zf(o.segmentGroup,o.index,s.commands);return zl(i,o.segmentGroup,a,r,n)}function io(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function yi(t){return typeof t=="object"&&t!=null&&t.outlets}function zl(t,e,r,n,i){let s={};n&&Object.entries(n).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`});let o;t===e?o=r:o=Wf(t,e,r);let a=Vf(Uf(o));return new vn(a,s,i)}function Wf(t,e,r){let n={};return Object.entries(t.children).forEach(([i,s])=>{s===e?n[i]=r:n[i]=Wf(s,e,r)}),new Te(t.segments,n)}var so=class{constructor(e,r,n){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&io(n[0]))throw new fe(4003,!1);let i=n.find(yi);if(i&&i!==Of(n))throw new fe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function $_(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new so(!0,0,t);let e=0,r=!1,n=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?r=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new so(r,e,n)}var Ir=class{constructor(e,r,n){this.segmentGroup=e,this.processChildren=r,this.index=n}};function W_(t,e,r){if(t.isAbsolute)return new Ir(e,!0,0);if(!r)return new Ir(e,!1,NaN);if(r.parent===null)return new Ir(r,!0,0);let n=io(t.commands[0])?0:1,i=r.segments.length-1+n;return z_(r,i,t.numberOfDoubleDots)}function z_(t,e,r){let n=t,i=e,s=r;for(;s>i;){if(s-=i,n=n.parent,!n)throw new fe(4005,!1);i=n.segments.length}return new Ir(n,!1,i-s)}function G_(t){return yi(t[0])?t[0].outlets:{[_e]:t}}function zf(t,e,r){if(t??=new Te([],{}),t.segments.length===0&&t.hasChildren())return pi(t,e,r);let n=q_(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let s=new Te(t.segments.slice(0,n.pathIndex),{});return s.children[_e]=new Te(t.segments.slice(n.pathIndex),t.children),pi(s,0,i)}else return n.match&&i.length===0?new Te(t.segments,{}):n.match&&!t.hasChildren()?Zl(t,e,r):n.match?pi(t,0,i):Zl(t,e,r)}function pi(t,e,r){if(r.length===0)return new Te(t.segments,{});{let n=G_(r),i={};if(Object.keys(n).some(s=>s!==_e)&&t.children[_e]&&t.numberOfChildren===1&&t.children[_e].segments.length===0){let s=pi(t.children[_e],e,r);return new Te(t.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=zf(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{n[s]===void 0&&(i[s]=o)}),new Te(t.segments,i)}}function q_(t,e,r){let n=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=r.length)return s;let o=t.segments[i],a=r[n];if(yi(a))break;let l=`${a}`,c=n<r.length-1?r[n+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!If(l,c,o))return s;n+=2}else{if(!If(l,{},o))return s;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function Zl(t,e,r){let n=t.segments.slice(0,e),i=0;for(;i<r.length;){let s=r[i];if(yi(s)){let l=Y_(s.outlets);return new Te(n,l)}if(i===0&&io(r[0])){let l=t.segments[e];n.push(new jn(l.path,Df(r[0]))),i++;continue}let o=yi(s)?s.outlets[_e]:`${s}`,a=i<r.length-1?r[i+1]:null;o&&a&&io(a)?(n.push(new jn(o,Df(a))),i+=2):(n.push(new jn(o,{})),i++)}return new Te(n,{})}function Y_(t){let e={};return Object.entries(t).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[r]=Zl(new Te([],{}),0,n))}),e}function Df(t){let e={};return Object.entries(t).forEach(([r,n])=>e[r]=`${n}`),e}function If(t,e,r){return t==r.path&&Wt(e,r.parameters)}var gi="imperative",Ke=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ke||{}),It=class{constructor(e,r){this.id=e,this.url=r}},Pr=class extends It{constructor(e,r,n="imperative",i=null){super(e,r),this.type=Ke.NavigationStart,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},nn=class extends It{constructor(e,r,n){super(e,r),this.urlAfterRedirects=n,this.type=Ke.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Et=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Et||{}),oo=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(oo||{}),yn=class extends It{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=Ke.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},bn=class extends It{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=Ke.NavigationSkipped}},bi=class extends It{constructor(e,r,n,i){super(e,r),this.error=n,this.target=i,this.type=Ke.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ao=class extends It{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Ke.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jl=class extends It{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Ke.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ec=class extends It{constructor(e,r,n,i,s){super(e,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=s,this.type=Ke.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},tc=class extends It{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Ke.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nc=class extends It{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=Ke.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rc=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ic=class{constructor(e){this.route=e,this.type=Ke.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sc=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},oc=class{constructor(e){this.snapshot=e,this.type=Ke.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ac=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lc=class{constructor(e){this.snapshot=e,this.type=Ke.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lo=class{constructor(e,r,n){this.routerEvent=e,this.position=r,this.anchor=n,this.type=Ke.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},_i=class{},wi=class{constructor(e){this.url=e}};var cc=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ii,this.attachRef=null}},Ii=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){let s=this.getOrCreateContext(n);s.outlet=i,this.contexts.set(n,s)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new cc,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),co=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){let r=uc(e,this._root);return r?r.children.map(n=>n.value):[]}firstChild(e){let r=uc(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){let r=dc(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return dc(e,this._root).map(r=>r.value)}};function uc(t,e){if(t===e.value)return e;for(let r of e.children){let n=uc(t,r);if(n)return n}return null}function dc(t,e){if(t===e.value)return[e];for(let r of e.children){let n=dc(t,r);if(n.length)return n.unshift(e),n}return[]}var Ct=class{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}};function Dr(t){let e={};return t&&t.children.forEach(r=>e[r.value.outlet]=r),e}var uo=class extends co{constructor(e,r){super(e),this.snapshot=r,wc(this,e)}toString(){return this.snapshot.toString()}};function Gf(t){let e=X_(t),r=new et([new jn("",{})]),n=new et({}),i=new et({}),s=new et({}),o=new et(""),a=new Rr(r,n,s,o,i,_e,t,e.root);return a.snapshot=e.root,new uo(new Ct(a,[]),e)}function X_(t){let e={},r={},n={},i="",s=new Ci([],e,n,i,r,_e,t,null,{});return new ho("",new Ct(s,[]))}var Rr=class{constructor(e,r,n,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(De(c=>c[Si]))??ve(void 0),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(De(e=>Mr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(De(e=>Mr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _c(t,e,r="emptyOnly"){let n,{routeConfig:i}=t;return e!==null&&(r==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:ce(ce({},e.params),t.params),data:ce(ce({},e.data),t.data),resolve:ce(ce(ce(ce({},t.data),e.data),i?.data),t._resolvedData)}:n={params:ce({},t.params),data:ce({},t.data),resolve:ce(ce({},t.data),t._resolvedData??{})},i&&Yf(i)&&(n.resolve[Si]=i.title),n}var Ci=class{get title(){return this.data?.[Si]}constructor(e,r,n,i,s,o,a,l,c){this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Mr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Mr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${r}')`}},ho=class extends co{constructor(e,r){super(r),this.url=e,wc(this,r)}toString(){return qf(this._root)}};function wc(t,e){e.value._routerState=t,e.children.forEach(r=>wc(t,r))}function qf(t){let e=t.children.length>0?` { ${t.children.map(qf).join(", ")} } `:"";return`${t.value}${e}`}function Gl(t){if(t.snapshot){let e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,Wt(e.queryParams,r.queryParams)||t.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&t.fragmentSubject.next(r.fragment),Wt(e.params,r.params)||t.paramsSubject.next(r.params),A_(e.url,r.url)||t.urlSubject.next(r.url),Wt(e.data,r.data)||t.dataSubject.next(r.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function hc(t,e){let r=Wt(t.params,e.params)&&x_(t.url,e.url),n=!t.parent!=!e.parent;return r&&!n&&(!t.parent||hc(t.parent,e.parent))}function Yf(t){return typeof t.title=="string"||t.title===null}var Q_=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=_e,this.activateEvents=new Ue,this.deactivateEvents=new Ue,this.attachEvents=new Ue,this.detachEvents=new Ue,this.parentContexts=oe(Ii),this.location=oe(Cr),this.changeDetector=oe(ai),this.environmentInjector=oe(bt),this.inputBinder=oe(vo,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:s}=n.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new fe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new fe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new fe(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new fe(4013,!1);this._activatedRoute=n;let s=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new fc(n,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=qa({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yr]});let t=e;return t})(),fc=class{constructor(e,r,n){this.route=e,this.childContexts=r,this.parent=n}get(e,r){return e===Rr?this.route:e===Ii?this.childContexts:this.parent.get(e,r)}},vo=new be(""),xf=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,s=Vr([i.queryParams,i.params,i.data]).pipe(At(([o,a,l],c)=>(l=ce(ce(ce({},o),a),l),c===0?ve(l):Promise.resolve(l)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let a=Jh(i.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(n,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})();function K_(t,e,r){let n=Ei(t,e._root,r?r._root:void 0);return new uo(n,e)}function Ei(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){let n=r.value;n._futureSnapshot=e.value;let i=Z_(t,e,r);return new Ct(n,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ei(t,a)),o}}let n=J_(e.value),i=e.children.map(s=>Ei(t,s));return new Ct(n,i)}}function Z_(t,e,r){return e.children.map(n=>{for(let i of r.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return Ei(t,n,i);return Ei(t,n)})}function J_(t){return new Rr(new et(t.url),new et(t.params),new et(t.queryParams),new et(t.fragment),new et(t.data),t.outlet,t.component,t)}var Xf="ngNavigationCancelingError";function Qf(t,e){let{redirectTo:r,navigationBehaviorOptions:n}=Tr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Kf(!1,Et.Redirect);return i.url=r,i.navigationBehaviorOptions=n,i}function Kf(t,e){let r=new Error(`NavigationCancelingError: ${t||""}`);return r[Xf]=!0,r.cancellationCode=e,r}function e0(t){return Zf(t)&&Tr(t.url)}function Zf(t){return!!t&&t[Xf]}var t0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=vr({type:e,selectors:[["ng-component"]],standalone:!0,features:[$h],decls:1,vars:0,template:function(i,s){i&1&&Nn(0,"router-outlet")},dependencies:[Q_],encapsulation:2});let t=e;return t})();function n0(t,e){return t.providers&&!t._injector&&(t._injector=Vs(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Cc(t){let e=t.children&&t.children.map(Cc),r=e?Fe(ce({},t),{children:e}):ce({},t);return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==_e&&(r.component=t0),r}function zt(t){return t.outlet||_e}function r0(t,e){let r=t.filter(n=>zt(n)===e);return r.push(...t.filter(n=>zt(n)!==e)),r}function xi(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var i0=(t,e,r,n)=>De(i=>(new pc(e,i.targetRouterState,i.currentRouterState,r,n).activate(t),i)),pc=class{constructor(e,r,n,i,s){this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,e),Gl(this.futureState.root),this.activateChildRoutes(r,n,e)}deactivateChildRoutes(e,r,n){let i=Dr(r);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],n),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,r,n){let i=e.value,s=r?r.value:null;if(i===s)if(i.component){let o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(e,r,o.children)}else this.deactivateChildRoutes(e,r,n);else s&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,s=Dr(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,s=Dr(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,r,n){let i=Dr(r);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],n),this.forwardEvent(new lc(s.value.snapshot))}),e.children.length&&this.forwardEvent(new oc(e.value.snapshot))}activateRoutes(e,r,n){let i=e.value,s=r?r.value:null;if(Gl(i),i===s)if(i.component){let o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,o.children)}else this.activateChildRoutes(e,r,n);else if(i.component){let o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Gl(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=xi(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}},fo=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},xr=class{constructor(e,r){this.component=e,this.route=r}};function s0(t,e,r){let n=t._root,i=e?e._root:null;return hi(n,i,r,[n.value])}function o0(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Nr(t,e){let r=Symbol(),n=e.get(t,r);return n===r?typeof t=="function"&&!td(t)?t:e.get(t):n}function hi(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Dr(e);return t.children.forEach(o=>{a0(o,s[o.value.outlet],r,n.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>mi(a,r.getContext(o),i)),i}function a0(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=r?r.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=l0(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new fo(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?hi(t,e,a?a.children:null,n,i):hi(t,e,r,n,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xr(a.outlet.component,o))}else o&&mi(e,a,i),i.canActivateChecks.push(new fo(n)),s.component?hi(t,null,a?a.children:null,n,i):hi(t,null,r,n,i);return i}function l0(t,e,r){if(typeof r=="function")return r(t,e);switch(r){case"pathParamsChange":return!Bn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Bn(t.url,e.url)||!Wt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hc(t,e)||!Wt(t.queryParams,e.queryParams);case"paramsChange":default:return!hc(t,e)}}function mi(t,e,r){let n=Dr(t),i=t.value;Object.entries(n).forEach(([s,o])=>{i.component?e?mi(o,e.children.getContext(s),r):mi(o,null,r):mi(o,e,r)}),i.component?e&&e.outlet&&e.outlet.isActivated?r.canDeactivateChecks.push(new xr(e.outlet.component,i)):r.canDeactivateChecks.push(new xr(null,i)):r.canDeactivateChecks.push(new xr(null,i))}function Mi(t){return typeof t=="function"}function c0(t){return typeof t=="boolean"}function u0(t){return t&&Mi(t.canLoad)}function d0(t){return t&&Mi(t.canActivate)}function h0(t){return t&&Mi(t.canActivateChild)}function f0(t){return t&&Mi(t.canDeactivate)}function p0(t){return t&&Mi(t.canMatch)}function Jf(t){return t instanceof qt||t?.name==="EmptyError"}var eo=Symbol("INITIAL_VALUE");function Or(){return At(t=>Vr(t.map(e=>e.pipe(Yt(1),zo(eo)))).pipe(De(e=>{for(let r of e)if(r!==!0){if(r===eo)return eo;if(r===!1||r instanceof vn)return r}return!0}),ut(e=>e!==eo),Yt(1)))}function g0(t,e){return We(r=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=r;return o.length===0&&s.length===0?ve(Fe(ce({},r),{guardsResult:!0})):m0(o,n,i,t).pipe(We(a=>a&&c0(a)?v0(n,s,t,e):ve(a)),De(a=>Fe(ce({},r),{guardsResult:a})))})}function m0(t,e,r,n){return Be(t).pipe(We(i=>C0(i.component,i.route,r,e,n)),Nt(i=>i!==!0,!0))}function v0(t,e,r,n){return Be(e).pipe(In(i=>er(b0(i.route.parent,n),y0(i.route,n),w0(t,i.path,r),_0(t,i.route,r))),Nt(i=>i!==!0,!0))}function y0(t,e){return t!==null&&e&&e(new ac(t)),ve(!0)}function b0(t,e){return t!==null&&e&&e(new sc(t)),ve(!0)}function _0(t,e,r){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return ve(!0);let i=n.map(s=>rs(()=>{let o=xi(e)??r,a=Nr(s,o),l=d0(a)?a.canActivate(e,t):Qt(o,()=>a(e,t));return _n(l).pipe(Nt())}));return ve(i).pipe(Or())}function w0(t,e,r){let n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>o0(o)).filter(o=>o!==null).map(o=>rs(()=>{let a=o.guards.map(l=>{let c=xi(o.node)??r,d=Nr(l,c),u=h0(d)?d.canActivateChild(n,t):Qt(c,()=>d(n,t));return _n(u).pipe(Nt())});return ve(a).pipe(Or())}));return ve(s).pipe(Or())}function C0(t,e,r,n,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ve(!0);let o=s.map(a=>{let l=xi(e)??i,c=Nr(a,l),d=f0(c)?c.canDeactivate(t,e,r,n):Qt(l,()=>c(t,e,r,n));return _n(d).pipe(Nt())});return ve(o).pipe(Or())}function E0(t,e,r,n){let i=e.canLoad;if(i===void 0||i.length===0)return ve(!0);let s=i.map(o=>{let a=Nr(o,t),l=u0(a)?a.canLoad(e,r):Qt(t,()=>a(e,r));return _n(l)});return ve(s).pipe(Or(),ep(n))}function ep(t){return Lo(tt(e=>{if(Tr(e))throw Qf(t,e)}),De(e=>e===!0))}function A0(t,e,r,n){let i=e.canMatch;if(!i||i.length===0)return ve(!0);let s=i.map(o=>{let a=Nr(o,t),l=p0(a)?a.canMatch(e,r):Qt(t,()=>a(e,r));return _n(l)});return ve(s).pipe(Or(),ep(n))}var Ai=class{constructor(e){this.segmentGroup=e||null}},po=class extends Error{constructor(e){super(),this.urlTree=e}};function Sr(t){return Zn(new Ai(t))}function S0(t){return Zn(new fe(4e3,!1))}function D0(t){return Zn(Kf(!1,Et.GuardRejected))}var gc=class{constructor(e,r){this.urlSerializer=e,this.urlTree=r}lineralizeSegments(e,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return ve(n);if(i.numberOfChildren>1||!i.children[_e])return S0(e.redirectTo);i=i.children[_e]}}applyRedirectCommands(e,r,n){let i=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,n);if(r.startsWith("/"))throw new po(i);return i}applyRedirectCreateUrlTree(e,r,n,i){let s=this.createSegmentGroup(e,r.root,n,i);return new vn(s,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){let n={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);n[i]=r[a]}else n[i]=s}),n}createSegmentGroup(e,r,n,i){let s=this.createSegments(e,r.segments,n,i),o={};return Object.entries(r.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,n,i)}),new Te(s,o)}createSegments(e,r,n,i){return r.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,n))}findPosParam(e,r,n){let i=n[r.path.substring(1)];if(!i)throw new fe(4001,!1);return i}findOrReturn(e,r){let n=0;for(let i of r){if(i.path===e.path)return r.splice(n),i;n++}return e}},mc={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function I0(t,e,r,n,i){let s=Ec(t,e,r);return s.matched?(n=n0(e,n),A0(n,e,r,i).pipe(De(o=>o===!0?s:ce({},mc)))):ve(s)}function Ec(t,e,r){if(e.path==="**")return x0(r);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||r.length>0)?ce({},mc):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let i=(e.matcher||E_)(r,t,e);if(!i)return ce({},mc);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?ce(ce({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function x0(t){return{matched:!0,parameters:t.length>0?Of(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Mf(t,e,r,n){return r.length>0&&P0(t,r,n)?{segmentGroup:new Te(e,T0(n,new Te(r,t.children))),slicedSegments:[]}:r.length===0&&R0(t,r,n)?{segmentGroup:new Te(t.segments,M0(t,r,n,t.children)),slicedSegments:r}:{segmentGroup:new Te(t.segments,t.children),slicedSegments:r}}function M0(t,e,r,n){let i={};for(let s of r)if(yo(t,e,s)&&!n[zt(s)]){let o=new Te([],{});i[zt(s)]=o}return ce(ce({},n),i)}function T0(t,e){let r={};r[_e]=e;for(let n of t)if(n.path===""&&zt(n)!==_e){let i=new Te([],{});r[zt(n)]=i}return r}function P0(t,e,r){return r.some(n=>yo(t,e,n)&&zt(n)!==_e)}function R0(t,e,r){return r.some(n=>yo(t,e,n))}function yo(t,e,r){return(t.hasChildren()||e.length>0)&&r.pathMatch==="full"?!1:r.path===""}function O0(t,e,r,n){return zt(t)!==n&&(n===_e||!yo(e,r,t))?!1:Ec(e,t,r).matched}function N0(t,e,r){return e.length===0&&!t.children[r]}var vc=class{};function L0(t,e,r,n,i,s,o="emptyOnly"){return new yc(t,e,r,n,i,o,s).recognize()}var k0=31,yc=class{constructor(e,r,n,i,s,o,a){this.injector=e,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new gc(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new fe(4002,`'${e.segmentGroup}'`)}recognize(){let e=Mf(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(De(r=>{let n=new Ci([],Object.freeze({}),Object.freeze(ce({},this.urlTree.queryParams)),this.urlTree.fragment,{},_e,this.rootComponentType,null,{}),i=new Ct(n,r),s=new ho("",i),o=H_(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,_e).pipe(an(n=>{if(n instanceof po)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Ai?this.noMatchError(n):n}))}inheritParamsAndData(e,r){let n=e.value,i=_c(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,n))}processSegmentGroup(e,r,n,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,r,n):this.processSegment(e,r,n,n.segments,i,!0).pipe(De(s=>s instanceof Ct?[s]:[]))}processChildren(e,r,n){let i=[];for(let s of Object.keys(n.children))s==="primary"?i.unshift(s):i.push(s);return Be(i).pipe(In(s=>{let o=n.children[s],a=r0(r,s);return this.processSegmentGroup(e,a,o,s)}),Wo((s,o)=>(s.push(...o),s)),ln(null),$o(),We(s=>{if(s===null)return Sr(n);let o=tp(s);return F0(o),ve(o)}))}processSegment(e,r,n,i,s,o){return Be(r).pipe(In(a=>this.processSegmentAgainstRoute(a._injector??e,r,a,n,i,s,o).pipe(an(l=>{if(l instanceof Ai)return ve(null);throw l}))),Nt(a=>!!a),an(a=>{if(Jf(a))return N0(n,i,s)?ve(new vc):Sr(n);throw a}))}processSegmentAgainstRoute(e,r,n,i,s,o,a){return O0(n,i,s,o)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,n,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,n,s,o):Sr(i):Sr(i)}expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:d}=Ec(r,i,s);if(!a)return Sr(r);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>k0&&(this.allowRedirects=!1));let u=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,u).pipe(We(h=>this.processSegment(e,n,r,h.concat(d),o,!1)))}matchSegmentAgainstRoute(e,r,n,i,s){let o=I0(r,n,i,e,this.urlSerializer);return n.path==="**"&&(r.children={}),o.pipe(At(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,i).pipe(At(({routes:l})=>{let c=n._loadedInjector??e,{consumedSegments:d,remainingSegments:u,parameters:h}=a,m=new Ci(d,h,Object.freeze(ce({},this.urlTree.queryParams)),this.urlTree.fragment,B0(n),zt(n),n.component??n._loadedComponent??null,n,V0(n)),{segmentGroup:f,slicedSegments:g}=Mf(r,d,u,l);if(g.length===0&&f.hasChildren())return this.processChildren(c,l,f).pipe(De(S=>S===null?null:new Ct(m,S)));if(l.length===0&&g.length===0)return ve(new Ct(m,[]));let y=zt(n)===s;return this.processSegment(c,l,f,g,y?_e:s,!0).pipe(De(S=>new Ct(m,S instanceof Ct?[S]:[])))}))):Sr(r)))}getChildConfig(e,r,n){return r.children?ve({routes:r.children,injector:e}):r.loadChildren?r._loadedRoutes!==void 0?ve({routes:r._loadedRoutes,injector:r._loadedInjector}):E0(e,r,n,this.urlSerializer).pipe(We(i=>i?this.configLoader.loadChildren(e,r).pipe(tt(s=>{r._loadedRoutes=s.routes,r._loadedInjector=s.injector})):D0(r))):ve({routes:[],injector:e})}};function F0(t){t.sort((e,r)=>e.value.outlet===_e?-1:r.value.outlet===_e?1:e.value.outlet.localeCompare(r.value.outlet))}function j0(t){let e=t.value.routeConfig;return e&&e.path===""}function tp(t){let e=[],r=new Set;for(let n of t){if(!j0(n)){e.push(n);continue}let i=e.find(s=>n.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...n.children),r.add(i)):e.push(n)}for(let n of r){let i=tp(n.children);e.push(new Ct(n.value,i))}return e.filter(n=>!r.has(n))}function B0(t){return t.data||{}}function V0(t){return t.resolve||{}}function U0(t,e,r,n,i,s){return We(o=>L0(t,e,r,n,o.extractedUrl,i,s).pipe(De(({state:a,tree:l})=>Fe(ce({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function H0(t,e){return We(r=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return ve(r);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of np(l))o.add(c);let a=0;return Be(o).pipe(In(l=>s.has(l)?$0(l,n,t,e):(l.data=_c(l,l.parent,t).resolve,ve(void 0))),tt(()=>a++),tr(1),We(l=>a===o.size?ve(r):gt))})}function np(t){let e=t.children.map(r=>np(r)).flat();return[t,...e]}function $0(t,e,r,n){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Yf(i)&&(s[Si]=i.title),W0(s,t,e,n).pipe(De(o=>(t._resolvedData=o,t.data=_c(t,t.parent,r).resolve,null)))}function W0(t,e,r,n){let i=Xl(t);if(i.length===0)return ve({});let s={};return Be(i).pipe(We(o=>z0(t[o],e,r,n).pipe(Nt(),tt(a=>{s[o]=a}))),tr(1),Ho(s),an(o=>Jf(o)?gt:Zn(o)))}function z0(t,e,r,n){let i=xi(e)??n,s=Nr(t,i),o=s.resolve?s.resolve(e,r):Qt(i,()=>s(e,r));return _n(o)}function ql(t){return At(e=>{let r=t(e);return r?Be(r).pipe(De(()=>e)):ve(e)})}var rp=(()=>{let e=class e{buildTitle(n){let i,s=n.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===_e);return i}getResolvedTitleForRoute(n){return n.data[Si]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:()=>oe(G0),providedIn:"root"});let t=e;return t})(),G0=(()=>{let e=class e extends rp{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ge(Cf))},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ti=new be("",{providedIn:"root",factory:()=>({})}),go=new be(""),Ac=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=oe(Ys)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ve(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=_n(n.loadComponent()).pipe(De(ip),tt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Ur(()=>{this.componentLoaders.delete(n)})),s=new Xn(i,()=>new Je).pipe(Yn());return this.componentLoaders.set(n,s),s}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=q0(i,this.compiler,n,this.onLoadEndListener).pipe(Ur(()=>{this.childrenLoaders.delete(i)})),a=new Xn(o,()=>new Je).pipe(Yn());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function q0(t,e,r,n){return _n(t.loadChildren()).pipe(De(ip),We(i=>i instanceof Jr||Array.isArray(i)?ve(i):Be(e.compileModuleAsync(i))),De(i=>{n&&n(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(r).injector,o=s.get(go,[],{optional:!0,self:!0}).flat()),{routes:o.map(Cc),injector:s}}))}function Y0(t){return t&&typeof t=="object"&&"default"in t}function ip(t){return Y0(t)?t.default:t}var Sc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:()=>oe(X0),providedIn:"root"});let t=e;return t})(),X0=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sp=new be(""),op=new be("");function Q0(t,e,r){let n=t.get(op),i=t.get(dt);return t.get(Ne).runOutsideAngular(()=>{if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),K0(t))),{onViewTransitionCreated:l}=n;return l&&Qt(t,()=>l({transition:a,from:e,to:r})),o})}function K0(t){return new Promise(e=>{yl(e,{injector:t})})}var Dc=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Je,this.transitionAbortSubject=new Je,this.configLoader=oe(Ac),this.environmentInjector=oe(bt),this.urlSerializer=oe(Di),this.rootContexts=oe(Ii),this.location=oe(Ar),this.inputBindingEnabled=oe(vo,{optional:!0})!==null,this.titleStrategy=oe(rp),this.options=oe(Ti,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=oe(Sc),this.createViewTransition=oe(sp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ve(void 0),this.rootComponentType=null;let n=s=>this.events.next(new rc(s)),i=s=>this.events.next(new ic(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(Fe(ce(ce({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,s){return this.transitions=new et({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:gi,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ut(o=>o.id!==0),De(o=>Fe(ce({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),At(o=>{let a=!1,l=!1;return ve(o).pipe(At(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Et.SupersededByNewNavigation),gt;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Fe(ce({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&u!=="reload"){let h="";return this.events.next(new bn(c.id,this.urlSerializer.serialize(c.rawUrl),h,oo.IgnoredSameUrlNavigation)),c.resolve(null),gt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ve(c).pipe(At(h=>{let m=this.transitions?.getValue();return this.events.next(new Pr(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),m!==this.transitions?.getValue()?gt:Promise.resolve(h)}),U0(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),tt(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=Fe(ce({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let m=new ao(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:m,source:f,restoredState:g,extras:y}=c,S=new Pr(h,this.urlSerializer.serialize(m),f,g);this.events.next(S);let A=Gf(this.rootComponentType).snapshot;return this.currentTransition=o=Fe(ce({},c),{targetSnapshot:A,urlAfterRedirects:m,extras:Fe(ce({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,ve(o)}else{let h="";return this.events.next(new bn(c.id,this.urlSerializer.serialize(c.extractedUrl),h,oo.IgnoredByUrlHandlingStrategy)),c.resolve(null),gt}}),tt(c=>{let d=new Jl(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),De(c=>(this.currentTransition=o=Fe(ce({},c),{guards:s0(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),g0(this.environmentInjector,c=>this.events.next(c)),tt(c=>{if(o.guardsResult=c.guardsResult,Tr(c.guardsResult))throw Qf(this.urlSerializer,c.guardsResult);let d=new ec(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(d)}),ut(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Et.GuardRejected),!1)),ql(c=>{if(c.guards.canActivateChecks.length)return ve(c).pipe(tt(d=>{let u=new tc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}),At(d=>{let u=!1;return ve(d).pipe(H0(this.paramsInheritanceStrategy,this.environmentInjector),tt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(d,"",Et.NoDataFromResolver)}}))}),tt(d=>{let u=new nc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(u)}))}),ql(c=>{let d=u=>{let h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(tt(m=>{u.component=m}),De(()=>{})));for(let m of u.children)h.push(...d(m));return h};return Vr(d(c.targetSnapshot.root)).pipe(ln(null),Yt(1))}),ql(()=>this.afterPreactivation()),At(()=>{let{currentSnapshot:c,targetSnapshot:d}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,d.root);return u?Be(u).pipe(De(()=>o)):ve(o)}),De(c=>{let d=K_(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=Fe(ce({},c),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),tt(()=>{this.events.next(new _i)}),i0(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Yt(1),tt({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new nn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),je(this.transitionAbortSubject.pipe(tt(c=>{throw c}))),Ur(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",Et.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),an(c=>{if(l=!0,Zf(c))this.events.next(new yn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),e0(c)?this.events.next(new wi(c.url)):o.resolve(!1);else{this.events.next(new bi(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return gt}))}))}cancelNavigationTransition(n,i,s){let o=new yn(n.id,this.urlSerializer.serialize(n.extractedUrl),i,s);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Z0(t){return t!==gi}var J0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:()=>oe(ew),providedIn:"root"});let t=e;return t})(),bc=class{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}},ew=(()=>{let e=class e extends bc{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=il(e)))(s||e)}})(),e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ap=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:()=>oe(tw),providedIn:"root"});let t=e;return t})(),tw=(()=>{let e=class e extends ap{constructor(){super(...arguments),this.location=oe(Ar),this.urlSerializer=oe(Di),this.options=oe(Ti,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=oe(Sc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new vn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Gf(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Pr)this.stateMemento=this.createStateMemento();else if(n instanceof bn)this.rawUrlTree=i.initialUrl;else if(n instanceof ao){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else n instanceof _i?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof yn&&(n.code===Et.GuardRejected||n.code===Et.NoDataFromResolver)?this.restoreHistory(i):n instanceof bi?this.restoreHistory(i,!0):n instanceof nn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let s=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=ce(ce({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=ce(ce({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=il(e)))(s||e)}})(),e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fi=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(fi||{});function lp(t,e){t.events.pipe(ut(r=>r instanceof nn||r instanceof yn||r instanceof bi||r instanceof bn),De(r=>r instanceof nn||r instanceof bn?fi.COMPLETE:(r instanceof yn?r.code===Et.Redirect||r.code===Et.SupersededByNewNavigation:!1)?fi.REDIRECTING:fi.FAILED),ut(r=>r!==fi.REDIRECTING),Yt(1)).subscribe(()=>{e()})}function nw(t){throw t}var rw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=oe(Ws),this.stateManager=oe(ap),this.options=oe(Ti,{optional:!0})||{},this.pendingTasks=oe(Us),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=oe(Dc),this.urlSerializer=oe(Di),this.location=oe(Ar),this.urlHandlingStrategy=oe(Sc),this._events=new Je,this.errorHandler=this.options.errorHandler||nw,this.navigated=!1,this.routeReuseStrategy=oe(J0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=oe(go,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!oe(vo,{optional:!0}),this.eventsSubscription=new Ge,this.isNgZoneEnabled=oe(Ne)instanceof Ne&&Ne.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof yn&&i.code!==Et.Redirect&&i.code!==Et.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof nn)this.navigated=!0;else if(i instanceof wi){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Z0(s.source)};this.scheduleNavigation(a,gi,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}ow(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),gi,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=ce({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(n);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Cc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,d=c?this.currentUrlTree.fragment:a,u=null;switch(l){case"merge":u=ce(ce({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let m=s?s.snapshot:this.routerState.snapshot.root;h=Hf(m)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),h=this.currentUrlTree.root}return $f(h,n,u,d??null)}navigateByUrl(n,i={skipLocationChange:!1}){let s=Tr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,gi,null,i)}navigate(n,i={skipLocationChange:!1}){return sw(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let s;if(i===!0?s=ce({},rw):i===!1?s=ce({},iw):s=i,Tr(n))return Af(this.currentUrlTree,n,s);let o=this.parseUrl(n);return Af(this.currentUrlTree,o,s)}removeEmptyProps(n){return Object.entries(n).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(n,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,d;a?(l=a.resolve,c=a.reject,d=a.promise):d=new Promise((h,m)=>{l=h,c=m});let u=this.pendingTasks.add();return lp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:l,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sw(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new fe(4008,!1)}function ow(t){return!(t instanceof _i)&&!(t instanceof wi)}var mo=class{};var aw=(()=>{let e=class e{constructor(n,i,s,o,a){this.router=n,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ut(n=>n instanceof nn),In(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Vs(o.providers,n,`Route: ${o.path}`));let a=o._injector??n,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Be(s).pipe(Jn())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(n,i):s=ve(null);let o=s.pipe(We(a=>a===null?ve(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Be([o,a]).pipe(Jn())}else return o})}};e.\u0275fac=function(i){return new(i||e)(ge(Vn),ge(Ys),ge(bt),ge(mo),ge(Ac))},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cp=new be(""),lw=(()=>{let e=class e{constructor(n,i,s,o,a={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Pr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof nn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof bn&&n.code===oo.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof lo&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new lo(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){wh()},e.\u0275prov=pe({token:e,factory:e.\u0275fac});let t=e;return t})();function cw(t){return t.routerState.root}function Pi(t,e){return{\u0275kind:t,\u0275providers:e}}function uw(){let t=oe($t);return e=>{let r=t.get(Er);if(e!==r.components[0])return;let n=t.get(Vn),i=t.get(up);t.get(Ic)===1&&n.initialNavigation(),t.get(dp,null,we.Optional)?.setUpPreloading(),t.get(cp,null,we.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var up=new be("",{factory:()=>new Je}),Ic=new be("",{providedIn:"root",factory:()=>1});function dw(){return Pi(2,[{provide:Ic,useValue:0},{provide:qs,multi:!0,deps:[$t],useFactory:e=>{let r=e.get(af,Promise.resolve());return()=>r.then(()=>new Promise(n=>{let i=e.get(Vn),s=e.get(up);lp(i,()=>{n(!0)}),e.get(Dc).afterPreactivation=()=>(n(!0),s.closed?ve(void 0):s),i.initialNavigation()}))}}])}function hw(){return Pi(3,[{provide:qs,multi:!0,useFactory:()=>{let e=oe(Vn);return()=>{e.setUpLocationChangeListener()}}},{provide:Ic,useValue:2}])}var dp=new be("");function fw(t){return Pi(0,[{provide:dp,useExisting:aw},{provide:mo,useExisting:t}])}function pw(){return Pi(8,[xf,{provide:vo,useExisting:xf}])}function gw(t){let e=[{provide:sp,useValue:Q0},{provide:op,useValue:ce({skipNextTransition:!!t?.skipInitialTransition},t)}];return Pi(9,e)}var Tf=new be("ROUTER_FORROOT_GUARD"),mw=[Ar,{provide:Di,useClass:vi},Vn,Ii,{provide:Rr,useFactory:cw,deps:[Vn]},Ac,[]],xc=(()=>{let e=class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[mw,[],{provide:go,multi:!0,useValue:n},{provide:Tf,useFactory:_w,deps:[[Vn,new $a,new ld]]},{provide:Ti,useValue:i||{}},i?.useHash?yw():bw(),vw(),i?.preloadingStrategy?fw(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?ww(i):[],i?.bindToComponentInputs?pw().\u0275providers:[],i?.enableViewTransitions?gw().\u0275providers:[],Cw()]}}static forChild(n){return{ngModule:e,providers:[{provide:go,multi:!0,useValue:n}]}}};e.\u0275fac=function(i){return new(i||e)(ge(Tf,8))},e.\u0275mod=wt({type:e}),e.\u0275inj=_t({});let t=e;return t})();function vw(){return{provide:cp,useFactory:()=>{let t=oe(hf),e=oe(Ne),r=oe(Ti),n=oe(Dc),i=oe(Di);return r.scrollOffset&&t.setOffset(r.scrollOffset),new lw(i,n,t,e,r)}}}function yw(){return{provide:Fn,useClass:cf}}function bw(){return{provide:Fn,useClass:Ol}}function _w(t){return"guarded"}function ww(t){return[t.initialNavigation==="disabled"?hw().\u0275providers:[],t.initialNavigation==="enabledBlocking"?dw().\u0275providers:[]]}var Pf=new be("");function Cw(){return[{provide:Pf,useFactory:uw},{provide:Dl,multi:!0,useExisting:Pf}]}var Ew=[],hp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=wt({type:e}),e.\u0275inj=_t({imports:[xc.forRoot(Ew),xc]});let t=e;return t})();var ht=kc(Tc(),1),rt=kc(yp(),1);var Aw=["pdfViewerContainer"];function Sw(t,e){let r=new t.EventBus;return Dw(r,e),r}function Dw(t,e){Ve(t,"documentload").pipe(je(e)).subscribe(()=>{let r=document.createEvent("CustomEvent");r.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(r)}),Ve(t,"pagerendered").pipe(je(e)).subscribe(({pageNumber:r,cssTransform:n,source:i})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("pagerendered",!0,!0,{pageNumber:r,cssTransform:n}),i.div.dispatchEvent(s)}),Ve(t,"textlayerrendered").pipe(je(e)).subscribe(({pageNumber:r,source:n})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:r}),n.textLayerDiv.dispatchEvent(i)}),Ve(t,"pagechanging").pipe(je(e)).subscribe(({pageNumber:r,source:n})=>{let i=document.createEvent("UIEvents");i.initEvent("pagechanging",!0,!0),i.pageNumber=r,n.container.dispatchEvent(i)}),Ve(t,"pagesinit").pipe(je(e)).subscribe(({source:r})=>{let n=document.createEvent("CustomEvent");n.initCustomEvent("pagesinit",!0,!0,null),r.container.dispatchEvent(n)}),Ve(t,"pagesloaded").pipe(je(e)).subscribe(({pagesCount:r,source:n})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("pagesloaded",!0,!0,{pagesCount:r}),n.container.dispatchEvent(i)}),Ve(t,"scalechange").pipe(je(e)).subscribe(({scale:r,presetValue:n,source:i})=>{let s=document.createEvent("UIEvents");s.initEvent("scalechange",!0,!0),s.scale=r,s.presetValue=n,i.container.dispatchEvent(s)}),Ve(t,"updateviewarea").pipe(je(e)).subscribe(({location:r,source:n})=>{let i=document.createEvent("UIEvents");i.initEvent("updateviewarea",!0,!0),i.location=r,n.container.dispatchEvent(i)}),Ve(t,"find").pipe(je(e)).subscribe(({source:r,type:n,query:i,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l})=>{if(r===window)return;let c=document.createEvent("CustomEvent");c.initCustomEvent("find"+n,!0,!0,{query:i,phraseSearch:s,caseSensitive:o,highlightAll:a,findPrevious:l}),window.dispatchEvent(c)}),Ve(t,"attachmentsloaded").pipe(je(e)).subscribe(({attachmentsCount:r,source:n})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:r}),n.container.dispatchEvent(i)}),Ve(t,"sidebarviewchanged").pipe(je(e)).subscribe(({view:r,source:n})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("sidebarviewchanged",!0,!0,{view:r}),n.outerContainer.dispatchEvent(i)}),Ve(t,"pagemode").pipe(je(e)).subscribe(({mode:r,source:n})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("pagemode",!0,!0,{mode:r}),n.pdfViewer.container.dispatchEvent(i)}),Ve(t,"namedaction").pipe(je(e)).subscribe(({action:r,source:n})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("namedaction",!0,!0,{action:r}),n.pdfViewer.container.dispatchEvent(i)}),Ve(t,"presentationmodechanged").pipe(je(e)).subscribe(({active:r,switchInProgress:n})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("presentationmodechanged",!0,!0,{active:r,switchInProgress:n}),window.dispatchEvent(i)}),Ve(t,"outlineloaded").pipe(je(e)).subscribe(({outlineCount:r,source:n})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("outlineloaded",!0,!0,{outlineCount:r}),n.container.dispatchEvent(i)})}function Rc(t,e,r){t[e]=r}function Ri(){return typeof window>"u"}Ri()||Rc(ht,"verbosity",ht.VerbosityLevel.INFOS);var _o=function(t){return t[t.DISABLED=0]="DISABLED",t[t.ENABLED=1]="ENABLED",t[t.ENHANCED=2]="ENHANCED",t}(_o||{}),bp=(()=>{class t{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof ht<"u"?`https://unpkg.com/pdfjs-dist@${ht.version}/cmaps/`:null;_imageResourcesPath=typeof ht<"u"?`https://unpkg.com/pdfjs-dist@${ht.version}/web/images/`:void 0;_renderText=!0;_renderTextMode=_o.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;resizeTimeout=null;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new Je;afterLoadComplete=new Ue;pageRendered=new Ue;pageInitialized=new Ue;textLayerRendered=new Ue;onError=new Ue;onProgress=new Ue;pageChange=new Ue(!0);src;set cMapsUrl(r){this._cMapsUrl=r}set page(r){r=parseInt(r,10)||1;let n=r;this._pdf&&(r=this.getValidPageNumber(r)),this._page=r,n!==r&&this.pageChange.emit(r)}set renderText(r){this._renderText=r}set renderTextMode(r){this._renderTextMode=r}set originalSize(r){this._originalSize=r}set showAll(r){this._showAll=r}set stickToPage(r){this._stickToPage=r}set zoom(r){r<=0||(this._zoom=r)}get zoom(){return this._zoom}set zoomScale(r){this._zoomScale=r}get zoomScale(){return this._zoomScale}set rotation(r){if(!(typeof r=="number"&&r%90===0)){console.warn("Invalid pages rotation angle.");return}this._rotation=r}set externalLinkTarget(r){this._externalLinkTarget=r}set autoresize(r){this._canAutoResize=!!r}set fitToPage(r){this._fitToPage=!!r}set showBorders(r){this._showBorders=!!r}static getLinkTarget(r){switch(r){case"blank":return rt.LinkTarget.BLANK;case"none":return rt.LinkTarget.NONE;case"self":return rt.LinkTarget.SELF;case"parent":return rt.LinkTarget.PARENT;case"top":return rt.LinkTarget.TOP}return null}constructor(r,n){if(this.element=r,this.ngZone=n,Ri())return;let i,s=ht.version,o=window[`pdfWorkerSrc${s}`];o?i=o:window.hasOwnProperty("pdfWorkerSrc")&&typeof window.pdfWorkerSrc=="string"&&window.pdfWorkerSrc?i=window.pdfWorkerSrc:i=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${s}/legacy/build/pdf.worker.min.js`,Rc(ht.GlobalWorkerOptions,"workerSrc",i)}ngAfterViewChecked(){if(this.isInitialized)return;let r=this.pdfViewerContainer.nativeElement.offsetParent;if(this.isVisible===!0&&r==null){this.isVisible=!1;return}this.isVisible===!1&&r!=null&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})}))}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(r){if(!(Ri()||!this.isVisible)){if("src"in r)this.loadPDF();else if(this._pdf){if("renderText"in r?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:_o.DISABLED,this.resetPdfDocument()):"showAll"in r&&(this.setupViewer(),this.resetPdfDocument()),"page"in r){let{page:n}=r;if(n.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}}updateSize(){Be(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(je(this.destroy$)).subscribe({next:r=>{let n=this._rotation+r.rotate,i=r.getViewport({scale:this._zoom,rotation:n}).width*t.CSS_UNITS,s=this._zoom,o=!0;if(!this._originalSize||this._fitToPage&&i>this.pdfViewerContainer.nativeElement.clientWidth){let a=r.getViewport({scale:1,rotation:n});s=this.getScale(a.width,a.height),o=!this._stickToPage}this.pdfViewer._setScale(s,o)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){let r=t.getLinkTarget(this._externalLinkTarget);return r?{externalLinkTarget:r}:{}}initEventBus(){this.eventBus=Sw(rt,this.destroy$),Ve(this.eventBus,"pagerendered").pipe(je(this.destroy$)).subscribe(r=>{this.pageRendered.emit(r)}),Ve(this.eventBus,"pagesinit").pipe(je(this.destroy$)).subscribe(r=>{this.pageInitialized.emit(r)}),Ve(this.eventBus,"pagechanging").pipe(je(this.destroy$)).subscribe(({pageNumber:r})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=r,this.pageChange.emit(r)},100)}),Ve(this.eventBus,"textlayerrendered").pipe(je(this.destroy$)).subscribe(r=>{this.textLayerRendered.emit(r)})}initPDFServices(){this.pdfLinkService=new rt.PDFLinkService(ce({eventBus:this.eventBus},this.getPDFLinkServiceConfig())),this.pdfFindController=new rt.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:_o.DISABLED,findController:this.pdfFindController,l10n:new rt.GenericL10n("en"),imageResourcesPath:this._imageResourcesPath}}setupViewer(){Rc(ht,"disableTextLayer",!this._renderText),this.initPDFServices(),this._showAll?this.pdfViewer=new rt.PDFViewer(this.getPDFOptions()):this.pdfViewer=new rt.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(r){return r<1?1:r>this._pdf.numPages?this._pdf.numPages:r}getDocumentParams(){let r=typeof this.src;if(!this._cMapsUrl)return this.src;let n={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return r==="string"?n.url=this.src:r==="object"&&(this.src.byteLength!==void 0?n.data=this.src:Object.assign(n,this.src)),n}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src){this.update();return}this.clear(),this.setupViewer(),this.loadingTask=ht.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=n=>{this.onProgress.emit(n)};let r=this.src;Be(this.loadingTask.promise).pipe(je(this.destroy$)).subscribe({next:n=>{this._pdf=n,this.lastLoaded=r,this.afterLoadComplete.emit(n),this.resetPdfDocument(),this.update()},error:n=>{this.lastLoaded=null,this.onError.emit(n)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(this._rotation!==0||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(r,n){let i=this._showBorders?2*t.BORDER_WIDTH:0,s=this.pdfViewerContainer.nativeElement.clientWidth-i,o=this.pdfViewerContainer.nativeElement.clientHeight-i;if(o===0||n===0||s===0||r===0)return 1;let a=1;switch(this._zoomScale){case"page-fit":a=Math.min(o/n,s/r);break;case"page-height":a=o/n;break;case"page-width":default:a=s/r;break}return this._zoom*a/t.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){Ri()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){Ri()||this.ngZone.runOutsideAngular(()=>{Ve(window,"resize").pipe(Uo(100),ut(()=>this._canAutoResize&&!!this._pdf),je(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(n){return new(n||t)(wr(en),wr(Ne))};static \u0275cmp=vr({type:t,selectors:[["pdf-viewer"]],viewQuery:function(n,i){if(n&1&&Hh(Aw,5),n&2){let s;Cl(s=El())&&(i.pdfViewerContainer=s.first)}},inputs:{src:"src",cMapsUrl:[Xe.None,"c-maps-url","cMapsUrl"],page:"page",renderText:[Xe.None,"render-text","renderText"],renderTextMode:[Xe.None,"render-text-mode","renderTextMode"],originalSize:[Xe.None,"original-size","originalSize"],showAll:[Xe.None,"show-all","showAll"],stickToPage:[Xe.None,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[Xe.None,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[Xe.None,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[Xe.None,"fit-to-page","fitToPage"],showBorders:[Xe.None,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[yr],decls:3,vars:0,consts:[["pdfViewerContainer",""],[1,"ng2-pdf-viewer-container"],[1,"pdfViewer"]],template:function(n,i){n&1&&(Hs(0,"div",1,0),Nn(2,"div",2),$s())},styles:[`.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}`]})}return t})(),_p=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=wt({type:t});static \u0275inj=_t({})}return t})();var wp=(()=>{let e=class e{constructor(){this.title="ramsesapp"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=vr({type:e,selectors:[["app-root"]],decls:1,vars:6,consts:[["src","https://raw.githubusercontent.com/ramsesrest/menu/7fc183ad76f0eaaf272eb7a51c0d2806c8834e33/ramses_menu.pdf",2,"width","100%","height","100svh","position","unset",3,"rotation","original-size","show-all","fit-to-page","autoresize","show-borders"]],template:function(i,s){i&1&&Nn(0,"pdf-viewer",0),i&2&&wl("rotation",0)("original-size",!0)("show-all",!0)("fit-to-page",!0)("autoresize",!0)("show-borders",!1)},dependencies:[bp]});let t=e;return t})();var Cp=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=wt({type:e,bootstrap:[wp]}),e.\u0275inj=_t({imports:[wf,hp,_p]});let t=e;return t})();_f().bootstrapModule(Cp).catch(t=>console.error(t));
